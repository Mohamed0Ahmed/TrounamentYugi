"use strict";(self.webpackChunkYugiTournamnet=self.webpackChunkYugiTournamnet||[]).push([[949],{949:(y,p,a)=>{a.r(p),a.d(p,{AuthModule:()=>C});var l=a(177),d=a(6878),e=a(540),g=a(8010),c=a(5794),r=a(4341);function b(n,m){if(1&n){const t=e.RV6();e.j41(0,"div",14)(1,"label",15),e.EFF(2," \u0627\u0644\u0625\u064a\u0645\u064a\u0644 "),e.k0s(),e.j41(3,"input",16),e.bIt("ngModelChange",function(u){e.eBV(t);const s=e.XpG();return e.Njj(s.email=u)}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngModel",t.email)}}function f(n,m){if(1&n){const t=e.RV6();e.j41(0,"div",14)(1,"label",17),e.EFF(2," \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646 "),e.k0s(),e.j41(3,"input",18),e.bIt("ngModelChange",function(u){e.eBV(t);const s=e.XpG();return e.Njj(s.phoneNumber=u)}),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(3),e.Y8G("ngModel",t.phoneNumber)}}function w(n,m){if(1&n){const t=e.RV6();e.j41(0,"div",19)(1,"div",20)(2,"h2",21),e.EFF(3,"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"),e.k0s(),e.j41(4,"label",22),e.EFF(5,"\u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646"),e.k0s(),e.j41(6,"input",23),e.bIt("ngModelChange",function(u){e.eBV(t);const s=e.XpG();return e.Njj(s.resetPhoneNumber=u)}),e.k0s(),e.j41(7,"label",22),e.EFF(8,"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629"),e.k0s(),e.j41(9,"input",24),e.bIt("ngModelChange",function(u){e.eBV(t);const s=e.XpG();return e.Njj(s.newPassword=u)}),e.k0s(),e.j41(10,"div",25)(11,"button",26),e.bIt("click",function(){e.eBV(t);const u=e.XpG();return e.Njj(u.resetPassword())}),e.EFF(12," \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u0639\u064a\u064a\u0646 "),e.k0s(),e.j41(13,"button",27),e.bIt("click",function(){e.eBV(t);const u=e.XpG();return e.Njj(u.closeResetPasswordModal())}),e.EFF(14," \u0625\u0644\u063a\u0627\u0621 "),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(6),e.Y8G("ngModel",t.resetPhoneNumber),e.R7$(3),e.Y8G("ngModel",t.newPassword)}}const h=function(n){return{"border border-green-500 shadow-2xl shadow-green-400":n}},_=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t,o){this.authService=t,this.toastr=o,this.email="",this.phoneNumber="",this.password="",this.isAdminLogin=!1,this.isResetPasswordModalOpen=!1,this.resetPhoneNumber="",this.newPassword=""}toggleLoginType(){this.isAdminLogin=!this.isAdminLogin,this.email="",this.phoneNumber="",this.password=""}login(){if(this.isAdminLogin){if(!this.email||!this.password)return void this.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0627\u0644\u0625\u064a\u0645\u064a\u0644 \u0648\u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f");this.authService.login(this.email,this.password).subscribe({next:t=>{t.success?this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0646\u062c\u0627\u062d"):this.toastr.error(t.message)},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"),console.error(t)}})}else{if(!this.phoneNumber||!this.password)return void this.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646 \u0648\u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f");this.authService.playerLogin(this.phoneNumber,this.password).subscribe({next:t=>{t.success?this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0646\u062c\u0627\u062d"):this.toastr.error(t.message)},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"),console.error(t)}})}}openResetPasswordModal(){this.isResetPasswordModalOpen=!0}closeResetPasswordModal(){this.isResetPasswordModalOpen=!1,this.resetPhoneNumber="",this.newPassword=""}resetPassword(){this.resetPhoneNumber&&this.newPassword?this.authService.resetPassword(this.resetPhoneNumber,this.newPassword).subscribe({next:t=>{t.success?(this.toastr.success("\u062a\u0645\u062a \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0628\u0646\u062c\u0627\u062d"),this.closeResetPasswordModal()):this.toastr.error(t.message)},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"),console.error(t)}}):this.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646 \u0648\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629")}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(g.u),e.rXU(c.tw))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-login"]],decls:21,vars:10,consts:[[1,"container","mx-auto","p-4","max-w-md","mt-10"],[1,"text-2xl","font-bold","text-center","mb-6"],[1,"flex","justify-center","mb-4"],[1,"bg-gray-200","px-4","py-2","rounded-l-md",3,"ngClass","click"],[1,"bg-gray-200","px-4","py-2","rounded-r-md",3,"ngClass","click"],[1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","mb-4",3,"ngSubmit"],["class","mb-4",4,"ngIf"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","password","id","password","type","password","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],[1,"flex","flex-col","items-center"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"],["type","button",1,"mt-2","text-blue-500","hover:underline","text-sm",3,"click"],["class","fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",4,"ngIf"],[1,"mb-4"],["for","email",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","email","id","email","type","email","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0644\u0625\u064a\u0645\u064a\u0644",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],["for","phoneNumber",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","phoneNumber","id","phoneNumber","type","text","placeholder","\u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],[1,"fixed","inset-0","flex","items-center","justify-center","bg-black","bg-opacity-50"],[1,"bg-white","p-6","rounded","shadow-lg","max-w-sm","w-full"],[1,"text-xl","font-bold","mb-4","text-center"],[1,"block","text-gray-700","text-sm","font-bold","mb-2"],["type","text","placeholder","\u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646",1,"w-full","px-3","py-2","border","rounded","mb-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModel","ngModelChange"],["type","password","placeholder","\u0623\u062f\u062e\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062c\u062f\u064a\u062f\u0629",1,"w-full","px-3","py-2","border","rounded","mb-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModel","ngModelChange"],[1,"flex","justify-between","mt-4"],[1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded",3,"click"],[1,"bg-gray-400","hover:bg-gray-600","text-white","font-bold","py-2","px-4","rounded",3,"click"]],template:function(o,u){1&o&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"),e.k0s(),e.j41(3,"div",2)(4,"button",3),e.bIt("click",function(){return u.toggleLoginType()}),e.EFF(5," Admin "),e.k0s(),e.j41(6,"button",4),e.bIt("click",function(){return u.toggleLoginType()}),e.EFF(7," Player "),e.k0s()(),e.j41(8,"form",5),e.bIt("ngSubmit",function(){return u.login()}),e.DNE(9,b,4,1,"div",6),e.DNE(10,f,4,1,"div",6),e.j41(11,"div",7)(12,"label",8),e.EFF(13," \u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f "),e.k0s(),e.j41(14,"input",9),e.bIt("ngModelChange",function(i){return u.password=i}),e.k0s()(),e.j41(15,"div",10)(16,"button",11),e.EFF(17," \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),e.k0s(),e.j41(18,"button",12),e.bIt("click",function(){return u.openResetPasswordModal()}),e.EFF(19," \u0647\u0644 \u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631\u061f "),e.k0s()()()(),e.DNE(20,w,15,2,"div",13)),2&o&&(e.R7$(4),e.Y8G("ngClass",e.eq3(6,h,u.isAdminLogin)),e.R7$(2),e.Y8G("ngClass",e.eq3(8,h,!u.isAdminLogin)),e.R7$(3),e.Y8G("ngIf",u.isAdminLogin),e.R7$(1),e.Y8G("ngIf",!u.isAdminLogin),e.R7$(4),e.Y8G("ngModel",u.password),e.R7$(6),e.Y8G("ngIf",u.isResetPasswordModalOpen))},dependencies:[l.YU,l.bT,r.qT,r.me,r.BC,r.cb,r.vS,r.cV]})}}return n})()},{path:"register",component:(()=>{class n{constructor(t,o,u){this.authService=t,this.toastr=o,this.router=u,this.phoneNumber="",this.password="",this.firstName="",this.lastName=""}register(){this.phoneNumber&&this.password&&this.firstName&&this.lastName?this.authService.register(this.phoneNumber,this.password,this.firstName,this.lastName).subscribe({next:t=>{t.success?(this.toastr.success("\u062a\u0645 \u0627\u0644\u062a\u0633\u062c\u064a\u0644 \u0628\u0646\u062c\u0627\u062d\u060c \u0633\u062c\u0644 \u062f\u062e\u0648\u0644 \u0627\u0644\u0622\u0646"),this.router.navigate(["/auth/login"])):this.toastr.error(t.message)},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u062a\u0633\u062c\u064a\u0644"),console.error(t)}}):this.toastr.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062f\u062e\u0644 \u0643\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a")}static{this.\u0275fac=function(o){return new(o||n)(e.rXU(g.u),e.rXU(c.tw),e.rXU(d.Ix))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-register"]],decls:23,vars:4,consts:[[1,"container","mx-auto","p-4","max-w-md","mt-10"],[1,"text-2xl","font-bold","text-center","mb-6"],[1,"bg-white","shadow-md","rounded","px-8","pt-6","pb-8","mb-4",3,"ngSubmit"],[1,"mb-4"],["for","firstName",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","firstName","id","firstName","type","text","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],["for","lastName",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","lastName","id","lastName","type","text","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062e\u064a\u0631",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],["for","phoneNumber",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","phoneNumber","id","phoneNumber","type","text","placeholder","\u0623\u062f\u062e\u0644 \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","password","id","password","type","password","placeholder","\u0623\u062f\u062e\u0644 \u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModel","ngModelChange"],[1,"flex","items-center","justify-center"],["type","submit",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"]],template:function(o,u){1&o&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"\u062a\u0633\u062c\u064a\u0644 \u0644\u0627\u0639\u0628 \u062c\u062f\u064a\u062f"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return u.register()}),e.j41(4,"div",3)(5,"label",4),e.EFF(6," \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644 "),e.k0s(),e.j41(7,"input",5),e.bIt("ngModelChange",function(i){return u.firstName=i}),e.k0s()(),e.j41(8,"div",3)(9,"label",6),e.EFF(10," \u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062e\u064a\u0631 "),e.k0s(),e.j41(11,"input",7),e.bIt("ngModelChange",function(i){return u.lastName=i}),e.k0s()(),e.j41(12,"div",3)(13,"label",8),e.EFF(14," \u0631\u0642\u0645 \u0627\u0644\u062a\u0644\u064a\u0641\u0648\u0646 "),e.k0s(),e.j41(15,"input",9),e.bIt("ngModelChange",function(i){return u.phoneNumber=i}),e.k0s()(),e.j41(16,"div",10)(17,"label",11),e.EFF(18," \u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f "),e.k0s(),e.j41(19,"input",12),e.bIt("ngModelChange",function(i){return u.password=i}),e.k0s()(),e.j41(20,"div",13)(21,"button",14),e.EFF(22," \u062a\u0633\u062c\u064a\u0644 "),e.k0s()()()()),2&o&&(e.R7$(7),e.Y8G("ngModel",u.firstName),e.R7$(4),e.Y8G("ngModel",u.lastName),e.R7$(4),e.Y8G("ngModel",u.phoneNumber),e.R7$(4),e.Y8G("ngModel",u.password))},dependencies:[r.qT,r.me,r.BC,r.cb,r.vS,r.cV]})}}return n})()}];let x=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(_),d.iI]})}}return n})(),C=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[l.MD,x,r.YN]})}}return n})()}}]);