"use strict";(self.webpackChunkYugiTournamnet=self.webpackChunkYugiTournamnet||[]).push([[792],{9184:(P,M,r)=>{r.d(M,{Y:()=>T});var e=r(8450),u=r(6375),t=r(4285),y=r(9706),C=r(316),m=r(4456);const D=["messagesContainer"];function n(b,E){1&b&&(e.j41(0,"div",9),e.EFF(1," No messages here \u{1f4ed} "),e.k0s())}function s(b,E){if(1&b&&(e.j41(0,"span",16),e.EFF(1),e.k0s()),2&b){const i=e.XpG().$implicit;e.R7$(1),e.SpI(" ",i.unreadCount," ")}}function h(b,E){if(1&b){const i=e.RV6();e.j41(0,"div",12),e.bIt("click",function(){const v=e.eBV(i).$implicit,A=e.XpG(2);return e.Njj(A.openChat(v.senderId))}),e.j41(1,"div")(2,"p",13),e.EFF(3),e.k0s(),e.j41(4,"p",14),e.EFF(5),e.k0s()(),e.DNE(6,s,2,1,"span",15),e.k0s()}if(2&b){const i=E.$implicit;e.R7$(3),e.JRh(i.senderFullName),e.R7$(2),e.JRh(i.lastMessage),e.R7$(1),e.Y8G("ngIf",i.unreadCount>0)}}function p(b,E){if(1&b&&(e.j41(0,"div",10),e.DNE(1,h,7,3,"div",11),e.k0s()),2&b){const i=e.XpG();e.R7$(1),e.Y8G("ngForOf",i.playerChats)("ngForTrackBy",i.trackByPlayerId)}}const x=function(b,E){return{"text-right":b,"text-left":E}},w=function(b,E){return{"bg-green-700":b,"bg-gray-700 ":E}};function U(b,E){if(1&b&&(e.j41(0,"div",31)(1,"div",32)(2,"p",33),e.EFF(3),e.k0s(),e.j41(4,"p",34),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&b){const i=E.$implicit;e.Y8G("ngClass",e.l_i(7,x,!i.isFromAdmin,i.isFromAdmin)),e.R7$(1),e.Y8G("ngClass",e.l_i(10,w,!i.isFromAdmin,i.isFromAdmin)),e.R7$(2),e.JRh(i.content),e.R7$(2),e.SpI(" ",e.i5U(6,4,i.sentAt,"MMM d, y, hh:mm a")," ")}}const S=function(b){return{"sm:left-1/3":b}},L=function(){return{standalone:!0}};function B(b,E){if(1&b){const i=e.RV6();e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"button",20),e.bIt("click",function(){e.eBV(i);const g=e.XpG();return e.Njj(g.closeChat())}),e.nrm(4,"i",21),e.k0s(),e.j41(5,"div")(6,"p",22),e.EFF(7),e.k0s(),e.j41(8,"p",23),e.EFF(9),e.k0s()()()(),e.j41(10,"div",24,25),e.DNE(12,U,7,13,"div",26),e.k0s(),e.j41(13,"div",27)(14,"form",28),e.bIt("ngSubmit",function(){e.eBV(i);const g=e.XpG();return e.Njj(g.sendReply())}),e.j41(15,"input",29),e.bIt("ngModelChange",function(g){e.eBV(i);const v=e.XpG();return e.Njj(v.replyMessages[v.selectedChat.messages[0].id]=g)})("ngModelChange",function(g){e.eBV(i);const v=e.XpG();return e.Njj(v.replyMessages[v.selectedChat.messages[0].id]=g)}),e.k0s(),e.j41(16,"button",30),e.EFF(17," Reply "),e.k0s()()()()}if(2&b){const i=e.XpG();e.R7$(1),e.xc7("top",i.navbarHeight,"px"),e.Y8G("ngClass",e.eq3(13,S,i.selectedChat)),e.R7$(6),e.SpI(" ",i.selectedChat.senderFullName," "),e.R7$(2),e.SpI(" ",i.selectedChat.senderPhoneNumber," "),e.R7$(1),e.xc7("margin-top",i.navbarHeight+80,"px"),e.R7$(2),e.Y8G("ngForOf",i.selectedChat.messages)("ngForTrackBy",i.trackByMessageId),e.R7$(1),e.Y8G("ngClass",e.eq3(15,S,i.selectedChat)),e.R7$(2),e.Y8G("ngModel",i.replyMessages[i.selectedChat.messages[0].id])("ngModelOptions",e.lJ4(17,L)),e.R7$(1),e.Y8G("disabled",!i.replyMessages[i.selectedChat.messages[0].id])}}function _(b,E){1&b&&(e.j41(0,"div",35),e.EFF(1," Select a chat to view messages \u{1f4e9} "),e.k0s())}const O=function(b){return{hidden:b}},I=function(b,E){return{block:b,"hidden sm:flex":E}};let T=(()=>{class b{constructor(i,d,g,v){this.messageService=i,this.toastr=d,this.cdr=g,this.adminDashboardService=v,this.playerChats=[],this.selectedPlayerId=null,this.selectedChat=null,this.replyMessages={},this.navbarHeight=60}ngOnInit(){this.loadAdminMessages()}ngOnDestroy(){this.updateStatusSubscription&&this.updateStatusSubscription.unsubscribe(),this.refreshSubscription&&this.refreshSubscription.unsubscribe()}loadAdminMessages(){this.loadFromServer()}loadFromCache(){this.loadFromServer()}loadFromServer(){this.adminDashboardService.getSecondaryData("messages").subscribe({next:i=>{if(i&&i.length>0){const d=this.groupMessagesBySender(i);this.playerChats=d.sort((g,v)=>new Date(v.lastMessageDate).getTime()-new Date(g.lastMessageDate).getTime())}else this.toastr.error("\u0644\u0627 \u064a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644")},error:i=>{this.toastr.error(i.message)}})}refreshMessages(){this.messageService.getAdminMessages().subscribe({next:i=>{if(i&&i.messages){const d=this.groupMessagesBySender(i.messages);this.playerChats=d.sort((g,v)=>new Date(v.lastMessageDate).getTime()-new Date(g.lastMessageDate).getTime())}else this.toastr.error("\u0644\u0627 \u064a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644")},error:i=>{this.toastr.error(i.message)}})}ngAfterViewChecked(){this.selectedChat&&this.messagesContainer&&this.scrollToBottom()}loadMessages(){this.messageService.getMessages().subscribe({next:i=>{i&&i.messages?this.processMessages(i.messages):this.toastr.error("\u0644\u0627 \u064a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0622\u0646")},error:i=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0631\u0633\u0627\u0626\u0644")}})}processMessages(i){const d=this.groupMessagesBySender(i);this.playerChats=d.sort((g,v)=>new Date(v.lastMessageDate).getTime()-new Date(g.lastMessageDate).getTime()),this.cdr.detectChanges()}groupMessagesBySender(i){const d={};return i.filter(g=>!g.isDeleted).forEach(g=>{const v=g.senderId;d[v]||(d[v]={senderId:v,senderFullName:g.senderFullName,senderPhoneNumber:g.senderPhoneNumber,lastMessage:"",lastMessageDate:"",unreadCount:0,messages:[]}),d[v].messages.push(g),!g.isFromAdmin&&!g.isRead&&d[v].unreadCount++}),Object.values(d).map(g=>{g.messages=g.messages.sort((A,N)=>new Date(A.sentAt).getTime()-new Date(N.sentAt).getTime());const v=g.messages[g.messages.length-1];return g.lastMessage=v?.content??"",g.lastMessageDate=v?.sentAt??"",g})}openChat(i){this.selectedPlayerId=i,this.selectedChat=this.playerChats.find(d=>d.senderId===i)||null,this.selectedChat&&(this.selectedChat.messages.filter(d=>!d.isRead&&!d.isFromAdmin).forEach(d=>{this.messageService.toggleMarkMessage(d.id,!0).subscribe({next:g=>{g.success&&(d.isRead=!0,this.selectedChat.unreadCount=this.selectedChat.messages.filter(v=>!v.isRead&&!v.isFromAdmin).length,this.cdr.detectChanges())},error:g=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u062d\u0627\u0644\u0629 \u0627\u0644\u0631\u0633\u0627\u0644\u0629")}})}),this.cdr.detectChanges())}closeChat(){this.selectedPlayerId=null,this.selectedChat=null,this.replyMessages={},this.cdr.detectChanges()}sendReply(){if(!this.selectedChat)return void this.toastr.warning("\u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u064a\u0627\u0631 \u0645\u062d\u0627\u062f\u062b\u0629");const i=this.replyMessages[this.selectedChat.messages[0].id]?.trim();i?this.messageService.sendAdminReply(this.selectedChat.senderId,i).subscribe({next:d=>{if(d.success){this.toastr.success("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u062f"),this.replyMessages[this.selectedChat.messages[0].id]="";const g={id:Math.random(),senderId:this.selectedChat.senderId,senderFullName:"Admin",senderPhoneNumber:"",content:i,isRead:!0,isDeleted:!1,sentAt:(new Date).toISOString(),isFromAdmin:!0};this.selectedChat.messages.push(g),this.selectedChat.messages.sort((v,A)=>new Date(v.sentAt).getTime()-new Date(A.sentAt).getTime()),this.selectedChat.lastMessage=i,this.selectedChat.lastMessageDate=g.sentAt,this.playerChats.sort((v,A)=>new Date(A.lastMessageDate).getTime()-new Date(v.lastMessageDate).getTime()),this.selectedChat=this.playerChats.find(v=>v.senderId===this.selectedPlayerId)||null,this.cdr.detectChanges()}else this.toastr.error(d.message||"\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u062f")},error:d=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u062f")}}):this.toastr.warning("\u0627\u0644\u0631\u062c\u0627\u0621 \u0643\u062a\u0627\u0628\u0629 \u0631\u062f")}scrollToBottom(){if(this.messagesContainer){const i=this.messagesContainer.nativeElement;i.scrollTop=i.scrollHeight}}trackByPlayerId(i,d){return d.senderId}trackByMessageId(i,d){return d.id}static{this.\u0275fac=function(d){return new(d||b)(e.rXU(u.b),e.rXU(t.tw),e.rXU(e.gRc),e.rXU(y.p))}}static{this.\u0275cmp=e.VBU({type:b,selectors:[["app-inbox"]],viewQuery:function(d,g){if(1&d&&e.GBs(D,5),2&d){let v;e.mGM(v=e.lsd())&&(g.messagesContainer=v.first)}},decls:11,vars:11,consts:[[1,"container","mx-auto","p-4","flex","flex-col","sm:flex-row","overflow-hidden","h-screen"],[1,"w-full","sm:w-1/3","border-r","border-gray-600","sm:block",3,"ngClass"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-white"],["class","text-center text-gray-300",4,"ngIf"],["class","space-y-2 overflow-y-auto max-h-[calc(100vh-120px)]",4,"ngIf"],[1,"w-full","sm:w-2/3","flex","flex-col","h-full","relative",3,"ngClass"],["class","flex flex-col h-full",4,"ngIf","ngIfElse"],["noChatSelected",""],[1,"text-center","text-gray-300"],[1,"space-y-2","overflow-y-auto","max-h-[calc(100vh-120px)]"],["class","p-4 backdrop-blur-sm border border-gray-600 rounded-lg hover:bg-gray-700 cursor-pointer flex items-center justify-between",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-4","backdrop-blur-sm","border","border-gray-600","rounded-lg","hover:bg-gray-700","cursor-pointer","flex","items-center","justify-between",3,"click"],[1,"font-bold","text-white"],[1,"text-sm","text-gray-300","truncate"],["class","bg-green-600 text-white text-xs font-bold rounded-full px-2 py-1",4,"ngIf"],[1,"bg-green-600","text-white","text-xs","font-bold","rounded-full","px-2","py-1"],[1,"flex","flex-col","h-full"],[1,"fixed","left-0","right-0","z-40","p-2","backdrop-blur-sm","border-b","border-gray-600","flex","items-center","justify-between","bg-black","bg-opacity-90",3,"ngClass"],[1,"flex","items-center"],[1,"mr-4","text-gray-300","hover:text-white","transition",3,"click"],[1,"fa-solid","fa-arrow-left",2,"color","#ffffff"],[1,"font-bold","text-white","text-sm","p-0"],[1,"text-xs","text-gray-400","p-0"],[1,"flex-1","p-4","overflow-y-auto","backdrop-blur-sm",2,"margin-bottom","80px"],["messagesContainer",""],["class","mb-4",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"fixed","bottom-0","left-0","right-0","z-50","p-4","bg-black","bg-opacity-90","backdrop-blur-sm","border-t","border-gray-600",3,"ngClass"],[1,"flex","items-center","gap-2",3,"ngSubmit"],["type","text","placeholder","Write your reply...",1,"flex-1","p-2","border","border-gray-600","rounded-lg","bg-gray-800","text-white","focus:outline-none","focus:ring-2","focus:ring-blue-600","placeholder-gray-400",3,"ngModel","ngModelOptions","ngModelChange"],["type","submit",1,"bg-blue-600","text-white","p-2","rounded-lg","hover:bg-blue-700","transition","disabled:bg-gray-600",3,"disabled"],[1,"mb-4",3,"ngClass"],[1,"inline-block","p-3","rounded-lg","max-w-xs",3,"ngClass"],[1,"text-white"],[1,"text-xs","mt-1","text-gray-300"],[1,"w-full","flex","items-center","justify-center","text-gray-300"]],template:function(d,g){if(1&d&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"\u{1f4e5} Inbox"),e.k0s()(),e.DNE(5,n,2,0,"div",4),e.DNE(6,p,2,2,"div",5),e.k0s(),e.j41(7,"div",6),e.DNE(8,B,18,18,"div",7),e.DNE(9,_,2,0,"ng-template",null,8,e.C5r),e.k0s()()),2&d){const v=e.sdS(10);e.R7$(1),e.Y8G("ngClass",e.eq3(6,O,g.selectedChat)),e.R7$(4),e.Y8G("ngIf",0===g.playerChats.length),e.R7$(1),e.Y8G("ngIf",g.playerChats.length>0),e.R7$(1),e.Y8G("ngClass",e.l_i(8,I,g.selectedChat,!g.selectedChat)),e.R7$(1),e.Y8G("ngIf",g.selectedChat)("ngIfElse",v)}},dependencies:[C.YU,C.Sq,C.bT,m.qT,m.me,m.BC,m.cb,m.vS,m.cV,C.vh]})}}return b})()},9706:(P,M,r)=>{r.d(M,{p:()=>S});var e=r(5797),u=r(9452),t=r(1873),y=r(1567),C=r(8764),m=r(1318),D=r(8700),n=r(271),s=r(8450),h=r(3665),p=r(9101),x=r(7137),w=r(6375),U=r(5716);let S=(()=>{class L{constructor(_,O,I,T,b){this.playerService=_,this.matchService=O,this.leagueService=I,this.messageService=T,this.noteService=b,this.essentialDataCache$=new e.t(null),this.secondaryDataCache=new Map,this.lastEssentialUpdate=0,this.lastSecondaryUpdate=new Map,this.CACHE_DURATION=9e5,this.SECONDARY_CACHE_DURATION=9e5}getEssentialData(_=!1){const O=Date.now();return!_&&this.essentialDataCache$.value&&O-this.lastEssentialUpdate<this.CACHE_DURATION?this.essentialDataCache$.asObservable().pipe((0,y.p)(T=>null!==T)):this.loadEssentialDataFromServer().pipe((0,C.M)(T=>{this.essentialDataCache$.next(T),this.lastEssentialUpdate=O}),(0,m.W)(T=>(0,u.of)(this.essentialDataCache$.value||this.getEmptyDashboardData())),(0,D.t)(1))}getSecondaryData(_,O=!1){const I=Date.now(),T=this.lastSecondaryUpdate.get(_)||0,b=this.secondaryDataCache.has(_)&&I-T<this.SECONDARY_CACHE_DURATION;return!O&&b?(0,u.of)(this.secondaryDataCache.get(_)):this.loadSecondaryDataFromServer(_).pipe((0,C.M)(E=>{this.secondaryDataCache.set(_,E),this.lastSecondaryUpdate.set(_,I)}),(0,m.W)(E=>(0,u.of)(this.secondaryDataCache.get(_)||[])))}loadEssentialDataFromServer(){return(0,t.p)({players:this.playerService.getAdminPlayers(),matches:this.matchService.getAdminMatches(),currentLeague:this.leagueService.getAdminCurrentLeague().pipe((0,n.T)(_=>_.league),(0,m.W)(()=>(0,u.of)(null))),allLeagues:this.leagueService.getAdminAllLeagues().pipe((0,m.W)(()=>(0,u.of)([]))),notes:this.noteService.getAdminNotes().pipe((0,n.T)(_=>_.notes),(0,m.W)(()=>(0,u.of)([]))),messages:this.messageService.getAdminMessages().pipe((0,n.T)(_=>_.messages||[]),(0,m.W)(()=>(0,u.of)([])))}).pipe((0,n.T)(({players:_,matches:O,currentLeague:I,allLeagues:T,notes:b,messages:E})=>{const i=Array.isArray(E)?E:[];return{players:_,matches:O,currentLeague:I,allLeagues:T,notes:b,messages:i,stats:{totalPlayers:_.length,totalMatches:O.length,totalMatchesLeft:O.filter(d=>!d.isCompleted).length,totalMessagesLeft:i.filter(d=>!d.isRead&&!d.isFromAdmin).length}}}))}loadSecondaryDataFromServer(_){switch(_){case"leagues":return this.leagueService.getAdminAllLeagues();case"notes":return this.noteService.getAdminNotes().pipe((0,n.T)(O=>O.notes));case"messages":return this.messageService.getAdminMessages().pipe((0,n.T)(O=>O.messages||[]));default:return(0,u.of)([])}}invalidateCache(_){switch(_){case"essential":this.lastEssentialUpdate=0;break;case"leagues":case"notes":case"messages":this.lastSecondaryUpdate.set(_,0),this.secondaryDataCache.delete(_);break;case"all":this.lastEssentialUpdate=0,this.lastSecondaryUpdate.clear(),this.secondaryDataCache.clear()}}getCurrentEssentialData(){return this.essentialDataCache$.value}updateMessageCount(_){const O=this.essentialDataCache$.value;O&&(O.stats.totalMessagesLeft=_,this.essentialDataCache$.next(O))}getEmptyDashboardData(){return{players:[],matches:[],currentLeague:null,allLeagues:[],notes:[],messages:[],stats:{totalPlayers:0,totalMatches:0,totalMatchesLeft:0,totalMessagesLeft:0}}}static{this.\u0275fac=function(O){return new(O||L)(s.KVO(h.x),s.KVO(p.T),s.KVO(x.N),s.KVO(w.b),s.KVO(U.i))}}static{this.\u0275prov=s.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}}return L})()},8010:(P,M,r)=>{r.d(M,{u:()=>D});var e=r(5312),u=r(5797),t=r(8764),y=r(8450),C=r(6443),m=r(4827);let D=(()=>{class n{constructor(h,p){this.http=h,this.router=p,this.baseUrl=e.c.apiUrl,this.isLoggedInSubject=new u.t(this.hasToken()),this.isLoggedIn$=this.isLoggedInSubject.asObservable(),this.userRole=null;const x=localStorage.getItem("token");x&&(this.userRole=this.getRoleFromToken(x),this.isLoggedInSubject.next(!0))}login(h,p){return this.http.post(`${this.baseUrl}/auth/login`,{email:h,password:p}).pipe((0,t.M)(x=>{x.success&&(localStorage.setItem("token",x.token),localStorage.setItem("userRole",x.userRole||"Admin"),this.userRole=x.userRole||"Admin",this.isLoggedInSubject.next(!0),this.router.navigate(["/admin"]))}))}playerLogin(h,p){return this.http.post(`${this.baseUrl}/auth/player-login`,{phoneNumber:h,password:p}).pipe((0,t.M)(x=>{if(x.success&&x.token){localStorage.setItem("token",x.token);const w=this.getRoleFromToken(x.token);this.userRole=w||"Player",localStorage.setItem("userRole",this.userRole),this.isLoggedInSubject.next(!0),this.router.navigate(["/player"])}}))}register(h,p,x,w){return this.http.post(`${this.baseUrl}/auth/register-player`,{phoneNumber:h,password:p,firstName:x,lastName:w})}resetPassword(h,p){return this.http.post(`${this.baseUrl}/auth/reset-password`,{phoneNumber:h,newPassword:p})}logout(){localStorage.removeItem("token"),this.userRole=null,this.isLoggedInSubject.next(!1),this.router.navigate(["/player"])}getRole(){return this.userRole}hasToken(){return!!localStorage.getItem("token")}getRoleFromToken(h){try{return JSON.parse(atob(h.split(".")[1])).role||null}catch{return null}}static{this.\u0275fac=function(p){return new(p||n)(y.KVO(C.Qq),y.KVO(m.Ix))}}static{this.\u0275prov=y.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},5430:(P,M,r)=>{r.d(M,{_:()=>C});var e=r(9452),u=r(8764),t=r(1318),y=r(8450);let C=(()=>{class m{constructor(){this.cache=new Map,this.DEFAULT_TTL=3e5,this.PLAYER_TTL=18e5,this.LEAGUE_TTL=18e5,this.RANKINGS_TTL=18e5,this.loadFromLocalStorage()}set(n,s,h=this.DEFAULT_TTL){const p={data:s,timestamp:Date.now(),ttl:h};this.cache.set(n,p),this.saveToLocalStorage()}get(n){const s=this.cache.get(n);return s?Date.now()-s.timestamp>s.ttl?(this.cache.delete(n),this.saveToLocalStorage(),null):s.data:null}has(n){return null!==this.get(n)}clear(){this.cache.clear(),this.saveToLocalStorage()}remove(n){this.cache.delete(n),this.saveToLocalStorage()}cacheRequest(n,s,h=this.DEFAULT_TTL){const p=this.get(n);return p?(0,e.of)(p):s.pipe((0,u.M)(x=>this.set(n,x,h)),(0,t.W)(x=>{throw x}))}cachePlayerRequest(n,s){return this.cacheRequest(n,s,this.PLAYER_TTL)}cacheLeagueRequest(n,s){return this.cacheRequest(n,s,this.LEAGUE_TTL)}cacheRankingsRequest(n,s){return this.cacheRequest(n,s,this.RANKINGS_TTL)}cacheAllLeaguesRequest(n,s){const h=this.get(n);return h?(0,e.of)(h):s.pipe((0,u.M)(p=>{if(Array.isArray(p)&&p.length>0&&p[0].createdOn){const x=[...p].sort((w,U)=>{const S=new Date(w.createdOn).getTime();return new Date(U.createdOn).getTime()-S});this.set(n,x,this.RANKINGS_TTL)}else this.set(n,p,this.RANKINGS_TTL)}),(0,t.W)(p=>{throw p}))}invalidatePattern(n){for(const s of this.cache.keys())s.includes(n)&&this.cache.delete(s);this.saveToLocalStorage()}getNextPlayerUpdateTime(){const n=new Date;return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours()+1,0,0,0)}getLastUpdateTime(n){const s=this.cache.get(n);return s?new Date(s.timestamp):null}isCacheExpired(n){const s=this.cache.get(n);return!s||Date.now()-s.timestamp>s.ttl}getCacheExpiryTime(n){const s=this.cache.get(n);return s?new Date(s.timestamp+s.ttl):null}forceRefresh(n,s,h=this.DEFAULT_TTL){return this.remove(n),this.cacheRequest(n,s,h)}shouldRefreshRankings(){const n=this.getLastUpdateTime("all-leagues-rank");return!n||(Date.now()-n.getTime())/6e4>=30}shouldRefreshCurrentLeague(){const n=this.getLastUpdateTime("current-league");return!n||(Date.now()-n.getTime())/6e4>=30}saveToLocalStorage(){try{const n=Array.from(this.cache.entries());localStorage.setItem("app_cache",JSON.stringify(n))}catch{}}loadFromLocalStorage(){try{const n=localStorage.getItem("app_cache");if(n){const s=JSON.parse(n);this.cache=new Map(s);for(const[h,p]of this.cache.entries())Date.now()-p.timestamp>p.ttl&&this.cache.delete(h)}}catch{}}static{this.\u0275fac=function(s){return new(s||m)}}static{this.\u0275prov=y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},7137:(P,M,r)=>{r.d(M,{N:()=>C});var e=r(5312),u=r(8450),t=r(6443),y=r(5430);let C=(()=>{class m{constructor(n,s){this.http=n,this.cacheService=s,this.baseUrl=e.c.apiUrl}resetLeague(n){return this.http.post(`${this.baseUrl}/league/reset/${n}`,{})}startLeague(n){return this.http.post(`${this.baseUrl}/league/start`,n)}GetCurrentLeague(n=!1){const s=this.http.get(`${this.baseUrl}/league/getCurrentLeague`);return n||this.cacheService.shouldRefreshCurrentLeague()?this.cacheService.forceRefresh("current-league",s,18e5):this.cacheService.cachePlayerRequest("current-league",s)}getAdminCurrentLeague(){return this.http.get(`${this.baseUrl}/league/getCurrentLeague`)}GetAllLeaguesRank(n=!1){const s=this.http.get(`${this.baseUrl}/player/players/all`);return n||this.cacheService.shouldRefreshRankings()?this.cacheService.forceRefresh("all-leagues-rank",s,18e5):this.cacheService.cacheAllLeaguesRequest("all-leagues-rank",s)}getAdminAllLeagues(){return this.http.get(`${this.baseUrl}/player/players/all`)}DeleteLeague(n){return this.http.delete(`${this.baseUrl}/league/delete/${n}`)}createGroupsAndMatches(n){return this.http.post(`${this.baseUrl}/league/${n}/create-groups`,{})}startKnockoutStage(n){return this.http.post(`${this.baseUrl}/league/${n}/start-knockouts`,{})}startSemiFinals(n){return this.http.post(`${this.baseUrl}/league/${n}/start-semifinals`,{})}startFinal(n){return this.http.post(`${this.baseUrl}/league/${n}/start-final`,{})}getLastLeaguesRankUpdateTime(){return this.cacheService.getLastUpdateTime("all-leagues-rank")}getLastCurrentLeagueUpdateTime(){return this.cacheService.getLastUpdateTime("current-league")}isRankingsCacheExpired(){return this.cacheService.isCacheExpired("all-leagues-rank")}isCurrentLeagueCacheExpired(){return this.cacheService.isCacheExpired("current-league")}getNextRankingsUpdateTime(){return this.cacheService.getCacheExpiryTime("all-leagues-rank")}getNextCurrentLeagueUpdateTime(){return this.cacheService.getCacheExpiryTime("current-league")}forceRefreshRankings(){return this.GetAllLeaguesRank(!0)}forceRefreshCurrentLeague(){return this.GetCurrentLeague(!0)}static{this.\u0275fac=function(s){return new(s||m)(u.KVO(t.Qq),u.KVO(y._))}}static{this.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},9101:(P,M,r)=>{r.d(M,{T:()=>D});var e=r(8764),u=r(5312),t=r(8450),y=r(6443),C=r(3665),m=r(5430);let D=(()=>{class n{constructor(h,p,x){this.http=h,this.playerService=p,this.cacheService=x,this.baseUrl=u.c.apiUrl}getMatches(){return this.cacheService.cachePlayerRequest("current-matches",this.http.get(`${this.baseUrl}/match`))}getAdminMatches(){return this.http.get(`${this.baseUrl}/match`)}updateMatch(h,p){return this.http.post(`${this.baseUrl}/match/${h}/result`,{winnerId:p}).pipe((0,e.M)(()=>{this.playerService.refreshPlayers()}))}resetMatch(h){return this.http.delete(`${this.baseUrl}/match/reset/${h}`).pipe((0,e.M)(()=>{this.playerService.refreshPlayers()}))}getLastMatchesUpdateTime(){return this.cacheService.getLastUpdateTime("current-matches")}static{this.\u0275fac=function(p){return new(p||n)(t.KVO(y.Qq),t.KVO(C.x),t.KVO(m._))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},6375:(P,M,r)=>{r.d(M,{b:()=>C});var e=r(5312),u=r(8450),t=r(6443),y=r(5430);let C=(()=>{class m{constructor(n,s){this.http=n,this.cacheService=s,this.baseUrl=e.c.apiUrl}sendMessage(n){return this.http.post(`${this.baseUrl}/Message/send`,{Content:n})}getMessages(){return this.http.get(`${this.baseUrl}/Message/inbox`)}getAdminMessages(){return this.http.get(`${this.baseUrl}/Message/inbox`)}toggleMarkMessage(n,s){return this.http.post(`${this.baseUrl}/Message/mark/${n}`,{Marked:s})}toggleDeleteMessage(n,s){return this.http.post(`${this.baseUrl}/Message/delete/${n}`,{Marked:s})}getPlayerMessages(){return this.http.get(`${this.baseUrl}/Message/my-messages`)}sendAdminReply(n,s){return this.http.post(`${this.baseUrl}/Message/reply/${n}`,{Content:s})}static{this.\u0275fac=function(s){return new(s||m)(u.KVO(t.Qq),u.KVO(y._))}}static{this.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},5716:(P,M,r)=>{r.d(M,{i:()=>C});var e=r(5312),u=r(8450),t=r(6443),y=r(5430);let C=(()=>{class m{constructor(n,s){this.http=n,this.cacheService=s,this.baseUrl=e.c.apiUrl}sendNote(n){return this.http.post(`${this.baseUrl}/note/write`,{Content:n})}getNotes(){return this.http.get(`${this.baseUrl}/note/notes`)}getAdminNotes(){return this.http.get(`${this.baseUrl}/note/notes`)}toggleMarHide(n,s){return this.http.post(`${this.baseUrl}/note/hide/${n}`,{Marked:s})}DeleteNote(n,s){return this.http.post(`${this.baseUrl}/note/delete/${n}`,{Marked:s})}static{this.\u0275fac=function(s){return new(s||m)(u.KVO(t.Qq),u.KVO(y._))}}static{this.\u0275prov=u.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},3665:(P,M,r)=>{r.d(M,{x:()=>D});var e=r(5797),u=r(8764),t=r(5312),y=r(8450),C=r(6443),m=r(5430);let D=(()=>{class n{constructor(h,p){this.http=h,this.cacheService=p,this.baseUrl=t.c.apiUrl,this.rankingSubject=new e.t([]),this.ranking$=this.rankingSubject.asObservable()}getrank(){return this.cacheService.cachePlayerRequest("player-ranking",this.http.get(`${this.baseUrl}/player/ranking`).pipe((0,u.M)(h=>this.rankingSubject.next(h))))}getPlayers(){return this.cacheService.cachePlayerRequest("players-list",this.http.get(`${this.baseUrl}/player`).pipe((0,u.M)(h=>this.rankingSubject.next(h))))}getAdminPlayers(){return this.http.get(`${this.baseUrl}/player`).pipe((0,u.M)(h=>this.rankingSubject.next(h)))}addPlayer(h){return this.http.post(`${this.baseUrl}/player`,{fullName:h}).pipe((0,u.M)(()=>{this.cacheService.invalidatePattern("player"),this.refreshPlayers()}))}deletePlayer(h){return this.http.delete(`${this.baseUrl}/player/${h}`).pipe((0,u.M)(()=>{this.cacheService.invalidatePattern("player"),this.refreshPlayers()}))}refreshRanking(){this.cacheService.remove("player-ranking"),this.http.get(`${this.baseUrl}/player/ranking`).subscribe(h=>{this.rankingSubject.next(h)})}refreshPlayers(){this.cacheService.remove("players-list"),this.http.get(`${this.baseUrl}/player`).subscribe(h=>{this.rankingSubject.next(h)})}getNextUpdateTime(){return this.cacheService.getNextPlayerUpdateTime()}getLastRankingUpdateTime(){return this.cacheService.getLastUpdateTime("player-ranking")}getLastPlayersUpdateTime(){return this.cacheService.getLastUpdateTime("players-list")}static{this.\u0275fac=function(p){return new(p||n)(y.KVO(C.Qq),y.KVO(m._))}}static{this.\u0275prov=y.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})()},3887:(P,M,r)=>{r.d(M,{G:()=>m});var e=r(316),u=r(4456),t=r(6375),y=r(9706),C=r(8450);let m=(()=>{class D{static{this.\u0275fac=function(h){return new(h||D)}}static{this.\u0275mod=C.$C({type:D})}static{this.\u0275inj=C.G2t({providers:[t.b,y.p],imports:[e.MD,u.YN]})}}return D})()},5312:(P,M,r)=>{r.d(M,{c:()=>u});const u={production:!1,apiUrl:"https://yugiapp.runasp.net/api"}},557:(P,M,r)=>{var e=r(436),u=r(4827),t=r(8450),y=r(8010);const m=[{path:"",redirectTo:"player",pathMatch:"full"},{path:"player",loadChildren:()=>r.e(736).then(r.bind(r,6736)).then(o=>o.PlayerModule),data:{title:"Players"}},{path:"auth",loadChildren:()=>r.e(949).then(r.bind(r,949)).then(o=>o.AuthModule),data:{title:"Auth"}},{path:"admin",loadChildren:()=>Promise.all([r.e(736),r.e(132)]).then(r.bind(r,4132)).then(o=>o.AdminModule),canActivate:[(o,k)=>((0,t.WQX)(y.u),!!localStorage.getItem("token"))],data:{title:"Admin"}},{path:"**",redirectTo:"player"}];let D=(()=>{class o{static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[u.iI.forRoot(m),u.iI]})}}return o})();var n=r(1567);let s=(()=>{class o{constructor(a,c){this.title=a,this.router=c,this.defaultTitle="Yugi-Oh Tournament",console.log("TitleStrategyService initialized"),this.title.setTitle(this.defaultTitle),this.setupTitleUpdates()}setupTitleUpdates(){console.log("Setting up title updates"),this.router.events.pipe((0,n.p)(a=>a instanceof u.wF)).subscribe(a=>{console.log("NavigationEnd event:",a),setTimeout(()=>{this.updateTitle()},50)})}updateTitle(){console.log("Updating title...");const a=this.getCurrentRoute();if(console.log("Current route:",a),console.log("Current route data:",a?.snapshot?.data),a?.snapshot?.data?.title){const c=a.snapshot.data.title;console.log("Setting title to:",c),this.title.setTitle(c)}else console.log("Setting default title:",this.defaultTitle),this.title.setTitle(this.defaultTitle)}getCurrentRoute(){let a=this.router.routerState.root;for(;a.firstChild;)a=a.firstChild;let c=this.router.routerState.root;for(;c.firstChild;)c=c.firstChild;return console.log("Final route:",a),console.log("Current activated route:",c),a?.snapshot?.data?.title?a:c?.snapshot?.data?.title?c:a}setTitle(a){if(a){const c=a;console.log("Manual title set to:",c),this.title.setTitle(c)}else console.log("Setting default title:",this.defaultTitle),this.title.setTitle(this.defaultTitle)}static{this.\u0275fac=function(c){return new(c||o)(t.KVO(e.hE),t.KVO(u.Ix))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var h=r(316),p=r(1249),x=r(9184),w=r(4285),U=r(5716);const S=["navbarContainer"],L=["navbarOnly"];function B(o,k){1&o&&(t.j41(0,"a",34),t.EFF(1," YuGi Tournament "),t.k0s())}function _(o,k){1&o&&(t.j41(0,"a",35),t.EFF(1," Admin Dashboard "),t.k0s())}function O(o,k){1&o&&(t.j41(0,"a",36),t.EFF(1," Friendlies "),t.k0s())}function I(o,k){1&o&&(t.j41(0,"a",37),t.EFF(1," Inbox "),t.k0s())}function T(o,k){1&o&&(t.j41(0,"a",38),t.EFF(1," Inbox "),t.k0s())}function b(o,k){1&o&&(t.qex(0),t.j41(1,"a",39),t.EFF(2," Login "),t.k0s(),t.j41(3,"a",40),t.EFF(4," Register "),t.k0s(),t.bVm())}function E(o,k){if(1&o){const a=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(a);const l=t.XpG();return t.Njj(l.logout())}),t.EFF(1," Logout "),t.k0s()}}function i(o,k){if(1&o){const a=t.RV6();t.qex(0),t.j41(1,"a",42),t.bIt("click",function(){t.eBV(a);const l=t.XpG();return t.Njj(l.closeMenu())}),t.EFF(2," Login "),t.k0s(),t.j41(3,"a",43),t.bIt("click",function(){t.eBV(a);const l=t.XpG();return t.Njj(l.closeMenu())}),t.EFF(4," Register "),t.k0s(),t.bVm()}}function d(o,k){if(1&o){const a=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(a);const l=t.XpG();return l.logout(),t.Njj(l.closeMenu())}),t.EFF(1," Logout "),t.k0s()}}function g(o,k){if(1&o&&(t.j41(0,"div",47)(1,"h4",48),t.EFF(2),t.k0s()()),2&o){const a=k.$implicit;t.R7$(2),t.SpI(" ",a.content," ")}}function v(o,k){if(1&o&&(t.j41(0,"div",44)(1,"div",45),t.DNE(2,g,3,1,"div",46),t.k0s()()),2&o){const a=t.XpG();t.xc7("top",a.getNavbarOnlyHeight(),"px"),t.R7$(2),t.Y8G("ngForOf",a.notes)}}const A=function(o,k){return{block:o,hidden:k}};let N=(()=>{class o{constructor(a,c,l,f){this.authService=a,this.router=c,this.toastr=l,this.noteService=f,this.navbarHeightChange=new t.bkB,this.isLoggedIn=!1,this.isAdmin=!1,this.notes=[],this.isMenuOpen=!1,this.navbarHeight=80,this.navbarOnlyHeight=60,this.authService.isLoggedIn$.subscribe(R=>{this.isLoggedIn=R;const F=this.authService.getRole();this.isAdmin="Admin"===F})}ngOnInit(){this.getNotes()}ngAfterViewInit(){this.calculateNavbarHeight()}calculateNavbarHeight(){setTimeout(()=>{this.navbarOnly&&(this.navbarOnlyHeight=this.navbarOnly.nativeElement.offsetHeight);const c=this.navbarOnlyHeight+32*this.notes.length;this.navbarHeight=c,this.navbarHeightChange.emit(c)},150)}getNavbarOnlyHeight(){return this.navbarOnlyHeight}logout(){this.authService.logout(),this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d"),this.router.navigate(["/player"])}getNotes(){this.noteService.getNotes().subscribe(a=>{const c=Array.isArray(a.notes)?a.notes:a.notes?.data||[];this.notes=c.filter(l=>0==l.isHidden),setTimeout(()=>this.calculateNavbarHeight(),50)})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}onResize(a){this.calculateNavbarHeight()}static{this.\u0275fac=function(c){return new(c||o)(t.rXU(y.u),t.rXU(u.Ix),t.rXU(w.tw),t.rXU(U.i))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-navbar"]],viewQuery:function(c,l){if(1&c&&(t.GBs(S,5),t.GBs(L,5)),2&c){let f;t.mGM(f=t.lsd())&&(l.navbarContainer=f.first),t.mGM(f=t.lsd())&&(l.navbarOnly=f.first)}},hostBindings:function(c,l){1&c&&t.bIt("resize",function(R){return l.onResize(R)},!1,t.tSv)},outputs:{navbarHeightChange:"navbarHeightChange"},decls:49,vars:14,consts:[[1,"fixed","top-0","left-0","w-full","z-50","bg-black","backdrop-blur-sm","transition-all","duration-300"],["navbarContainer",""],["navbarOnly",""],[1,"container","mx-auto","flex","flex-col","md:flex-row","md:items-center","md:justify-between","p-2"],[1,"w-full","flex","items-center","justify-between","md:gap-4"],[1,"flex","items-center","gap-4"],["class","text-xl font-bold bg-gradient-to-r from-indigo-400 to-cyan-400 text-transparent bg-clip-text",4,"ngIf"],["routerLink","/admin/players","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white","class","text-white hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 font-bold",4,"ngIf"],["routerLink","/admin/friendlies","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white","class","text-white hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 font-bold",4,"ngIf"],["routerLink","/player/inbox","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white","class","md:hidden font-bold text-white hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 cursor-pointer",4,"ngIf"],[1,"hidden","md:flex","justify-center","space-x-2","font-bold"],["routerLink","/player/friendlies","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/teams","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/forbidden","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/allLeagues","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/league-table","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/ranking","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],[1,"hidden","md:flex","justify-end","items-center","space-x-4"],["routerLink","/player/inbox","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white","class","text-white font-bold hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 cursor-pointer",4,"ngIf"],[4,"ngIf"],["class","text-white hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 cursor-pointer",3,"click",4,"ngIf"],[1,"md:hidden"],[1,"text-white","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 12h16M4 18h16"],[1,"w-full","mt-4","md:hidden",3,"ngClass"],[1,"flex","flex-col","space-y-2","font-bold","text-center"],["routerLink","/player/friendlies","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/teams","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/forbidden","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/allLeagues","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/league-table","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/ranking","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["class","fixed w-full z-40 bg-black/10 backdrop-blur-sm",3,"top",4,"ngIf"],[1,"text-xl","font-bold","bg-gradient-to-r","from-indigo-400","to-cyan-400","text-transparent","bg-clip-text"],["routerLink","/admin/players","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","font-bold"],["routerLink","/admin/friendlies","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","font-bold"],["routerLink","/player/inbox","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"md:hidden","font-bold","text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","cursor-pointer"],["routerLink","/player/inbox","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","font-bold","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","cursor-pointer"],["routerLink","/auth/login","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/auth/register","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],[1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","cursor-pointer",3,"click"],["routerLink","/auth/login",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/auth/register",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],[1,"fixed","w-full","z-40","bg-black/10","backdrop-blur-sm"],[1,"min-h-[30px]","w-full"],["class","py-1",4,"ngFor","ngForOf"],[1,"py-1"],[1,"text-center","text-[16px]","text-white","font-bold"]],template:function(c,l){1&c&&(t.j41(0,"div",0,1)(2,"nav",null,2)(4,"div",3)(5,"div",4)(6,"div",5),t.DNE(7,B,2,0,"a",6),t.DNE(8,_,2,0,"a",7),t.DNE(9,O,2,0,"a",8),t.DNE(10,I,2,0,"a",9),t.k0s(),t.j41(11,"div",10)(12,"a",11),t.EFF(13," \u{1f3ae} Friendlies "),t.k0s(),t.j41(14,"a",12),t.EFF(15," \u{1f465} Teams "),t.k0s(),t.j41(16,"a",13),t.EFF(17," Forbidden Cards "),t.k0s(),t.j41(18,"a",14),t.EFF(19," All Leagues "),t.k0s(),t.j41(20,"a",15),t.EFF(21," League Table "),t.k0s(),t.j41(22,"a",16),t.EFF(23," Ranking "),t.k0s()(),t.j41(24,"div",17),t.DNE(25,T,2,0,"a",18),t.DNE(26,b,5,0,"ng-container",19),t.DNE(27,E,2,0,"a",20),t.k0s(),t.j41(28,"div",21)(29,"button",22),t.bIt("click",function(){return l.toggleMenu()}),t.qSk(),t.j41(30,"svg",23),t.nrm(31,"path",24),t.k0s()()()(),t.joV(),t.j41(32,"div",25)(33,"div",26)(34,"a",27),t.bIt("click",function(){return l.closeMenu()}),t.EFF(35," \u{1f3ae} Friendlies "),t.k0s(),t.j41(36,"a",28),t.bIt("click",function(){return l.closeMenu()}),t.EFF(37," \u{1f465} Teams "),t.k0s(),t.j41(38,"a",29),t.bIt("click",function(){return l.closeMenu()}),t.EFF(39," Forbidden Cards "),t.k0s(),t.j41(40,"a",30),t.bIt("click",function(){return l.closeMenu()}),t.EFF(41," All Leagues "),t.k0s(),t.j41(42,"a",31),t.bIt("click",function(){return l.closeMenu()}),t.EFF(43," League Table "),t.k0s(),t.j41(44,"a",32),t.bIt("click",function(){return l.closeMenu()}),t.EFF(45," Ranking "),t.k0s(),t.DNE(46,i,5,0,"ng-container",19),t.DNE(47,d,2,0,"a",20),t.k0s()()()()(),t.DNE(48,v,3,3,"div",33)),2&c&&(t.R7$(7),t.Y8G("ngIf",!l.isAdmin),t.R7$(1),t.Y8G("ngIf",l.isAdmin),t.R7$(1),t.Y8G("ngIf",l.isAdmin),t.R7$(1),t.Y8G("ngIf",l.isLoggedIn&&!l.isAdmin),t.R7$(15),t.Y8G("ngIf",l.isLoggedIn&&!l.isAdmin),t.R7$(1),t.Y8G("ngIf",!l.isLoggedIn),t.R7$(1),t.Y8G("ngIf",l.isLoggedIn),t.R7$(5),t.Y8G("ngClass",t.l_i(11,A,l.isMenuOpen,!l.isMenuOpen)),t.R7$(14),t.Y8G("ngIf",!l.isLoggedIn),t.R7$(1),t.Y8G("ngIf",l.isLoggedIn),t.R7$(1),t.Y8G("ngIf",l.notes.length>0))},dependencies:[h.YU,h.Sq,h.bT,u.Wk,u.wQ],styles:[".navbar[_ngcontent-%COMP%]{position:relative;z-index:9999;background:linear-gradient(135deg,rgba(15,23,42,.95),rgba(30,41,59,.95));-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.1);box-shadow:0 4px 20px #0000004d;transition:all .6s ease}nav[_ngcontent-%COMP%]{position:fixed!important;z-index:9999!important;width:100%;top:0;left:0;background:linear-gradient(135deg,rgba(15,23,42,.98),rgba(30,41,59,.98));-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);border-bottom:2px solid rgba(59,130,246,.3);box-shadow:0 8px 40px #0006}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#fff!important;text-decoration:none;background:linear-gradient(135deg,#3b82f6,#8b5cf6);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;transition:all .6s ease;text-shadow:0 2px 4px rgba(0,0,0,.3)}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.02);filter:brightness(1.1)}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#e2e8f0!important;font-weight:500;padding:10px 16px!important;margin:0 4px;border-radius:8px;transition:all .6s ease;position:relative;text-decoration:none}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff!important;background:rgba(59,130,246,.2);transform:translateY(-1px);box-shadow:0 2px 8px #3b82f633}.navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff!important;background:linear-gradient(135deg,#3b82f6,#1d4ed8);box-shadow:0 2px 10px #3b82f64d}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeInDown .5s ease}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.dropdown-menu[_ngcontent-%COMP%]{background:rgba(15,23,42,.95);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 40px #0006;margin-top:8px}.dropdown-item[_ngcontent-%COMP%]{color:#e2e8f0!important;padding:12px 20px;transition:all .6s ease;border-radius:8px;margin:4px 8px;font-weight:500}.dropdown-item[_ngcontent-%COMP%]:hover{color:#fff!important;background:linear-gradient(135deg,#3b82f6,#1d4ed8);transform:translate(2px)}.navbar-toggler[_ngcontent-%COMP%]{border:none;padding:4px 8px;border-radius:8px;background:rgba(59,130,246,.2);transition:all .6s ease}.navbar-toggler[_ngcontent-%COMP%]:hover{background:rgba(59,130,246,.4);transform:scale(1.02)}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.search-box[_ngcontent-%COMP%]{position:relative;max-width:300px}.search-input[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border:2px solid rgba(255,255,255,.2);border-radius:25px;color:#fff;padding:8px 40px 8px 16px;transition:all .6s ease;width:100%}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 20px #3b82f64d;background:rgba(0,0,0,.5)}.search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.search-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#94a3b8;pointer-events:none}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:2px solid rgba(59,130,246,.5);transition:all .6s ease}.user-avatar[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 0 10px #3b82f666;transform:scale(1.05)}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border-radius:50%;width:20px;height:20px;font-size:.75rem;display:flex;align-items:center;justify-content:center;font-weight:700;animation:_ngcontent-%COMP%_pulse 3s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@media (max-width: 768px){.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem}.navbar-nav[_ngcontent-%COMP%]{background:rgba(15,23,42,.98);border-radius:12px;margin:10px;padding:10px;box-shadow:0 8px 40px #0006}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin:4px 0;text-align:center}.search-box[_ngcontent-%COMP%]{margin:10px;max-width:none}}@media (max-width: 480px){.navbar-brand[_ngcontent-%COMP%]{font-size:1.3rem}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:8px 12px!important;font-size:.9rem}}\n\n/*# sourceMappingURL=navbar.component.css.map*/"]})}}return o})();function W(o,k){if(1&o){const a=t.RV6();t.j41(0,"div",6),t.bIt("mousedown",function(l){t.eBV(a);const f=t.XpG();return t.Njj(f.onButtonMouseDown(l))})("click",function(){t.eBV(a);const l=t.XpG();return t.Njj(l.toggleInboxOverlay())}),t.j41(1,"div",7),t.nrm(2,"i",8)(3,"div",9),t.j41(4,"div",10),t.EFF(5," Admin Inbox (Drag to move) "),t.nrm(6,"div",11),t.k0s()()()}if(2&o){const a=t.XpG();t.xc7("left",a.buttonPosition.x,"px")("top",a.buttonPosition.y,"px"),t.AVh("dragging",a.isDragging),t.R7$(1),t.AVh("shadow-2xl",a.isDragging)}}function H(o,k){if(1&o){const a=t.RV6();t.j41(0,"div",12),t.bIt("click",function(){t.eBV(a);const l=t.XpG();return t.Njj(l.closeInboxOverlay())}),t.j41(1,"div",13),t.bIt("click",function(l){return l.stopPropagation()}),t.j41(2,"div",14)(3,"div",15),t.nrm(4,"i",16),t.j41(5,"h2",17),t.EFF(6,"Admin Inbox"),t.k0s()(),t.j41(7,"button",18),t.bIt("click",function(){t.eBV(a);const l=t.XpG();return t.Njj(l.closeInboxOverlay())}),t.nrm(8,"i",19),t.k0s()(),t.j41(9,"div",20),t.nrm(10,"app-inbox"),t.k0s()()()}}let Y=(()=>{class o{constructor(a,c){this.titleStrategy=a,this.authService=c,this.title="Yugi-Oh Tournament",this.navbarHeight=80,this.isAdmin=!1,this.showInboxOverlay=!1,this.buttonPosition={x:20,y:20},this.isDragging=!1,this.dragOffset={x:0,y:0},this.hasMovedDuringDrag=!1}ngOnInit(){setTimeout(()=>{this.titleStrategy.setTitle("")},100),this.checkAdminStatus(),this.setInitialButtonPosition()}ngOnDestroy(){this.isDragging=!1,this.showInboxOverlay=!1,document.body.style.cursor="default",document.body.classList.remove("dragging"),document.removeEventListener("mousemove",this.onGlobalMouseMove.bind(this)),document.removeEventListener("mouseup",this.onGlobalMouseUp.bind(this))}checkAdminStatus(){try{const a=this.authService.getRole();this.isAdmin="Admin"===a}catch(a){console.warn("Error checking admin status:",a),this.isAdmin=!1}}toggleInboxOverlay(){!this.isDragging&&!this.hasMovedDuringDrag&&(this.showInboxOverlay=!this.showInboxOverlay,this.showInboxOverlay&&setTimeout(()=>{this.fixInboxComponentForOverlay()},100))}fixInboxComponentForOverlay(){const a=document.querySelector(".overlay-enter app-inbox");a&&(a.querySelectorAll('[style*="margin-top"]').forEach(f=>{f.style.marginTop="0px"}),a.querySelectorAll('[style*="top"]').forEach(f=>{f.style.top="0px"}))}closeInboxOverlay(){this.showInboxOverlay=!1}setInitialButtonPosition(){const l=window.innerWidth-56-24,f=window.innerHeight-56-24;this.buttonPosition={x:Math.max(24,l),y:Math.max(24,f)}}onButtonMouseDown(a){this.isDragging=!0,this.hasMovedDuringDrag=!1,this.dragOffset={x:a.clientX-this.buttonPosition.x,y:a.clientY-this.buttonPosition.y},a.preventDefault(),a.stopPropagation(),document.body.style.cursor="grabbing",document.body.classList.add("dragging")}onGlobalMouseMove(a){this.isDragging&&requestAnimationFrame(()=>{const l=a.clientY-this.dragOffset.y,f=this.buttonPosition.x,R=this.buttonPosition.y,et=window.innerWidth-56-24,nt=window.innerHeight-56-24,K=Math.max(24,Math.min(a.clientX-this.dragOffset.x,et)),G=Math.max(24,Math.min(l,nt));(Math.abs(K-f)>5||Math.abs(G-R)>5)&&(this.hasMovedDuringDrag=!0),this.buttonPosition={x:K,y:G}})}onGlobalMouseUp(){this.isDragging&&(this.isDragging=!1,document.body.style.cursor="default",document.body.classList.remove("dragging"),setTimeout(()=>{this.hasMovedDuringDrag=!1},100))}onWindowResize(){const l=window.innerWidth-56-24,f=window.innerHeight-56-24;this.buttonPosition={x:Math.max(24,Math.min(this.buttonPosition.x,l)),y:Math.max(24,Math.min(this.buttonPosition.y,f))}}onEscapeKey(){this.showInboxOverlay&&(this.showInboxOverlay=!1)}onNavbarHeightChange(a){this.navbarHeight=a}static{this.\u0275fac=function(c){return new(c||o)(t.rXU(s),t.rXU(y.u))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-root"]],hostBindings:function(c,l){1&c&&t.bIt("mousemove",function(R){return l.onGlobalMouseMove(R)},!1,t.EBC)("mouseup",function(){return l.onGlobalMouseUp()},!1,t.EBC)("resize",function(){return l.onWindowResize()},!1,t.tSv)("keydown.escape",function(){return l.onEscapeKey()},!1,t.EBC)},decls:8,vars:7,consts:[[3,"navbarHeightChange"],[1,"relative"],["class","fixed z-50 cursor-pointer select-none",3,"left","top","dragging","mousedown","click",4,"ngIf"],["class","fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4",3,"click",4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","size","medium","color","#fff","type","square-jelly-box",3,"fullScreen"],[2,"color","white"],[1,"fixed","z-50","cursor-pointer","select-none",3,"mousedown","click"],[1,"w-14","h-14","bg-white","rounded-full","shadow-lg","hover:shadow-xl","transition-all","duration-300","flex","items-center","justify-center","hover:scale-110","floating-button","relative","group"],[1,"fa-solid","fa-inbox","text-2xl","text-gray-800"],[1,"absolute","-top-1","-right-1","w-4","h-4","bg-red-500","rounded-full","animate-pulse"],[1,"absolute","bottom-full","right-0","mb-2","px-3","py-2","bg-gray-800","text-white","text-sm","rounded-lg","opacity-0","group-hover:opacity-100","transition-opacity","duration-300","whitespace-nowrap","pointer-events-none","tooltip"],[1,"absolute","top-full","right-4","w-0","h-0","border-l-4","border-r-4","border-t-4","border-transparent","border-t-gray-800"],[1,"fixed","inset-0","z-50","bg-black","bg-opacity-50","flex","items-center","justify-center","p-2","sm:p-4",3,"click"],[1,"bg-gray-900","rounded-lg","shadow-2xl","w-[95%]","h-[95%]","sm:w-[90%]","sm:h-[90%]","max-w-6xl","max-h-[90vh]","overflow-hidden","overlay-enter",2,"min-width","280px","min-height","400px",3,"click"],[1,"bg-gray-800","p-4","border-b","border-gray-600","flex","items-center","justify-between"],[1,"flex","items-center"],[1,"fa-solid","fa-inbox","text-white","mr-3","text-xl"],[1,"text-xl","font-bold","text-white"],["title","Close",1,"text-gray-400","hover:text-white","transition-colors","p-2","rounded-lg","hover:bg-gray-700",3,"click"],[1,"fa-solid","fa-times","text-xl"],[1,"h-full","overflow-hidden"]],template:function(c,l){1&c&&(t.j41(0,"app-navbar",0),t.bIt("navbarHeightChange",function(R){return l.onNavbarHeightChange(R)}),t.k0s(),t.j41(1,"div",1),t.nrm(2,"router-outlet"),t.k0s(),t.DNE(3,W,7,8,"div",2),t.DNE(4,H,11,0,"div",3),t.j41(5,"ngx-spinner",4)(6,"p",5),t.EFF(7,"Loading..."),t.k0s()()),2&c&&(t.R7$(1),t.xc7("margin-top",l.navbarHeight,"px")("min-height","calc(100vh - "+l.navbarHeight+"px)"),t.R7$(2),t.Y8G("ngIf",l.isAdmin),t.R7$(1),t.Y8G("ngIf",l.isAdmin&&l.showInboxOverlay),t.R7$(1),t.Y8G("fullScreen",!0))},dependencies:[h.bT,u.n3,p.et,x.Y,N],styles:['.floating-button[_ngcontent-%COMP%]{transition:all .3s ease}.floating-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.floating-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.overlay-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.dragging[_ngcontent-%COMP%]{cursor:grabbing!important}body.dragging[_ngcontent-%COMP%]{cursor:grabbing!important;-webkit-user-select:none;user-select:none}body.dragging[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none}.tooltip[_ngcontent-%COMP%]{z-index:60}@media (max-width: 640px){.overlay-enter[_ngcontent-%COMP%]{width:95%!important;height:95%!important;min-width:280px!important}}.floating-button.shadow-2xl[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 25px 50px -12px #00000040}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]{height:100%!important;display:block!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%!important;max-height:100%!important;padding:8px!important;margin:0!important;container:none!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .fixed[_ngcontent-%COMP%]{position:relative!important;inset:auto!important;margin-bottom:0!important;z-index:1!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   [style*=margin-top][_ngcontent-%COMP%]{margin-top:0!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .fixed.bottom-0[_ngcontent-%COMP%]{position:absolute!important;bottom:0!important;left:0!important;right:0!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:100%!important;max-height:none!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]{max-height:calc(100vh - 140px)!important;margin-bottom:0!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .flex.flex-col.h-full[_ngcontent-%COMP%]{height:100%!important;display:flex!important;flex-direction:column!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .flex-1.p-4.overflow-y-auto[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;margin-top:0!important;margin-bottom:0!important;max-height:calc(100% - 80px)!important;padding-bottom:80px!important;padding-top:10px!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .overflow-y-auto[_ngcontent-%COMP%]{scroll-behavior:smooth}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .mb-4[_ngcontent-%COMP%]:last-child{margin-bottom:20px!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .container.mx-auto.p-4.flex.flex-col[_ngcontent-%COMP%]{height:100%!important;max-height:100%!important;padding:8px!important;margin:0!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .h-screen[_ngcontent-%COMP%]{height:100%!important;max-height:100%!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .flex.flex-col.h-full.relative[_ngcontent-%COMP%]{position:relative!important;height:100%!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .p-2.backdrop-blur-sm[_ngcontent-%COMP%]{padding:12px 16px!important;margin-bottom:0!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{max-height:none!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   *[style*=margin-top][_ngcontent-%COMP%]{margin-top:0!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   *[style*="top:"][_ngcontent-%COMP%]{top:0!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .overflow-hidden[_ngcontent-%COMP%]{overflow:visible!important}.overlay-enter[_ngcontent-%COMP%]   app-inbox[_ngcontent-%COMP%]   .sm\\\\[_ngcontent-%COMP%]:flex-row{flex-direction:column!important}\n\n/*# sourceMappingURL=app.component.css.map*/']})}}return o})();var j=r(6443),V=r(2552),z=r(9475);let X=(()=>{class o{constructor(a){this.spinner=a}intercept(a,c){this.spinner.show();const l=localStorage.getItem("token");let f=a;return l&&(f=a.clone({setHeaders:{Authorization:`Bearer ${l}`}})),c.handle(f).pipe((0,z.j)(()=>{this.spinner.hide()}))}static{this.\u0275fac=function(c){return new(c||o)(t.KVO(p.ex))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var Q=r(9452),J=r(5430);let Z=(()=>{class o{constructor(a){this.cacheService=a}intercept(a,c){if("GET"===a.method&&this.shouldCache(a.url)){const l=this.cacheService.get(a.url);if(l)return(0,Q.of)(new j.cS({body:l}))}return c.handle(a)}shouldCache(a){return["/player/ranking","/player","/match","/Message/inbox","/note/notes","/player/players/all","/league/getCurrentLeague"].some(l=>a.includes(l))}static{this.\u0275fac=function(c){return new(c||o)(t.KVO(J._))}}static{this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}}return o})();var q=r(3887);let tt=(()=>{class o{static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275mod=t.$C({type:o,bootstrap:[Y]})}static{this.\u0275inj=t.G2t({providers:[{provide:j.a7,useClass:X,multi:!0},{provide:j.a7,useClass:Z,multi:!0},p.PO,e.hE,s],imports:[e.Bb,D,j.q1,V.uj,w._B.forRoot({timeOut:3e3,positionClass:"toast-top-right",preventDuplicates:!0}),p.PO.forRoot({type:"square-jelly-box"}),q.G]})}}return o})();e.sG().bootstrapModule(tt).catch(o=>{})}},P=>{P.O(0,[502],()=>P(P.s=557)),P.O()}]);
//# sourceMappingURL=main.8542a62a9b7d93c7.js.map