"use strict";(self.webpackChunkYugiTournamnet=self.webpackChunkYugiTournamnet||[]).push([[792],{8010:(m,v,a)=>{a.d(v,{u:()=>C});var u=a(5312),g=a(5797),t=a(8764),f=a(8450),y=a(6443),p=a(4827);let C=(()=>{class r{constructor(c,l){this.http=c,this.router=l,this.baseUrl=u.c.apiUrl,this.isLoggedInSubject=new g.t(this.hasToken()),this.isLoggedIn$=this.isLoggedInSubject.asObservable(),this.userRole=null;const h=localStorage.getItem("token");h&&(this.userRole=this.getRoleFromToken(h),this.isLoggedInSubject.next(!0))}login(c,l){return this.http.post(`${this.baseUrl}/auth/login`,{email:c,password:l}).pipe((0,t.M)(h=>{h.success&&(localStorage.setItem("token",h.token),localStorage.setItem("userRole",h.userRole||"Admin"),this.userRole=h.userRole||"Admin",this.isLoggedInSubject.next(!0),this.router.navigate(["/admin"]))}))}playerLogin(c,l){return this.http.post(`${this.baseUrl}/auth/player-login`,{phoneNumber:c,password:l}).pipe((0,t.M)(h=>{if(h.success&&h.token){localStorage.setItem("token",h.token);const x=this.getRoleFromToken(h.token);this.userRole=x||"Player",localStorage.setItem("userRole",this.userRole),this.isLoggedInSubject.next(!0),this.router.navigate(["/player"])}}))}register(c,l,h,x){return this.http.post(`${this.baseUrl}/auth/register-player`,{phoneNumber:c,password:l,firstName:h,lastName:x})}resetPassword(c,l){return this.http.post(`${this.baseUrl}/auth/reset-password`,{phoneNumber:c,newPassword:l})}logout(){localStorage.removeItem("token"),this.userRole=null,this.isLoggedInSubject.next(!1),this.router.navigate(["/player"])}getRole(){return this.userRole}hasToken(){return!!localStorage.getItem("token")}getRoleFromToken(c){try{return JSON.parse(atob(c.split(".")[1])).role||null}catch{return null}}static{this.\u0275fac=function(l){return new(l||r)(f.KVO(y.Qq),f.KVO(p.Ix))}}static{this.\u0275prov=f.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})()},5430:(m,v,a)=>{a.d(v,{_:()=>y});var u=a(9452),g=a(8764),t=a(1318),f=a(8450);let y=(()=>{class p{constructor(){this.cache=new Map,this.DEFAULT_TTL=3e5,this.PLAYER_TTL=18e5,this.LEAGUE_TTL=18e5,this.RANKINGS_TTL=18e5,this.loadFromLocalStorage()}set(r,s,c=this.DEFAULT_TTL){const l={data:s,timestamp:Date.now(),ttl:c};this.cache.set(r,l),this.saveToLocalStorage()}get(r){const s=this.cache.get(r);return s?Date.now()-s.timestamp>s.ttl?(this.cache.delete(r),this.saveToLocalStorage(),null):s.data:null}has(r){return null!==this.get(r)}clear(){this.cache.clear(),this.saveToLocalStorage()}remove(r){this.cache.delete(r),this.saveToLocalStorage()}cacheRequest(r,s,c=this.DEFAULT_TTL){const l=this.get(r);return l?(0,u.of)(l):s.pipe((0,g.M)(h=>this.set(r,h,c)),(0,t.W)(h=>{throw h}))}cachePlayerRequest(r,s){return this.cacheRequest(r,s,this.PLAYER_TTL)}cacheLeagueRequest(r,s){return this.cacheRequest(r,s,this.LEAGUE_TTL)}cacheRankingsRequest(r,s){return this.cacheRequest(r,s,this.RANKINGS_TTL)}cacheAllLeaguesRequest(r,s){const c=this.get(r);return c?(0,u.of)(c):s.pipe((0,g.M)(l=>{if(Array.isArray(l)&&l.length>0&&l[0].createdOn){const h=[...l].sort((x,L)=>{const T=new Date(x.createdOn).getTime();return new Date(L.createdOn).getTime()-T});this.set(r,h,this.RANKINGS_TTL)}else this.set(r,l,this.RANKINGS_TTL)}),(0,t.W)(l=>{throw l}))}invalidatePattern(r){for(const s of this.cache.keys())s.includes(r)&&this.cache.delete(s);this.saveToLocalStorage()}getNextPlayerUpdateTime(){const r=new Date;return new Date(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours()+1,0,0,0)}getLastUpdateTime(r){const s=this.cache.get(r);return s?new Date(s.timestamp):null}isCacheExpired(r){const s=this.cache.get(r);return!s||Date.now()-s.timestamp>s.ttl}getCacheExpiryTime(r){const s=this.cache.get(r);return s?new Date(s.timestamp+s.ttl):null}forceRefresh(r,s,c=this.DEFAULT_TTL){return this.remove(r),this.cacheRequest(r,s,c)}shouldRefreshRankings(){const r=this.getLastUpdateTime("all-leagues-rank");return!r||(Date.now()-r.getTime())/6e4>=30}shouldRefreshCurrentLeague(){const r=this.getLastUpdateTime("current-league");return!r||(Date.now()-r.getTime())/6e4>=30}saveToLocalStorage(){try{const r=Array.from(this.cache.entries());localStorage.setItem("app_cache",JSON.stringify(r))}catch{}}loadFromLocalStorage(){try{const r=localStorage.getItem("app_cache");if(r){const s=JSON.parse(r);this.cache=new Map(s);for(const[c,l]of this.cache.entries())Date.now()-l.timestamp>l.ttl&&this.cache.delete(c)}}catch{}}static{this.\u0275fac=function(s){return new(s||p)}}static{this.\u0275prov=f.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},5716:(m,v,a)=>{a.d(v,{i:()=>y});var u=a(5312),g=a(8450),t=a(6443),f=a(5430);let y=(()=>{class p{constructor(r,s){this.http=r,this.cacheService=s,this.baseUrl=u.c.apiUrl}sendNote(r){return this.http.post(`${this.baseUrl}/note/write`,{Content:r})}getNotes(){return this.http.get(`${this.baseUrl}/note/notes`)}getAdminNotes(){return this.http.get(`${this.baseUrl}/note/notes`)}toggleMarHide(r,s){return this.http.post(`${this.baseUrl}/note/hide/${r}`,{Marked:s})}DeleteNote(r,s){return this.http.post(`${this.baseUrl}/note/delete/${r}`,{Marked:s})}static{this.\u0275fac=function(s){return new(s||p)(g.KVO(t.Qq),g.KVO(f._))}}static{this.\u0275prov=g.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},5312:(m,v,a)=>{a.d(v,{c:()=>g});const g={production:!1,apiUrl:"https://yugiapp.runasp.net/api"}},557:(m,v,a)=>{var u=a(436),g=a(4827),t=a(8450),f=a(8010);const p=[{path:"",redirectTo:"player",pathMatch:"full"},{path:"player",loadChildren:()=>Promise.all([a.e(456),a.e(736)]).then(a.bind(a,6736)).then(n=>n.PlayerModule),data:{title:"Players"}},{path:"auth",loadChildren:()=>Promise.all([a.e(456),a.e(949)]).then(a.bind(a,949)).then(n=>n.AuthModule),data:{title:"Auth"}},{path:"admin",loadChildren:()=>Promise.all([a.e(456),a.e(736),a.e(367)]).then(a.bind(a,6367)).then(n=>n.AdminModule),canActivate:[(n,b)=>((0,t.WQX)(f.u),!!localStorage.getItem("token"))],data:{title:"Admin"}},{path:"**",redirectTo:"player"}];let C=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.iI.forRoot(p),g.iI]})}}return n})();var r=a(1567);let s=(()=>{class n{constructor(e,o){this.title=e,this.router=o,this.defaultTitle="Yugi-Oh Tournament",console.log("TitleStrategyService initialized"),this.title.setTitle(this.defaultTitle),this.setupTitleUpdates()}setupTitleUpdates(){console.log("Setting up title updates"),this.router.events.pipe((0,r.p)(e=>e instanceof g.wF)).subscribe(e=>{console.log("NavigationEnd event:",e),setTimeout(()=>{this.updateTitle()},50)})}updateTitle(){console.log("Updating title...");const e=this.getCurrentRoute();if(console.log("Current route:",e),console.log("Current route data:",e?.snapshot?.data),e?.snapshot?.data?.title){const o=e.snapshot.data.title;console.log("Setting title to:",o),this.title.setTitle(o)}else console.log("Setting default title:",this.defaultTitle),this.title.setTitle(this.defaultTitle)}getCurrentRoute(){let e=this.router.routerState.root;for(;e.firstChild;)e=e.firstChild;let o=this.router.routerState.root;for(;o.firstChild;)o=o.firstChild;return console.log("Final route:",e),console.log("Current activated route:",o),e?.snapshot?.data?.title?e:o?.snapshot?.data?.title?o:e}setTitle(e){if(e){const o=e;console.log("Manual title set to:",o),this.title.setTitle(o)}else console.log("Setting default title:",this.defaultTitle),this.title.setTitle(this.defaultTitle)}static{this.\u0275fac=function(o){return new(o||n)(t.KVO(u.hE),t.KVO(g.Ix))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var c=a(1249),l=a(4285),h=a(5716),x=a(316);const L=["navbarContainer"],T=["navbarOnly"];function _(n,b){1&n&&(t.j41(0,"a",34),t.EFF(1," YuGi Tournament "),t.k0s())}function M(n,b){1&n&&(t.j41(0,"a",35),t.EFF(1," Admin Dashboard "),t.k0s())}function O(n,b){1&n&&(t.j41(0,"a",36),t.EFF(1," Friendlies "),t.k0s())}function E(n,b){1&n&&(t.j41(0,"a",37),t.EFF(1," Inbox "),t.k0s())}function I(n,b){1&n&&(t.j41(0,"a",38),t.EFF(1," Inbox "),t.k0s())}function R(n,b){1&n&&(t.qex(0),t.j41(1,"a",39),t.EFF(2," Login "),t.k0s(),t.j41(3,"a",40),t.EFF(4," Register "),t.k0s(),t.bVm())}function A(n,b){if(1&n){const e=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.logout())}),t.EFF(1," Logout "),t.k0s()}}function F(n,b){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"a",42),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeMenu())}),t.EFF(2," Login "),t.k0s(),t.j41(3,"a",43),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.closeMenu())}),t.EFF(4," Register "),t.k0s(),t.bVm()}}function D(n,b){if(1&n){const e=t.RV6();t.j41(0,"a",41),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return i.logout(),t.Njj(i.closeMenu())}),t.EFF(1," Logout "),t.k0s()}}function P(n,b){if(1&n&&(t.j41(0,"div",47)(1,"h4",48),t.EFF(2),t.k0s()()),2&n){const e=b.$implicit;t.R7$(2),t.SpI(" ",e.content," ")}}function j(n,b){if(1&n&&(t.j41(0,"div",44)(1,"div",45),t.DNE(2,P,3,1,"div",46),t.k0s()()),2&n){const e=t.XpG();t.xc7("top",e.getNavbarOnlyHeight(),"px"),t.R7$(2),t.Y8G("ngForOf",e.notes)}}const N=function(n,b){return{block:n,hidden:b}};let S=(()=>{class n{constructor(e,o,i,d){this.authService=e,this.router=o,this.toastr=i,this.noteService=d,this.navbarHeightChange=new t.bkB,this.isLoggedIn=!1,this.isAdmin=!1,this.notes=[],this.isMenuOpen=!1,this.navbarHeight=80,this.navbarOnlyHeight=60,this.authService.isLoggedIn$.subscribe(k=>{this.isLoggedIn=k;const z=this.authService.getRole();this.isAdmin="Admin"===z})}ngOnInit(){this.getNotes()}ngAfterViewInit(){this.calculateNavbarHeight()}calculateNavbarHeight(){setTimeout(()=>{this.navbarOnly&&(this.navbarOnlyHeight=this.navbarOnly.nativeElement.offsetHeight);const o=this.navbarOnlyHeight+32*this.notes.length;this.navbarHeight=o,this.navbarHeightChange.emit(o)},150)}getNavbarOnlyHeight(){return this.navbarOnlyHeight}logout(){this.authService.logout(),this.toastr.success("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d"),this.router.navigate(["/player"])}getNotes(){this.noteService.getNotes().subscribe(e=>{const o=Array.isArray(e.notes)?e.notes:e.notes?.data||[];this.notes=o.filter(i=>0==i.isHidden),setTimeout(()=>this.calculateNavbarHeight(),50)})}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}closeMenu(){this.isMenuOpen=!1}onResize(e){this.calculateNavbarHeight()}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(f.u),t.rXU(g.Ix),t.rXU(l.tw),t.rXU(h.i))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-navbar"]],viewQuery:function(o,i){if(1&o&&(t.GBs(L,5),t.GBs(T,5)),2&o){let d;t.mGM(d=t.lsd())&&(i.navbarContainer=d.first),t.mGM(d=t.lsd())&&(i.navbarOnly=d.first)}},hostBindings:function(o,i){1&o&&t.bIt("resize",function(k){return i.onResize(k)},!1,t.tSv)},outputs:{navbarHeightChange:"navbarHeightChange"},decls:49,vars:14,consts:[[1,"fixed","top-0","left-0","w-full","z-50","bg-black","backdrop-blur-sm","transition-all","duration-300"],["navbarContainer",""],["navbarOnly",""],[1,"container","mx-auto","flex","flex-col","md:flex-row","md:items-center","md:justify-between","p-2"],[1,"w-full","flex","items-center","justify-between","md:gap-4"],[1,"flex","items-center","gap-4"],["class","text-xl font-bold bg-gradient-to-r from-indigo-400 to-cyan-400 text-transparent bg-clip-text",4,"ngIf"],["routerLink","/admin/players","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white","class","text-white hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 font-bold",4,"ngIf"],["routerLink","/admin/friendlies","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white","class","text-white hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 font-bold",4,"ngIf"],["routerLink","/player/inbox","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white","class","md:hidden font-bold text-white hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 cursor-pointer",4,"ngIf"],[1,"hidden","md:flex","justify-center","space-x-2","font-bold"],["routerLink","/player/friendlies","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/teams","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/forbidden","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/allLeagues","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/league-table","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/player/ranking","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],[1,"hidden","md:flex","justify-end","items-center","space-x-4"],["routerLink","/player/inbox","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white","class","text-white font-bold hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 cursor-pointer",4,"ngIf"],[4,"ngIf"],["class","text-white hover:text-gray-300 hover:bg-gray-700 transition rounded py-2 px-2 cursor-pointer",3,"click",4,"ngIf"],[1,"md:hidden"],[1,"text-white","ml-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4 6h16M4 12h16M4 18h16"],[1,"w-full","mt-4","md:hidden",3,"ngClass"],[1,"flex","flex-col","space-y-2","font-bold","text-center"],["routerLink","/player/friendlies","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/teams","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/forbidden","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/allLeagues","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/league-table","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/player/ranking","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["class","fixed w-full z-40 bg-black/10 backdrop-blur-sm",3,"top",4,"ngIf"],[1,"text-xl","font-bold","bg-gradient-to-r","from-indigo-400","to-cyan-400","text-transparent","bg-clip-text"],["routerLink","/admin/players","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","font-bold"],["routerLink","/admin/friendlies","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","font-bold"],["routerLink","/player/inbox","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"md:hidden","font-bold","text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","cursor-pointer"],["routerLink","/player/inbox","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","font-bold","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","cursor-pointer"],["routerLink","/auth/login","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],["routerLink","/auth/register","routerLinkActive","!text-indigo-300 bg-white/10 border-b-2 border-white",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2"],[1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2","cursor-pointer",3,"click"],["routerLink","/auth/login",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],["routerLink","/auth/register",1,"text-white","hover:text-gray-300","hover:bg-gray-700","transition","rounded","py-2","px-2",3,"click"],[1,"fixed","w-full","z-40","bg-black/10","backdrop-blur-sm"],[1,"min-h-[30px]","w-full"],["class","py-1",4,"ngFor","ngForOf"],[1,"py-1"],[1,"text-center","text-[16px]","text-white","font-bold"]],template:function(o,i){1&o&&(t.j41(0,"div",0,1)(2,"nav",null,2)(4,"div",3)(5,"div",4)(6,"div",5),t.DNE(7,_,2,0,"a",6),t.DNE(8,M,2,0,"a",7),t.DNE(9,O,2,0,"a",8),t.DNE(10,E,2,0,"a",9),t.k0s(),t.j41(11,"div",10)(12,"a",11),t.EFF(13," \u{1f3ae} Friendlies "),t.k0s(),t.j41(14,"a",12),t.EFF(15," \u{1f465} Teams "),t.k0s(),t.j41(16,"a",13),t.EFF(17," Forbidden Cards "),t.k0s(),t.j41(18,"a",14),t.EFF(19," All Leagues "),t.k0s(),t.j41(20,"a",15),t.EFF(21," League Table "),t.k0s(),t.j41(22,"a",16),t.EFF(23," Ranking "),t.k0s()(),t.j41(24,"div",17),t.DNE(25,I,2,0,"a",18),t.DNE(26,R,5,0,"ng-container",19),t.DNE(27,A,2,0,"a",20),t.k0s(),t.j41(28,"div",21)(29,"button",22),t.bIt("click",function(){return i.toggleMenu()}),t.qSk(),t.j41(30,"svg",23),t.nrm(31,"path",24),t.k0s()()()(),t.joV(),t.j41(32,"div",25)(33,"div",26)(34,"a",27),t.bIt("click",function(){return i.closeMenu()}),t.EFF(35," \u{1f3ae} Friendlies "),t.k0s(),t.j41(36,"a",28),t.bIt("click",function(){return i.closeMenu()}),t.EFF(37," \u{1f465} Teams "),t.k0s(),t.j41(38,"a",29),t.bIt("click",function(){return i.closeMenu()}),t.EFF(39," Forbidden Cards "),t.k0s(),t.j41(40,"a",30),t.bIt("click",function(){return i.closeMenu()}),t.EFF(41," All Leagues "),t.k0s(),t.j41(42,"a",31),t.bIt("click",function(){return i.closeMenu()}),t.EFF(43," League Table "),t.k0s(),t.j41(44,"a",32),t.bIt("click",function(){return i.closeMenu()}),t.EFF(45," Ranking "),t.k0s(),t.DNE(46,F,5,0,"ng-container",19),t.DNE(47,D,2,0,"a",20),t.k0s()()()()(),t.DNE(48,j,3,3,"div",33)),2&o&&(t.R7$(7),t.Y8G("ngIf",!i.isAdmin),t.R7$(1),t.Y8G("ngIf",i.isAdmin),t.R7$(1),t.Y8G("ngIf",i.isAdmin),t.R7$(1),t.Y8G("ngIf",i.isLoggedIn&&!i.isAdmin),t.R7$(15),t.Y8G("ngIf",i.isLoggedIn&&!i.isAdmin),t.R7$(1),t.Y8G("ngIf",!i.isLoggedIn),t.R7$(1),t.Y8G("ngIf",i.isLoggedIn),t.R7$(5),t.Y8G("ngClass",t.l_i(11,N,i.isMenuOpen,!i.isMenuOpen)),t.R7$(14),t.Y8G("ngIf",!i.isLoggedIn),t.R7$(1),t.Y8G("ngIf",i.isLoggedIn),t.R7$(1),t.Y8G("ngIf",i.notes.length>0))},dependencies:[x.YU,x.Sq,x.bT,g.Wk,g.wQ],styles:[".navbar[_ngcontent-%COMP%]{position:relative;z-index:9999;background:linear-gradient(135deg,rgba(15,23,42,.95),rgba(30,41,59,.95));-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.1);box-shadow:0 4px 20px #0000004d;transition:all .6s ease}nav[_ngcontent-%COMP%]{position:fixed!important;z-index:9999!important;width:100%;top:0;left:0;background:linear-gradient(135deg,rgba(15,23,42,.98),rgba(30,41,59,.98));-webkit-backdrop-filter:blur(25px);backdrop-filter:blur(25px);border-bottom:2px solid rgba(59,130,246,.3);box-shadow:0 8px 40px #0006}.navbar-brand[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#fff!important;text-decoration:none;background:linear-gradient(135deg,#3b82f6,#8b5cf6);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;transition:all .6s ease;text-shadow:0 2px 4px rgba(0,0,0,.3)}.navbar-brand[_ngcontent-%COMP%]:hover{transform:scale(1.02);filter:brightness(1.1)}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#e2e8f0!important;font-weight:500;padding:10px 16px!important;margin:0 4px;border-radius:8px;transition:all .6s ease;position:relative;text-decoration:none}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff!important;background:rgba(59,130,246,.2);transform:translateY(-1px);box-shadow:0 2px 8px #3b82f633}.navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff!important;background:linear-gradient(135deg,#3b82f6,#1d4ed8);box-shadow:0 2px 10px #3b82f64d}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_fadeInDown .5s ease}@keyframes _ngcontent-%COMP%_fadeInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.dropdown-menu[_ngcontent-%COMP%]{background:rgba(15,23,42,.95);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:12px;box-shadow:0 8px 40px #0006;margin-top:8px}.dropdown-item[_ngcontent-%COMP%]{color:#e2e8f0!important;padding:12px 20px;transition:all .6s ease;border-radius:8px;margin:4px 8px;font-weight:500}.dropdown-item[_ngcontent-%COMP%]:hover{color:#fff!important;background:linear-gradient(135deg,#3b82f6,#1d4ed8);transform:translate(2px)}.navbar-toggler[_ngcontent-%COMP%]{border:none;padding:4px 8px;border-radius:8px;background:rgba(59,130,246,.2);transition:all .6s ease}.navbar-toggler[_ngcontent-%COMP%]:hover{background:rgba(59,130,246,.4);transform:scale(1.02)}.navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 1%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.search-box[_ngcontent-%COMP%]{position:relative;max-width:300px}.search-input[_ngcontent-%COMP%]{background:rgba(0,0,0,.3);border:2px solid rgba(255,255,255,.2);border-radius:25px;color:#fff;padding:8px 40px 8px 16px;transition:all .6s ease;width:100%}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 20px #3b82f64d;background:rgba(0,0,0,.5)}.search-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.search-icon[_ngcontent-%COMP%]{position:absolute;right:12px;top:50%;transform:translateY(-50%);color:#94a3b8;pointer-events:none}.user-avatar[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:2px solid rgba(59,130,246,.5);transition:all .6s ease}.user-avatar[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 0 10px #3b82f666;transform:scale(1.05)}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;border-radius:50%;width:20px;height:20px;font-size:.75rem;display:flex;align-items:center;justify-content:center;font-weight:700;animation:_ngcontent-%COMP%_pulse 3s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@media (max-width: 768px){.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem}.navbar-nav[_ngcontent-%COMP%]{background:rgba(15,23,42,.98);border-radius:12px;margin:10px;padding:10px;box-shadow:0 8px 40px #0006}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin:4px 0;text-align:center}.search-box[_ngcontent-%COMP%]{margin:10px;max-width:none}}@media (max-width: 480px){.navbar-brand[_ngcontent-%COMP%]{font-size:1.3rem}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:8px 12px!important;font-size:.9rem}}\n\n/*# sourceMappingURL=navbar.component.css.map*/"]})}}return n})(),U=(()=>{class n{constructor(e){this.titleStrategy=e,this.title="Yugi-Oh Tournament",this.navbarHeight=80}ngOnInit(){setTimeout(()=>{this.titleStrategy.setTitle("")},100)}onNavbarHeightChange(e){this.navbarHeight=e}static{this.\u0275fac=function(o){return new(o||n)(t.rXU(s))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-root"]],decls:6,vars:5,consts:[[3,"navbarHeightChange"],[1,"relative"],["bdColor","rgba(0, 0, 0, 1)","size","medium","color","#fff","type","square-jelly-box",3,"fullScreen"],[2,"color","white"]],template:function(o,i){1&o&&(t.j41(0,"app-navbar",0),t.bIt("navbarHeightChange",function(k){return i.onNavbarHeightChange(k)}),t.k0s(),t.j41(1,"div",1),t.nrm(2,"router-outlet"),t.k0s(),t.j41(3,"ngx-spinner",2)(4,"p",3),t.EFF(5,"Loading..."),t.k0s()()),2&o&&(t.R7$(1),t.xc7("margin-top",i.navbarHeight,"px")("min-height","calc(100vh - "+i.navbarHeight+"px)"),t.R7$(2),t.Y8G("fullScreen",!0))},dependencies:[g.n3,c.et,S]})}}return n})();var w=a(6443),H=a(2552),G=a(9475);let B=(()=>{class n{constructor(e){this.spinner=e}intercept(e,o){this.spinner.show();const i=localStorage.getItem("token");let d=e;return i&&(d=e.clone({setHeaders:{Authorization:`Bearer ${i}`}})),o.handle(d).pipe((0,G.j)(()=>{this.spinner.hide()}))}static{this.\u0275fac=function(o){return new(o||n)(t.KVO(c.ex))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();var $=a(9452),K=a(5430);let Y=(()=>{class n{constructor(e){this.cacheService=e}intercept(e,o){if("GET"===e.method&&this.shouldCache(e.url)){const i=this.cacheService.get(e.url);if(i)return(0,$.of)(new w.cS({body:i}))}return o.handle(e)}shouldCache(e){return["/player/ranking","/player","/match","/Message/inbox","/note/notes","/player/players/all","/league/getCurrentLeague"].some(i=>e.includes(i))}static{this.\u0275fac=function(o){return new(o||n)(t.KVO(K._))}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})(),V=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=t.$C({type:n,bootstrap:[U]})}static{this.\u0275inj=t.G2t({providers:[{provide:w.a7,useClass:B,multi:!0},{provide:w.a7,useClass:Y,multi:!0},c.PO,u.hE,s],imports:[u.Bb,C,w.q1,H.uj,l._B.forRoot({timeOut:3e3,positionClass:"toast-top-right",preventDuplicates:!0}),c.PO.forRoot({type:"square-jelly-box"})]})}}return n})();u.sG().bootstrapModule(V).catch(n=>{})}},m=>{m.O(0,[502],()=>m(m.s=557)),m.O()}]);
//# sourceMappingURL=main.86796fc8ba0c7779.js.map