"use strict";(self.webpackChunkYugiTournamnet=self.webpackChunkYugiTournamnet||[]).push([[736],{8416:(j,T,p)=>{p.d(T,{Lf:()=>v,Zv:()=>h});var h=function(u){return u[u.Today=1]="Today",u[u.Last3Days=2]="Last3Days",u[u.LastWeek=3]="LastWeek",u[u.LastMonth=4]="LastMonth",u[u.AllTime=5]="AllTime",u}(h||{});const v={GET_ALL_PLAYERS:"/FriendlyMatch/players",GET_PLAYER_BY_ID:u=>`/FriendlyMatch/players/${u}`,ADD_PLAYER:"/FriendlyMatch/players",DELETE_PLAYER:u=>`/FriendlyMatch/players/${u}`,DEACTIVATE_PLAYER:u=>`/FriendlyMatch/players/${u}/deactivate`,GET_PLAYERS_RANKING:"/FriendlyMatch/players/ranking",GET_PLAYER_STATS:u=>`/FriendlyMatch/players/${u}/stats`,GET_ALL_MATCHES:"/FriendlyMatch/matches",GET_MATCHES_BETWEEN_PLAYERS:(u,x)=>`/FriendlyMatch/matches/${u}/${x}`,RECORD_MATCH:"/FriendlyMatch/matches/record",DELETE_MATCH:u=>`/FriendlyMatch/matches/${u}`,UPDATE_MATCH:u=>`/FriendlyMatch/matches/${u}`,GET_OVERALL_SCORE:(u,x)=>`/FriendlyMatch/overall-score/${u}/${x}`,GET_FILTERED_MATCHES:"/FriendlyMatch/matches/filtered",GET_PLAYER_MATCHES:u=>`/FriendlyMatch/matches/player/${u}`,GET_PLAYER_VS_OPPONENTS:u=>`/FriendlyMatch/matches/player/${u}/vs-opponents`,GET_ALL_SHUTOUTS:"/FriendlyMatch/shutouts",GET_SHUTOUTS_BY_PLAYER:u=>`/FriendlyMatch/shutouts/player/${u}`,GET_SHUTOUT_BY_MATCH:u=>`/FriendlyMatch/shutouts/match/${u}`,DELETE_SHUTOUT:u=>`/FriendlyMatch/shutouts/${u}`,GET_FILTERED_SHUTOUTS:"/FriendlyMatch/shutouts/filtered",GET_PLAYER_SHUTOUTS_FILTERED:u=>`/FriendlyMatch/shutouts/player/${u}/filtered`,GET_PLAYERS_SHUTOUTS_FILTERED:"/FriendlyMatch/shutouts/players/filtered",TEST:"/FriendlyMatch/test"}},7325:(j,T,p)=>{p.d(T,{HS:()=>h,lH:()=>g});const h={SEND_MESSAGE:"/FriendlyMessage/send",GET_PLAYER_MESSAGES:"/FriendlyMessage/my-messages",GET_ALL_MESSAGES:"/FriendlyMessage/inbox",GET_UNREAD_MESSAGES:"/FriendlyMessage/unread-messages",GET_READ_MESSAGES:"/FriendlyMessage/read-messages",GET_PLAYER_CONVERSATION:_=>`/FriendlyMessage/conversation/${_}`,SEND_ADMIN_REPLY:_=>`/FriendlyMessage/reply/${_}`,MARK_MESSAGE_READ:_=>`/FriendlyMessage/mark/${_}`,MARK_ALL_PLAYER_MESSAGES_READ:_=>`/FriendlyMessage/mark-all-read/${_}`,DELETE_MESSAGE:_=>`/FriendlyMessage/delete/${_}`,GET_UNREAD_COUNT:"/FriendlyMessage/stats/unread-count",GET_PLAYER_UNREAD_COUNT:_=>`/FriendlyMessage/stats/player/${_}/unread-count`,TEST:"/FriendlyMessage/test"},g=_=>_.filter(u=>!u.isRead&&!u.isFromAdmin).length},7791:(j,T,p)=>{p.d(T,{w:()=>k});var h=p(5312),f=p(8416),v=p(8450),e=p(6443),P=p(5430);let k=(()=>{class F{constructor(g,b){this.http=g,this.cacheService=b,this.baseUrl=h.c.apiUrl}getAllFriendlyPlayers(){return this.cacheService.cachePlayerRequest("friendly-players",this.http.get(`${this.baseUrl}${f.Lf.GET_ALL_PLAYERS}`))}getFriendlyPlayersRanking(){return this.http.get(`${this.baseUrl}${f.Lf.GET_PLAYERS_RANKING}`)}getFriendlyPlayerStats(g){const b=`${this.baseUrl}${f.Lf.GET_PLAYER_STATS(g)}`;return this.http.get(b)}getPlayersStatistics(){return this.http.get(`${this.baseUrl}${f.Lf.GET_PLAYERS_RANKING}`)}addFriendlyPlayerAsync(g){return this.http.post(`${this.baseUrl}${f.Lf.ADD_PLAYER}`,{fullName:g})}deleteFriendlyPlayerAsync(g){const b=`${this.baseUrl}${f.Lf.DELETE_PLAYER(g)}`;return this.http.delete(b)}deactivateFriendlyPlayerAsync(g){const b=`${this.baseUrl}${f.Lf.DEACTIVATE_PLAYER(g)}`;return this.http.put(b,{})}getAllFriendlyMatches(){return this.cacheService.cachePlayerRequest("friendly-matches",this.http.get(`${this.baseUrl}${f.Lf.GET_ALL_MATCHES}`))}getFriendlyMatchesBetweenPlayers(g,b){const w=`${this.baseUrl}${f.Lf.GET_MATCHES_BETWEEN_PLAYERS(g,b)}`;return this.http.get(w)}recordFriendlyMatchAsync(g){return this.http.post(`${this.baseUrl}${f.Lf.RECORD_MATCH}`,g)}updateFriendlyMatchAsync(g,b){const w=`${this.baseUrl}${f.Lf.UPDATE_MATCH(g)}`;return this.http.put(w,b)}deleteFriendlyMatchAsync(g){const b=`${this.baseUrl}${f.Lf.DELETE_MATCH(g)}`;return this.http.delete(b)}getOverallScoreBetweenPlayers(g,b){const w=`${this.baseUrl}${f.Lf.GET_OVERALL_SCORE(g,b)}`;return this.http.get(w)}getAllShutoutResults(){return this.cacheService.cachePlayerRequest("friendly-shutouts",this.http.get(`${this.baseUrl}${f.Lf.GET_ALL_SHUTOUTS}`))}getShutoutResultsByPlayer(g){const b=`${this.baseUrl}${f.Lf.GET_SHUTOUTS_BY_PLAYER(g)}`;return this.http.get(b)}getShutoutResultByMatch(g){const b=`${this.baseUrl}${f.Lf.GET_SHUTOUT_BY_MATCH(g)}`;return this.http.get(b)}getFilteredMatches(g){return this.http.get(`${this.baseUrl}${f.Lf.GET_FILTERED_MATCHES}`,{params:g})}getPlayerMatches(g,b){const w=`${this.baseUrl}${f.Lf.GET_PLAYER_MATCHES(g)}`;return this.http.get(w,{params:b})}getPlayerVsOpponentsMatches(g,b,w){const _=`${this.baseUrl}${f.Lf.GET_PLAYER_VS_OPPONENTS(g)}`;return this.http.post(_,b,{params:w})}testConnection(){return this.http.get(`${this.baseUrl}${f.Lf.TEST}`)}refreshFriendlyPlayers(){this.cacheService.remove("friendly-players")}refreshFriendlyMatches(){this.cacheService.remove("friendly-matches")}refreshFriendlyShutouts(){this.cacheService.remove("friendly-shutouts")}static{this.\u0275fac=function(b){return new(b||F)(v.KVO(e.Qq),v.KVO(P._))}}static{this.\u0275prov=v.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}}return F})()},8705:(j,T,p)=>{p.d(T,{G:()=>P});var h=p(5312),f=p(7325),v=p(8450),e=p(6443);let P=(()=>{class k{constructor(d){this.http=d,this.baseUrl=h.c.apiUrl}sendMessageToAdmin(d,g){return this.http.post(`${this.baseUrl}${f.HS.SEND_MESSAGE}`,{content:g})}getPlayerMessages(d){return this.http.get(`${this.baseUrl}${f.HS.GET_PLAYER_MESSAGES}`)}getAllMessages(){return this.http.get(`${this.baseUrl}${f.HS.GET_ALL_MESSAGES}`)}getUnreadMessages(){return this.http.get(`${this.baseUrl}${f.HS.GET_UNREAD_MESSAGES}`)}getReadMessages(){return this.http.get(`${this.baseUrl}${f.HS.GET_READ_MESSAGES}`)}getPlayerConversation(d){const g=`${this.baseUrl}${f.HS.GET_PLAYER_CONVERSATION(d)}`;return this.http.get(g)}sendAdminReply(d,g){if(!d)throw new Error("\u0645\u0639\u0631\u0641 \u0627\u0644\u0644\u0627\u0639\u0628 \u063a\u064a\u0631 \u0635\u062d\u064a\u062d");const b=`${this.baseUrl}${f.HS.SEND_ADMIN_REPLY(d)}`;return this.http.post(b,{content:g})}markMessageAsRead(d){const g=`${this.baseUrl}${f.HS.MARK_MESSAGE_READ(d)}`;return this.http.post(g,{marked:!0})}markAllPlayerMessagesAsRead(d){const g=`${this.baseUrl}${f.HS.MARK_ALL_PLAYER_MESSAGES_READ(d)}`;return this.http.post(g,{marked:!0})}deleteMessage(d){const g=`${this.baseUrl}${f.HS.DELETE_MESSAGE(d)}`;return this.http.post(g,{marked:!0})}getUnreadMessagesCount(){return this.http.get(`${this.baseUrl}${f.HS.GET_UNREAD_COUNT}`)}getPlayerUnreadMessagesCount(d){const g=`${this.baseUrl}${f.HS.GET_PLAYER_UNREAD_COUNT(d)}`;return this.http.get(g)}testConnection(){return this.http.get(`${this.baseUrl}${f.HS.TEST}`)}static{this.\u0275fac=function(g){return new(g||k)(v.KVO(e.Qq))}}static{this.\u0275prov=v.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()},8171:(j,T,p)=>{p.d(T,{y:()=>P});var h=p(271),f=p(5312),v=p(8450),e=p(6443);let P=(()=>{class k{constructor(d){this.http=d,this.apiUrl=`${f.c.apiUrl}/multi`}createTournament(d){return this.http.post(`${this.apiUrl}/tournaments`,d)}updateTournamentStatus(d,g){return this.http.put(`${this.apiUrl}/tournaments/${d}/status`,g)}deleteTournament(d){return this.http.delete(`${this.apiUrl}/tournaments/${d}`)}createTeam(d,g){return this.http.post(`${this.apiUrl}/tournaments/${d}/teams`,g)}updateTeam(d,g){return this.http.put(`${this.apiUrl}/teams/${d}`,g)}replacePlayer(d,g){return this.http.post(`${this.apiUrl}/teams/${d}/replace-player`,g)}recordMatchResult(d,g){return this.http.post(`${this.apiUrl}/matches/${d}/result`,g)}undoMatchResult(d){return this.http.post(`${this.apiUrl}/matches/${d}/undo`,{})}getTournamentMatches(d){return this.http.get(`${this.apiUrl}/tournaments/${d}/matches`)}getActiveTournamentMatches(){return this.http.get(`${this.apiUrl}/tournaments/active/matches`)}getPlayerMatches(d){return this.http.get(`${this.apiUrl}/players/${d}/matches`)}getAllPlayers(){return this.http.get(`${this.apiUrl}/players`)}getPlayerById(d){return this.http.get(`${this.apiUrl}/players/${d}`)}addNewPlayer(d){return this.http.post(`${this.apiUrl}/players`,d)}getActiveTournament(){return this.http.get(`${this.apiUrl}/tournaments/active`).pipe((0,h.T)(d=>d.success&&d.data&&"Finished"===d.data.status?{success:!1,message:"No active tournament found",data:null}:d))}getAllTournaments(){return this.http.get(`${this.apiUrl}/tournaments`)}getTournament(d){return this.http.get(`${this.apiUrl}/tournaments/${d}`)}getTournamentStandings(d){return this.http.get(`${this.apiUrl}/tournaments/${d}/standings`)}startTournament(d){return this.http.post(`${this.apiUrl}/tournaments/${d}/start`,{})}finishTournament(d){return this.http.post(`${this.apiUrl}/tournaments/${d}/finish`,{})}static{this.\u0275fac=function(g){return new(g||k)(v.KVO(e.Qq))}}static{this.\u0275prov=v.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})()},4597:(j,T,p)=>{p.d(T,{Ck:()=>v,KE:()=>f,gD:()=>h});var h=function(e){return e[e.League=0]="League",e[e.GroupStage=1]="GroupStage",e[e.QuarterFinals=2]="QuarterFinals",e[e.SemiFinals=3]="SemiFinals",e[e.Final=4]="Final",e}(h||{}),f=function(e){return e[e.Points=0]="Points",e[e.Classic=1]="Classic",e}(f||{}),v=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.Groups=2]="Groups",e}(v||{})},6736:(j,T,p)=>{p.r(T),p.d(T,{PlayerModule:()=>Zi});var h=p(316),f=p(4827),v=p(4597),e=p(8450),P=p(3665),k=p(9101),F=p(4285),d=p(7137);function g(s,a){1&s&&(e.j41(0,"div",4)(1,"div",5)(2,"h4",6),e.EFF(3," Groups Tournament Info "),e.k0s(),e.j41(4,"div",7)(5,"span",8),e.nrm(6,"i",9),e.EFF(7," Groups: 4 "),e.k0s(),e.j41(8,"span",10),e.nrm(9,"i",11),e.EFF(10," Winners Advance "),e.k0s(),e.j41(11,"span",12),e.nrm(12,"i",13),e.EFF(13," Knockout Stage "),e.k0s()()()())}function b(s,a){if(1&s&&(e.j41(0,"div",1)(1,"div",2),e.DNE(2,g,14,0,"div",3),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.isGroupsTournament())}}function w(s,a){1&s&&(e.j41(0,"div",1)(1,"div",2)(2,"h3",14),e.EFF(3,"No Active Tournament"),e.k0s(),e.j41(4,"p",15),e.EFF(5,"There is currently no active tournament."),e.k0s()()())}let _=(()=>{class s{constructor(t,n){this.leagueService=t,this.toastr=n,this.currentLeague=null,this.LeagueType=v.Ck,this.SystemOfLeague=v.KE}ngOnInit(){this.loadCurrentLeague()}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{console.error("Tournament Info - \u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u062f\u0648\u0631\u064a:",t),this.currentLeague=null}})}getLeagueTypeText(){if(!this.currentLeague)return"Unknown";switch(this.currentLeague.typeOfLeague){case v.Ck.Single:return"Single League";case v.Ck.Multi:return"Multi League";case v.Ck.Groups:return"Groups Tournament";default:return"Unknown"}}getSystemOfLeagueText(){return this.currentLeague?.systemOfLeague?0===this.currentLeague.systemOfLeague?"Points System":"Classic System":"Unknown"}isGroupsTournament(){return this.currentLeague?.typeOfLeague===v.Ck.Groups||"Groups"===String(this.currentLeague?.typeOfLeague)}getFormattedDate(){return this.currentLeague?.createdOn?new Date(this.currentLeague.createdOn).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):"Unknown"}getTournamentStatus(){return this.currentLeague?this.currentLeague.isFinished?{text:"Finished",color:"text-red-500"}:{text:"Live Now!",color:"text-green-500"}:{text:"No Active Tournament",color:"text-gray-400"}}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(d.N),e.rXU(F.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-tournament-info"]],decls:2,vars:2,consts:[["class","mb-8",4,"ngIf"],[1,"mb-8"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","p-6","text-center"],["class","mt-6",4,"ngIf"],[1,"mt-6"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","rounded-lg","p-4"],[1,"text-lg","font-bold","text-white","mb-2"],[1,"flex","justify-center","space-x-6","text-sm"],[1,"text-blue-200"],[1,"fas","fa-users","mr-1"],[1,"text-green-200"],[1,"fas","fa-trophy","mr-1"],[1,"text-yellow-200"],[1,"fas","fa-calendar","mr-1"],[1,"text-xl","font-bold","text-white","mb-2"],[1,"text-gray-300"]],template:function(n,i){1&n&&(e.DNE(0,b,3,1,"div",0),e.DNE(1,w,6,0,"div",0)),2&n&&(e.Y8G("ngIf",i.currentLeague),e.R7$(1),e.Y8G("ngIf",!i.currentLeague))},dependencies:[h.bT],styles:[".tournament-info[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:24px;margin-bottom:32px}.info-card[_ngcontent-%COMP%]{background:rgba(31,41,55,.5);border-radius:8px;padding:12px;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000004d}.info-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.25rem;color:#fff}.info-text[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.text-blue[_ngcontent-%COMP%]{color:#60a5fa}.text-green[_ngcontent-%COMP%]{color:#34d399}.text-yellow[_ngcontent-%COMP%]{color:#fbbf24}.text-red[_ngcontent-%COMP%]{color:#f87171}.text-gray[_ngcontent-%COMP%]{color:#9ca3af}.groups-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);border-radius:8px;padding:16px;margin-top:24px}.groups-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#fff;margin-bottom:8px}.groups-details[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;font-size:.875rem}.groups-detail[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.icon[_ngcontent-%COMP%]{margin-right:4px}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.groups-details[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.info-card[_ngcontent-%COMP%]{padding:8px}}.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed)}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.transition-all[_ngcontent-%COMP%]{transition:all .2s ease}.status-active[_ngcontent-%COMP%]{color:#10b981;font-weight:700}.status-finished[_ngcontent-%COMP%]{color:#ef4444;font-weight:700}.status-inactive[_ngcontent-%COMP%]{color:#9ca3af;font-weight:700}\n\n/*# sourceMappingURL=tournament-info.component.css.map*/"]})}}return s})();function u(s,a){if(1&s){const t=e.RV6();e.j41(0,"th",16),e.bIt("click",function(){const r=e.eBV(t).$implicit,o=e.XpG(3);return e.Njj(o.highlightColumn(r.playerId))}),e.EFF(1),e.k0s()}if(2&s){const t=a.$implicit,n=e.XpG(3);e.Y8G("ngClass",n.highlightedColumn==t.playerId?"text-white bg-gray-700":"text-white"),e.R7$(1),e.SpI(" ",t.fullName," ")}}function x(s,a){1&s&&(e.j41(0,"span",23),e.EFF(1," N/A "),e.k0s())}function D(s,a){if(1&s&&(e.qex(0),e.j41(1,"span",26),e.EFF(2),e.k0s(),e.bVm()),2&s){const t=e.XpG(2).$implicit,n=e.XpG().$implicit,i=e.XpG(3);e.R7$(1),e.Y8G("ngClass",i.getMatchResult(t,n).color),e.R7$(1),e.SpI(" ",i.getMatchResult(t,n).result," ")}}function N(s,a){if(1&s&&(e.j41(0,"span",26),e.EFF(1),e.k0s()),2&s){const t=e.XpG(2).$implicit,n=e.XpG().$implicit,i=e.XpG(3);e.Y8G("ngClass",i.getClassicResult(t,n).color),e.R7$(1),e.SpI(" ",i.getClassicResult(t,n).result," ")}}function X(s,a){if(1&s&&(e.j41(0,"span"),e.DNE(1,D,3,2,"ng-container",24),e.DNE(2,N,2,2,"ng-template",null,25,e.C5r),e.k0s()),2&s){const t=e.sdS(3),n=e.XpG(5);e.R7$(1),e.Y8G("ngIf",n.systemOfLeague===n.SystemOfLeague.Points)("ngIfElse",t)}}const we=function(s){return{"shadow-lg shadow-gray-100":s}};function Se(s,a){if(1&s&&(e.j41(0,"td",20),e.DNE(1,x,2,0,"span",21),e.DNE(2,X,4,2,"span",22),e.k0s()),2&s){const t=a.$implicit,n=e.XpG().$implicit,i=e.XpG(3);e.Y8G("ngClass",e.eq3(3,we,i.highlightedColumn===t.playerId)),e.R7$(1),e.Y8G("ngIf",n.playerId===t.playerId),e.R7$(1),e.Y8G("ngIf",n.playerId!==t.playerId)}}function Te(s,a){if(1&s&&(e.j41(0,"tr",17),e.DNE(1,Se,3,5,"td",18),e.j41(2,"td",19),e.EFF(3),e.k0s()()),2&s){const t=a.$implicit,n=a.index,i=e.XpG().$implicit,r=e.XpG(2);e.Y8G("ngClass",n%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(1),e.Y8G("ngForOf",r.getGroupedPlayers()[i]),e.R7$(2),e.SpI(" ",t.fullName," ")}}function Pe(s,a){if(1&s&&(e.j41(0,"div",6)(1,"div",7)(2,"h3",8),e.EFF(3),e.k0s()(),e.j41(4,"div",9)(5,"table",10)(6,"thead",11)(7,"tr",12),e.DNE(8,u,2,2,"th",13),e.j41(9,"th",14),e.EFF(10," \u0627\u0644\u0645\u0628\u0627\u0631\u0627\u0629 "),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,Te,4,3,"tr",15),e.k0s()()()()),2&s){const t=a.$implicit,n=e.XpG(2);e.R7$(3),e.SpI(" Group ",t," Matches "),e.R7$(5),e.Y8G("ngForOf",n.getGroupedPlayers()[t]),e.R7$(4),e.Y8G("ngForOf",n.getGroupedPlayers()[t])}}function Ee(s,a){if(1&s&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,Pe,13,3,"div",5),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.getGroupNumbers())}}function Oe(s,a){1&s&&(e.j41(0,"div",27)(1,"div",28)(2,"h1",29),e.EFF(3," The League Will Start Soon ! "),e.k0s()()())}let le=(()=>{class s{constructor(t,n,i,r){this.playerService=t,this.matchService=n,this.leagueService=i,this.toastr=r,this.players=[],this.matches=[],this.currentLeague=null,this.started=!0,this.highlightedColumn=null,this.SystemOfLeague=v.KE,this.LeagueType=v.Ck}ngOnInit(){this.loadCurrentLeague(),this.loadPlayers(),this.loadMatches(),this.loadLeagueSystem()}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{this.currentLeague=null}})}loadPlayers(){this.playerService.getrank().subscribe({next:t=>{this.players=t},error:t=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646")}})}loadMatches(){this.matchService.getMatches().subscribe({next:t=>{t&&(this.matches=t,this.started=this.matches.every(n=>0==n.score1&&0==n.score2))},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0645\u0627\u062a\u0634\u0627\u062a")}})}loadLeagueSystem(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.systemOfLeague=t.league?.systemOfLeague},error:()=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0646\u0638\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u064a")}})}getGroupedPlayers(){const t={};return this.players.forEach(n=>{n.groupNumber&&n.groupNumber>0&&(t[n.groupNumber]||(t[n.groupNumber]=[]),t[n.groupNumber].push(n))}),t}getGroupNumbers(){const t=this.getGroupedPlayers();return Object.keys(t).map(n=>parseInt(n)).sort((n,i)=>n-i)}hasGroupedPlayers(){const t=this.getGroupedPlayers();return Object.keys(t).length>0}isGroupsTournament(){return this.currentLeague?.typeOfLeague===v.Ck.Groups||"Groups"===String(this.currentLeague?.typeOfLeague)}getMatchResult(t,n){if(t.playerId===n.playerId)return{result:"N/A",color:"text-gray-800"};const i=this.matches.find(c=>c.player1Name===t.fullName&&c.player2Name===n.fullName||c.player1Name===n.fullName&&c.player2Name===t.fullName);if(!i)return{result:"-",color:"text-gray-500"};const r=i.player1Name===t.fullName?i.score1:i.score2,o=i.player2Name===n.fullName?i.score2:i.score1;let l="text-white ";return r>o?l="text-green-600 font-bold":r<o?l="text-red-600 font-bold":r==o&&0!=r&&(l="text-gray-400 font-bold text-yellow-400"),{result:`${r} - ${o}`,color:l}}getClassicResult(t,n){if(t.playerId===n.playerId)return{result:"N/A",color:"text-gray-800"};const i=this.matches.find(l=>l.player1Name===t.fullName&&l.player2Name===n.fullName||l.player1Name===n.fullName&&l.player2Name===t.fullName);if(!i)return{result:"-",color:"text-gray-500"};const r=i.player1Name===t.fullName?i.score1:i.score2,o=i.player2Name===n.fullName?i.score2:i.score1;return r>o?{result:"\u0641\u0648\u0632",color:"text-green-600 font-bold"}:r<o?{result:"\u062e\u0633\u0627\u0631\u0629",color:"text-red-600 font-bold"}:r===o&&0!==r?{result:"\u062a\u0639\u0627\u062f\u0644",color:"text-yellow-400 font-bold"}:{result:"-",color:"text-gray-500"}}highlightColumn(t){this.highlightedColumn=this.highlightedColumn===t?null:t}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(P.x),e.rXU(k.T),e.rXU(d.N),e.rXU(F.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-groups-matches-table"]],decls:4,vars:2,consts:[[1,"sm:container","mx-auto","p-4"],["class","space-y-8",4,"ngIf"],["class","flex justify-center text-white",4,"ngIf"],[1,"space-y-8"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["class","bg-black bg-opacity-50 backdrop-blur-sm rounded-lg border border-gray-700",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","border","border-gray-700"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","p-4","rounded-t-lg"],[1,"text-xl","font-bold","text-white","text-center"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-100"],[1,"text-xs","font-bold","text-gray-100","uppercase","bg-gray-800"],[1,"text-center"],["scope","col","class","px-3 py-3 cursor-pointer hover:bg-gray-700 transition-all min-w-[70px]",3,"ngClass","click",4,"ngFor","ngForOf"],["scope","col",1,"px-4","py-3","text-white","sticky-column"],["class","text-center hover:bg-gray-600",3,"ngClass",4,"ngFor","ngForOf"],["scope","col",1,"px-3","py-3","cursor-pointer","hover:bg-gray-700","transition-all","min-w-[70px]",3,"ngClass","click"],[1,"text-center","hover:bg-gray-600",3,"ngClass"],["class","transition-all",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-6","py-4","font-bold","text-white","sticky-column"],[1,"transition-all",3,"ngClass"],["class","font-bold text-white",4,"ngIf"],[4,"ngIf"],[1,"font-bold","text-white"],[4,"ngIf","ngIfElse"],["classicResult",""],[3,"ngClass"],[1,"flex","justify-center","text-white"],[1,"w-1/2","text-center","mt-10"],[1,"mb-4","text-4xl","font-extrabold","leading-none","tracking-tight","md:text-5xl","lg:text-6xl","text-white"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-tournament-info"),e.DNE(2,Ee,3,1,"div",1),e.DNE(3,Oe,4,0,"div",2),e.k0s()),2&n&&(e.R7$(2),e.Y8G("ngIf",i.currentLeague&&i.isGroupsTournament()&&i.hasGroupedPlayers()&&!i.started),e.R7$(1),e.Y8G("ngIf",i.started))},dependencies:[h.YU,h.Sq,h.bT,_],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 8px;text-align:center;border-bottom:1px solid #374151}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1f2937;color:#fff;font-weight:700;text-transform:uppercase;font-size:.75rem;letter-spacing:.05em}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .5s ease;position:relative}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#3b82f64d!important;box-shadow:0 2px 8px #3b82f666;border-left:3px solid #3b82f6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#111827}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1f2937}.group-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #374151;border-radius:8px;overflow:hidden;transition:all .6s ease}.group-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #3b82f64d;border-color:#3b82f680}.group-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);padding:16px;color:#fff;font-weight:700;text-align:center}.sticky-column[_ngcontent-%COMP%]{position:sticky;right:0;background-color:#1f2937;z-index:10}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto;scrollbar-width:thin;scrollbar-color:#4b5563 #1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px 4px;font-size:.875rem}.hidden[_ngcontent-%COMP%]{display:none}}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.transition-all[_ngcontent-%COMP%]{transition:all .2s ease}.text-green[_ngcontent-%COMP%]{color:#10b981}.text-red[_ngcontent-%COMP%]{color:#ef4444}.text-yellow[_ngcontent-%COMP%]{color:#f59e0b}.text-blue[_ngcontent-%COMP%]{color:#3b82f6}.text-gray[_ngcontent-%COMP%]{color:#9ca3af}\n\n/*# sourceMappingURL=groups-matches-table.component.css.map*/"]})}}return s})();function De(s,a){1&s&&(e.j41(0,"div",5)(1,"div",6)(2,"h1",7),e.EFF(3," The League Will Start Soon ! "),e.k0s()()())}function Ie(s,a){1&s&&e.nrm(0,"app-groups-matches-table")}function Re(s,a){if(1&s){const t=e.RV6();e.j41(0,"th",15),e.bIt("click",function(){const r=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.highlightColumn(r.playerId))}),e.EFF(1),e.k0s()}if(2&s){const t=a.$implicit,n=a.index,i=e.XpG(2);e.xc7("--cell-index",n)("--total-cells",i.players.length),e.Y8G("ngClass",i.highlightedColumn==t.playerId?"highlighted-header":"text-white"),e.R7$(1),e.SpI(" ",t.fullName," ")}}function $e(s,a){1&s&&(e.j41(0,"span",21),e.EFF(1," N/A "),e.k0s())}function Ge(s,a){if(1&s&&(e.qex(0),e.j41(1,"span",24),e.EFF(2),e.k0s(),e.bVm()),2&s){const t=e.XpG(2).$implicit,n=e.XpG().$implicit,i=e.XpG(2);e.R7$(1),e.Y8G("ngClass",i.getMatchResult(t,n).color),e.R7$(1),e.SpI(" ",i.getMatchResult(t,n).result," ")}}function je(s,a){if(1&s&&(e.j41(0,"span",24),e.EFF(1),e.k0s()),2&s){const t=e.XpG(2).$implicit,n=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",i.getClassicResult(t,n).color),e.R7$(1),e.SpI(" ",i.getClassicResult(t,n).result," ")}}function Le(s,a){if(1&s&&(e.j41(0,"span"),e.DNE(1,Ge,3,2,"ng-container",22),e.DNE(2,je,2,2,"ng-template",null,23,e.C5r),e.k0s()),2&s){const t=e.sdS(3),n=e.XpG(4);e.R7$(1),e.Y8G("ngIf",n.systemOfLeague===n.SystemOfLeague.Points)("ngIfElse",t)}}const Ne=function(s){return{"highlighted-cell":s}};function Ae(s,a){if(1&s&&(e.j41(0,"td",19),e.DNE(1,$e,2,0,"span",20),e.DNE(2,Le,4,2,"span",3),e.k0s()),2&s){const t=a.$implicit,n=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",e.eq3(3,Ne,i.highlightedColumn===t.playerId)),e.R7$(1),e.Y8G("ngIf",n.playerId===t.playerId),e.R7$(1),e.Y8G("ngIf",n.playerId!==t.playerId)}}function Ye(s,a){if(1&s&&(e.j41(0,"tr",16),e.DNE(1,Ae,3,5,"td",17),e.j41(2,"td",18),e.EFF(3),e.k0s()()),2&s){const t=a.$implicit,n=a.index,i=e.XpG(2);e.Y8G("ngClass",n%2==0?"bg-gray-900 ":" bg-gray-950"),e.R7$(1),e.Y8G("ngForOf",i.players),e.R7$(2),e.SpI(" ",t.fullName," ")}}function Ue(s,a){if(1&s&&(e.j41(0,"div",8)(1,"table",9)(2,"thead",10)(3,"tr",11),e.DNE(4,Re,2,6,"th",12),e.j41(5,"th",13),e.EFF(6," \u0627\u0644\u0645\u0628\u0627\u0631\u0627\u0629 "),e.k0s()()(),e.j41(7,"tbody"),e.DNE(8,Ye,4,3,"tr",14),e.k0s()()()),2&s){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.players),e.R7$(4),e.Y8G("ngForOf",t.players)}}let Xe=(()=>{class s{constructor(t,n,i,r){this.playerService=t,this.matchService=n,this.toastr=i,this.leagueService=r,this.players=[],this.matches=[],this.started=!0,this.highlightedColumn=null,this.currentLeague=null,this.SystemOfLeague=v.KE,this.LeagueType=v.Ck}ngOnInit(){this.loadCurrentLeague(),this.loadPlayers(),this.loadMatches(),this.loadLeagueSystem()}loadPlayers(){this.playerService.getPlayers().subscribe({next:t=>{t&&(this.players=t)},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646")}})}loadMatches(){this.matchService.getMatches().subscribe({next:t=>{t&&(this.matches=t,this.started=this.matches.every(n=>0==n.score1&&0==n.score2))},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0645\u0627\u062a\u0634\u0627\u062a")}})}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{console.error("League Table - \u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u062f\u0648\u0631\u064a:",t),this.currentLeague=null}})}loadLeagueSystem(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.systemOfLeague=t.league?.systemOfLeague},error:()=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0646\u0638\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u064a")}})}getMatchResult(t,n){if(t.playerId===n.playerId)return{result:"N/A",color:"text-gray-800"};const i=this.matches.find(c=>c.player1Name===t.fullName&&c.player2Name===n.fullName||c.player1Name===n.fullName&&c.player2Name===t.fullName);if(!i)return{result:"-",color:"text-gray-500"};const r=i.player1Name===t.fullName?i.score1:i.score2,o=i.player2Name===n.fullName?i.score2:i.score1;let l="text-white ";return r>o?l="text-green-600 font-bold":r<o?l="text-red-600 font-bold":r==o&&0!=r&&(l="text-gray-400 font-bold text-yellow-400"),{result:`${r} - ${o}`,color:l}}getClassicResult(t,n){if(t.playerId===n.playerId)return{result:"N/A",color:"text-gray-800"};const i=this.matches.find(l=>l.player1Name===t.fullName&&l.player2Name===n.fullName||l.player1Name===n.fullName&&l.player2Name===t.fullName);if(!i)return{result:"-",color:"text-gray-500"};const r=i.player1Name===t.fullName?i.score1:i.score2,o=i.player2Name===n.fullName?i.score2:i.score1;return r>o?{result:"\u0641\u0648\u0632",color:"text-green-600 font-bold"}:r<o?{result:"\u062e\u0633\u0627\u0631\u0629",color:"text-red-600 font-bold"}:r===o&&0!==r?{result:"\u062a\u0639\u0627\u062f\u0644",color:"text-yellow-400 font-bold"}:{result:"-",color:"text-gray-500"}}highlightColumn(t){this.highlightedColumn=this.highlightedColumn===t?null:t}isGroupsTournament(){return this.currentLeague?.typeOfLeague===v.Ck.Groups||"Groups"===String(this.currentLeague?.typeOfLeague)}onClickOutside(t){const n=document.querySelector("table");n&&!n.contains(t.target)&&(this.highlightedColumn=null)}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(P.x),e.rXU(k.T),e.rXU(F.tw),e.rXU(d.N))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-league-table"]],hostBindings:function(n,i){1&n&&e.bIt("click",function(o){return i.onClickOutside(o)},!1,e.EBC)},decls:6,vars:3,consts:[[1,"p-4"],[1,"text-3xl","font-bold","text-white","text-center","mb-6","fa-bold"],["class","flex justify-center text-gray-500",4,"ngIf"],[4,"ngIf"],["class","table-container relative overflow-x-auto shadow-md sm:rounded-lg",4,"ngIf"],[1,"flex","justify-center","text-gray-500"],[1,"w-1/2","text-center","mt-10"],[1,"mb-4","text-4xl","font-extrabold","leading-none","tracking-tight","md:text-5xl","lg:text-6xl","text-white"],[1,"table-container","relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-400"],[1,"text-xs","uppercase"],[1,"text-center"],["scope","col","class","px-6 py-3 cursor-pointer hover:bg-gray-400 transition-all min-w-[70px] sticky-header",3,"ngClass","--cell-index","--total-cells","click",4,"ngFor","ngForOf"],["scope","col",1,"px-4","py-3","text-white","sticky-corner"],["class","text-center hover:bg-gray-600",3,"ngClass",4,"ngFor","ngForOf"],["scope","col",1,"px-6","py-3","cursor-pointer","hover:bg-gray-400","transition-all","min-w-[70px]","sticky-header",3,"ngClass","click"],[1,"text-center","hover:bg-gray-600",3,"ngClass"],["class","transition-all",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-6","py-4","font-bold","text-white","sticky-column"],[1,"transition-all",3,"ngClass"],["class","font-bold text-white",4,"ngIf"],[1,"font-bold","text-white"],[4,"ngIf","ngIfElse"],["classicResult",""],[3,"ngClass"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2," Games Table "),e.k0s(),e.DNE(3,De,4,0,"div",2),e.DNE(4,Ie,1,0,"app-groups-matches-table",3),e.DNE(5,Ue,9,2,"div",4),e.k0s()),2&n&&(e.R7$(3),e.Y8G("ngIf",!i.currentLeague),e.R7$(1),e.Y8G("ngIf",i.currentLeague&&i.isGroupsTournament()),e.R7$(1),e.Y8G("ngIf",i.currentLeague&&!i.isGroupsTournament()))},dependencies:[h.YU,h.Sq,h.bT,le],styles:['thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--thead-gradient);background-size:100% 100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background:var(--thead-gradient);background-size:calc(100% * var(--total-cells)) 100%;background-position:calc(-100% * var(--cell-index)) 0;background-attachment:scroll;color:#fff;border:none}.sticky-header[_ngcontent-%COMP%]:hover{background-color:#9ca3af!important;color:#fff!important}.sticky-column[_ngcontent-%COMP%]{position:sticky;right:0;z-index:50;box-shadow:-2px 0 4px #0000004d;-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px)}.sticky-corner[_ngcontent-%COMP%]{position:sticky;top:0;right:0;z-index:150;background-color:#000!important;box-shadow:-2px 2px 8px #0006}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   .sticky-column[_ngcontent-%COMP%]{background-color:#030712}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   .sticky-column[_ngcontent-%COMP%]{background-color:#111827}.table-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto;position:relative;max-height:80vh;border-radius:8px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{position:relative;border-collapse:collapse;border-spacing:0}.table-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:2px;height:100%;background:transparent}.highlighted-cell[_ngcontent-%COMP%]{box-shadow:inset 4px 0 6px -4px #ffffff4d,inset -4px 0 6px -4px #ffffff4d!important;border-radius:3px;transition:all .3s ease}.highlighted-cell[_ngcontent-%COMP%]:hover, .highlighted-header[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 0 1px #ffffff80,inset 0 1px #fff3!important}.sticky-header.highlighted-header[_ngcontent-%COMP%]{z-index:120}.sticky-header[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1);color:#fff}.sticky-column[_ngcontent-%COMP%]{border-left:1px solid rgba(255,255,255,.1);font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.5)}\n\n/*# sourceMappingURL=league-table.component.css.map*/']})}}return s})();function Ve(s,a){1&s&&(e.j41(0,"div",4)(1,"h3",5),e.EFF(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u0628\u0627\u0631\u064a\u0627\u062a \u0625\u0642\u0635\u0627\u0626\u064a\u0629 \u0628\u0639\u062f"),e.k0s(),e.j41(3,"p",6),e.EFF(4," \u0633\u064a\u062a\u0645 \u0639\u0631\u0636 \u0627\u0644\u0645\u0628\u0627\u0631\u064a\u0627\u062a \u0627\u0644\u0625\u0642\u0635\u0627\u0626\u064a\u0629 \u0647\u0646\u0627 \u0639\u0646\u062f\u0645\u0627 \u062a\u0628\u062f\u0623 \u0645\u0631\u062d\u0644\u0629 \u0627\u0644\u0625\u0642\u0635\u0627\u0621 "),e.k0s()())}function Be(s,a){1&s&&(e.j41(0,"span",15),e.EFF(1,"\u2713"),e.k0s())}function ze(s,a){1&s&&(e.j41(0,"span",15),e.EFF(1,"\u2713"),e.k0s())}function He(s,a){if(1&s&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12),e.EFF(3),e.DNE(4,Be,2,0,"span",13),e.k0s()(),e.j41(5,"div",14),e.EFF(6,"vs"),e.k0s(),e.j41(7,"div",11)(8,"div",12),e.EFF(9),e.DNE(10,ze,2,0,"span",13),e.k0s()()()),2&s){const t=a.$implicit;e.R7$(3),e.SpI(" ",t.player1Name||"---"," "),e.R7$(1),e.Y8G("ngIf",t.isCompleted&&t.score1>t.score2),e.R7$(5),e.SpI(" ",t.player2Name||"---"," "),e.R7$(1),e.Y8G("ngIf",t.isCompleted&&t.score2>t.score1)}}function We(s,a){if(1&s&&(e.j41(0,"div",7)(1,"h3"),e.EFF(2,"Quarter Finals"),e.k0s(),e.j41(3,"div",8),e.DNE(4,He,11,4,"div",9),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.quarterFinals())}}function Ke(s,a){1&s&&(e.j41(0,"span",15),e.EFF(1,"\u2713"),e.k0s())}function Qe(s,a){1&s&&(e.j41(0,"span",15),e.EFF(1,"\u2713"),e.k0s())}function Ze(s,a){if(1&s&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12),e.EFF(3),e.DNE(4,Ke,2,0,"span",13),e.k0s()(),e.j41(5,"div",14),e.EFF(6,"vs"),e.k0s(),e.j41(7,"div",11)(8,"div",12),e.EFF(9),e.DNE(10,Qe,2,0,"span",13),e.k0s()()()),2&s){const t=a.$implicit;e.R7$(3),e.SpI(" ",t.player1Name||"---"," "),e.R7$(1),e.Y8G("ngIf",t.isCompleted&&t.score1>t.score2),e.R7$(5),e.SpI(" ",t.player2Name||"---"," "),e.R7$(1),e.Y8G("ngIf",t.isCompleted&&t.score2>t.score1)}}function Je(s,a){if(1&s&&(e.j41(0,"div",7)(1,"h3"),e.EFF(2,"Semi Finals"),e.k0s(),e.j41(3,"div",8),e.DNE(4,Ze,11,4,"div",9),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.semiFinals())}}function qe(s,a){1&s&&(e.j41(0,"span",17),e.EFF(1,"\u{1f451}"),e.k0s())}function et(s,a){1&s&&(e.j41(0,"span",17),e.EFF(1,"\u{1f451}"),e.k0s())}function tt(s,a){if(1&s&&(e.j41(0,"div",7)(1,"h3"),e.EFF(2,"Final"),e.k0s(),e.j41(3,"div",8)(4,"div",10)(5,"div",11)(6,"div",12),e.EFF(7),e.DNE(8,qe,2,0,"span",16),e.k0s()(),e.j41(9,"div",14),e.EFF(10,"vs"),e.k0s(),e.j41(11,"div",11)(12,"div",12),e.EFF(13),e.DNE(14,et,2,0,"span",16),e.k0s()()()()()),2&s){const t=e.XpG();let n,i;e.R7$(7),e.SpI(" ",null!==(n=null==(n=t.final())?null:n.player1Name)&&void 0!==n?n:"---"," "),e.R7$(1),e.Y8G("ngIf",t.final().isCompleted&&t.final().score1>t.final().score2),e.R7$(5),e.SpI(" ",null!==(i=null==(i=t.final())?null:i.player2Name)&&void 0!==i?i:"---"," "),e.R7$(1),e.Y8G("ngIf",t.final().isCompleted&&t.final().score2>t.final().score1)}}let Q=(()=>{class s{constructor(t){this.leagueService=t,this.quarterFinals=(0,e.vPA)([]),this.semiFinals=(0,e.vPA)([]),this.final=(0,e.vPA)(null)}ngOnInit(){this.loadKnockoutMatches()}ngOnChanges(t){t.leagueId&&this.loadKnockoutMatches()}loadKnockoutMatches(){if(!this.leagueId)return this.quarterFinals.set([]),this.semiFinals.set([]),void this.final.set(null);this.leagueService.GetAllLeaguesRank().subscribe({next:t=>{const n=t.find(o=>o.leagueId===this.leagueId);let i=[];n?.matches&&i.push(...n.matches),n?.knockoutMatches&&i.push(...n.knockoutMatches);const r=i.filter((o,l,c)=>{const m=o.stage||o.tournamentStage,y="QuarterFinals"===m||"SemiFinals"===m||"Final"===m||"GroupStage"===m&&!1,M=c.findIndex(G=>G.matchId===o.matchId)!==l;return y&&!M});r.length>0?this.processKnockoutMatches(r):(this.quarterFinals.set([]),this.semiFinals.set([]),this.final.set(null))},error:t=>{this.quarterFinals.set([]),this.semiFinals.set([]),this.final.set(null)}})}processKnockoutMatches(t){const n=t.filter(o=>"QuarterFinals"===(o.stage||o.tournamentStage)),i=t.filter(o=>"SemiFinals"===(o.stage||o.tournamentStage)),r=t.find(o=>"Final"===(o.stage||o.tournamentStage));this.quarterFinals.set(this.shuffleMatches(n)),this.semiFinals.set(this.shuffleMatches(i)),this.final.set(r??null)}shuffleMatches(t){return t.map(n=>Math.random()>.5?{...n,player1Name:n.player2Name,player2Name:n.player1Name,player1Id:n.player2Id,player2Id:n.player1Id,score1:n.score2,score2:n.score1}:n)}hasQuarterFinals(){return this.quarterFinals().length>0}hasSemiFinals(){return this.semiFinals().length>0}hasFinal(){return null!==this.final()}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(d.N))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-bracket-tree"]],inputs:{leagueId:"leagueId"},standalone:!0,features:[e.OA$,e.aNF],decls:8,vars:4,consts:[[1,"bracket-container"],["class","no-matches-message",4,"ngIf"],[1,"bracket-stage"],["class","stage-container",4,"ngIf"],[1,"no-matches-message"],[1,"text-center","text-gray-400"],[1,"text-center","text-gray-500"],[1,"stage-container"],[1,"matches"],["class","match",4,"ngFor","ngForOf"],[1,"match"],[1,"player-container"],[1,"player"],["class","winner-check",4,"ngIf"],[1,"vs"],[1,"winner-check"],["class","champion-check",4,"ngIf"],[1,"champion-check"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.DNE(1,Ve,5,0,"div",1),e.j41(2,"div",2),e.DNE(3,We,5,1,"div",3),e.k0s(),e.j41(4,"div",2),e.DNE(5,Je,5,1,"div",3),e.k0s(),e.j41(6,"div",2),e.DNE(7,tt,15,4,"div",3),e.k0s()()),2&n&&(e.R7$(1),e.Y8G("ngIf",!i.hasQuarterFinals()&&!i.hasSemiFinals()&&!i.hasFinal()),e.R7$(2),e.Y8G("ngIf",i.hasQuarterFinals()),e.R7$(2),e.Y8G("ngIf",i.hasSemiFinals()),e.R7$(2),e.Y8G("ngIf",i.hasFinal()))},dependencies:[h.MD,h.Sq,h.bT],styles:[".bracket-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;font-family:Tajawal,Arial,sans-serif}.no-matches-message[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:8px;margin-bottom:2rem}.no-matches-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;color:#9ca3af}.no-matches-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;font-size:.9rem}.refresh-button-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:1rem}.refresh-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;font-weight:700;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;gap:.5rem}.refresh-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.refresh-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.bracket-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#fff;font-size:2rem;font-weight:700}.bracket-stage[_ngcontent-%COMP%]{margin-bottom:3rem}.bracket-stage[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#fff;font-size:1.5rem;font-weight:700}.stage-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 4px 6px #0000001a;border-radius:8px;padding:5px}.matches[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:2rem;justify-items:center}.match[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;width:100%;max-width:500px}.player-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.player[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:6px;color:#fff;font-weight:700;min-width:150px;text-align:center;box-shadow:0 2px 4px #0003;display:flex;align-items:center;justify-content:center;position:relative;padding:.5rem}.winner-check[_ngcontent-%COMP%]{color:#22c55e;font-weight:700;font-size:1.2rem;margin-left:.5rem;display:inline-flex;align-items:center;justify-content:center}.champion-check[_ngcontent-%COMP%]{color:#fbbf24;font-weight:700;font-size:1.2rem;margin-left:.5rem;display:inline-flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_champion-glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_champion-glow{0%{filter:brightness(1)}to{filter:brightness(1.3)}}.vs[_ngcontent-%COMP%]{font-weight:700;color:#fff;font-size:1.2rem}@media (max-width: 1024px){.bracket-container[_ngcontent-%COMP%]{padding:1rem}.bracket-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem}.bracket-stage[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.matches[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.5rem}.match[_ngcontent-%COMP%]{flex-direction:column;gap:.2rem}.player[_ngcontent-%COMP%]{min-width:70px;font-size:.8rem;padding:.3rem .5rem}.winner-check[_ngcontent-%COMP%], .champion-check[_ngcontent-%COMP%]{font-size:.8rem;margin-left:.3rem}.vs[_ngcontent-%COMP%]{font-size:.8rem}}\n\n/*# sourceMappingURL=bracket-tree.component.css.map*/"]})}}return s})();function nt(s,a){if(1&s&&(e.j41(0,"tr",16)(1,"th",17),e.EFF(2),e.k0s(),e.j41(3,"td",18),e.EFF(4),e.k0s(),e.j41(5,"td",19),e.EFF(6),e.k0s(),e.j41(7,"td",20),e.EFF(8),e.k0s(),e.j41(9,"td",21),e.EFF(10),e.k0s(),e.j41(11,"td",22),e.EFF(12),e.k0s(),e.j41(13,"td",23),e.EFF(14),e.k0s()()),2&s){const t=a.$implicit;e.Y8G("ngClass",a.index%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(2),e.SpI(" ",t.rank," "),e.R7$(2),e.SpI(" ",t.fullName," "),e.R7$(2),e.SpI(" ",t.points," "),e.R7$(2),e.SpI(" ",t.wins," "),e.R7$(2),e.SpI(" ",t.draws," "),e.R7$(2),e.SpI(" ",t.losses," "),e.R7$(2),e.SpI(" ",t.matchesPlayed," ")}}function st(s,a){if(1&s&&(e.j41(0,"div",6)(1,"div",7)(2,"h3",8),e.EFF(3),e.k0s()(),e.j41(4,"div",9)(5,"table",10)(6,"thead",11)(7,"tr",12)(8,"th",13),e.EFF(9,"Rank"),e.k0s(),e.j41(10,"th",13),e.EFF(11,"Name"),e.k0s(),e.j41(12,"th",13),e.EFF(13,"Points"),e.k0s(),e.j41(14,"th",14),e.EFF(15,"Win"),e.k0s(),e.j41(16,"th",14),e.EFF(17,"Draw"),e.k0s(),e.j41(18,"th",14),e.EFF(19,"Loss"),e.k0s(),e.j41(20,"th",13),e.EFF(21,"Games"),e.k0s()()(),e.j41(22,"tbody"),e.DNE(23,nt,15,8,"tr",15),e.k0s()()()()),2&s){const t=a.$implicit,n=e.XpG(2);e.R7$(3),e.SpI(" Group ",t," "),e.R7$(20),e.Y8G("ngForOf",n.getGroupedPlayers()[t])}}function it(s,a){if(1&s&&(e.j41(0,"div",3)(1,"div",4),e.DNE(2,st,24,2,"div",5),e.k0s()()),2&s){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.getGroupNumbers())}}function rt(s,a){1&s&&(e.j41(0,"div",24)(1,"div",25)(2,"h1",26),e.EFF(3," The League Will Start Soon ! "),e.k0s()()())}let ce=(()=>{class s{constructor(t,n,i){this.playerService=t,this.leagueService=n,this.toastr=i,this.players=[],this.currentLeague=null,this.LeagueType=v.Ck,this.started=!0}ngOnInit(){this.loadCurrentLeague(),this.loadPlayers()}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{console.error("Groups Table - \u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u062f\u0648\u0631\u064a:",t),this.currentLeague=null}})}loadPlayers(){this.playerService.getrank().subscribe({next:t=>{this.players=t,this.started=this.players.every(n=>0===n.matchesPlayed)},error:t=>{console.error("Groups Table - \u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646:",t),this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646")}})}getGroupedPlayers(){const t={};return this.players.forEach(n=>{n.groupNumber&&n.groupNumber>0&&(t[n.groupNumber]||(t[n.groupNumber]=[]),t[n.groupNumber].push(n))}),Object.keys(t).forEach(n=>{const i=parseInt(n);t[i].sort((r,o)=>o.points-r.points)}),t}getGroupNumbers(){const t=this.getGroupedPlayers();return Object.keys(t).map(n=>parseInt(n)).sort((n,i)=>n-i)}hasGroupedPlayers(){const t=this.getGroupedPlayers();return Object.keys(t).length>0}isGroupsTournament(){return this.currentLeague?.typeOfLeague===v.Ck.Groups||"Groups"===String(this.currentLeague?.typeOfLeague)}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(P.x),e.rXU(d.N),e.rXU(F.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-groups-table"]],decls:4,vars:2,consts:[[1,"sm:container","mx-auto","p-4"],["class","space-y-8",4,"ngIf"],["class","flex justify-center text-white",4,"ngIf"],[1,"space-y-8"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["class","bg-black bg-opacity-50 backdrop-blur-sm rounded-lg border border-gray-700",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","border","border-gray-700"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","p-4","rounded-t-lg"],[1,"text-xl","font-bold","text-white","text-center"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-100"],[1,"text-xs","font-bold","text-gray-100","uppercase","bg-gray-800"],[1,"text-center"],["scope","col",1,"px-3","py-3"],["scope","col",1,"px-3","py-3","hidden","sm:table-cell"],["class","border-b text-center border-gray-700 hover:bg-gray-600 font-bold text-sm md:text-[16px] transition-colors",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600","font-bold","text-sm","md:text-[16px]","transition-colors",3,"ngClass"],["scope","row",1,"px-3","py-4","font-medium","text-white","whitespace-nowrap","relative"],[1,"px-3","py-4"],[1,"px-3","py-4","text-center","font-bold"],[1,"px-3","py-4","text-center","text-green-500","hidden","sm:table-cell"],[1,"px-3","py-4","text-center","text-yellow-400","hidden","sm:table-cell"],[1,"px-3","py-4","text-center","text-red-600","hidden","sm:table-cell"],[1,"px-3","py-4","text-center"],[1,"flex","justify-center","text-white"],[1,"w-1/2","text-center","mt-10"],[1,"mb-4","text-4xl","font-extrabold","leading-none","tracking-tight","md:text-5xl","lg:text-6xl","text-white"]],template:function(n,i){1&n&&(e.j41(0,"div",0),e.nrm(1,"app-tournament-info"),e.DNE(2,it,3,1,"div",1),e.DNE(3,rt,4,0,"div",2),e.k0s()),2&n&&(e.R7$(2),e.Y8G("ngIf",i.currentLeague&&i.isGroupsTournament()&&i.hasGroupedPlayers()&&!i.started),e.R7$(1),e.Y8G("ngIf",i.started))},dependencies:[h.YU,h.Sq,h.bT,_],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 8px;text-align:center;border-bottom:1px solid #374151}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1f2937;color:#fff;font-weight:700;text-transform:uppercase;font-size:.75rem;letter-spacing:.05em}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:relative}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#111827}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1f2937}.rank-indicator[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border-radius:50%;top:-4px;left:-4px}.rank-1[_ngcontent-%COMP%]{background-color:#fbbf24}.rank-2[_ngcontent-%COMP%]{background-color:#9ca3af}.rank-3[_ngcontent-%COMP%]{background-color:#ea580c}.group-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #374151;border-radius:8px;overflow:hidden;transition:all .6s ease}.group-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #3b82f64d;border-color:#3b82f680}.group-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);padding:16px;color:#fff;font-weight:700;text-align:center}.groups-summary[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:24px;margin-top:32px}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);border-radius:8px;padding:12px;text-align:center;transition:transform .2s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.info-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:24px;text-align:center;margin-bottom:32px}.text-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.text-green[_ngcontent-%COMP%]{color:#10b981}.text-red[_ngcontent-%COMP%]{color:#ef4444}.text-yellow[_ngcontent-%COMP%]{color:#f59e0b}.text-blue[_ngcontent-%COMP%]{color:#3b82f6}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px 4px;font-size:.875rem}.hidden[_ngcontent-%COMP%]{display:none}}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto;scrollbar-width:thin;scrollbar-color:#4b5563 #1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.message-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:32px;text-align:center}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:all .2s ease;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.spinner[_ngcontent-%COMP%]{border:4px solid #1f2937;border-top:4px solid #3b82f6;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n\n/*# sourceMappingURL=groups-table.component.css.map*/"]})}}return s})();var ue=p(9204);function at(s,a){if(1&s&&(e.j41(0,"div",11)(1,"div",12),e.nrm(2,"div",13),e.j41(3,"div",14),e.EFF(4),e.k0s()(),e.j41(5,"div",15),e.EFF(6),e.k0s()()),2&s){const t=a.$implicit,n=a.index,i=e.XpG(2);e.AVh("current-group",n===i.currentGroupIndex)("completed-group",i.isGroupCompleted(t.groupNumber)),e.R7$(1),e.AVh("opening",i.isGroupAnimating(t.groupNumber))("opened",i.isGroupCompleted(t.groupNumber)),e.R7$(3),e.JRh(t.groupNumber),e.R7$(2),e.SpI(" Group ",t.groupNumber," ")}}function ot(s,a){if(1&s&&(e.j41(0,"div",21)(1,"div",22),e.EFF(2),e.k0s(),e.j41(3,"div",23),e.EFF(4),e.k0s()()),2&s){const t=a.$implicit,n=a.index,i=e.XpG(3);e.xc7("animation-delay",200*n,"ms"),e.AVh("revealed",n<=i.currentRevealedPlayer),e.R7$(2),e.JRh(n+1),e.R7$(2),e.JRh(t.fullName)}}function lt(s,a){if(1&s&&(e.j41(0,"div",16)(1,"div",17)(2,"h2",18),e.EFF(3),e.k0s()(),e.j41(4,"div",19),e.DNE(5,ot,5,6,"div",20),e.k0s()()),2&s){const t=e.XpG(2);let n,i;e.R7$(3),e.SpI(" \u{1f3c6} Group ",null==(n=t.getCurrentGroup())?null:n.groupNumber," Players \u{1f3c6} "),e.R7$(2),e.Y8G("ngForOf",null==(i=t.getCurrentGroup())?null:i.players)}}function ct(s,a){if(1&s&&(e.j41(0,"div",7)(1,"div",8),e.DNE(2,at,7,10,"div",9),e.k0s(),e.DNE(3,lt,6,2,"div",10),e.k0s()),2&s){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.animationGroups),e.R7$(1),e.Y8G("ngIf",t.getCurrentGroup())}}function ut(s,a){1&s&&e.nrm(0,"div",24)}const dt=function(){return[1,2,3,4,5,6,7,8,9,10]};let gt=(()=>{class s{constructor(){this.players=[],this.animationComplete=new e.bkB,this.animationGroups=[],this.currentGroupIndex=0,this.showBalls=!1,this.currentRevealedPlayer=-1}ngOnInit(){this.setupAnimation(),this.startAnimation()}setupAnimation(){const t=this.getGroupedPlayers();Object.keys(t).forEach(n=>{const i=parseInt(n);this.animationGroups.push({groupNumber:i,players:t[i],animationState:"pending"})}),this.animationGroups.sort((n,i)=>n.groupNumber-i.groupNumber)}getGroupedPlayers(){const t={};return this.players.forEach(n=>{n.groupNumber&&(t[n.groupNumber]||(t[n.groupNumber]=[]),t[n.groupNumber].push(n))}),0===Object.keys(t).length&&[...this.players].sort((i,r)=>r.points-i.points).forEach((i,r)=>{const o=r%4+1;t[o]||(t[o]=[]),t[o].push(i)}),Object.keys(t).forEach(n=>{const i=parseInt(n);t[i].sort((r,o)=>o.points-r.points)}),t}startAnimation(){var t=this;return(0,ue.A)(function*(){yield t.delay(800),t.showBalls=!0,yield t.delay(1500);for(let n=0;n<t.animationGroups.length;n++)t.currentGroupIndex=n,t.currentRevealedPlayer=-1,yield t.animateGroup(t.animationGroups[n]),n<t.animationGroups.length-1?(yield t.delay(2500),t.currentRevealedPlayer=-1,yield t.delay(500)):yield t.delay(3e3);yield t.delay(2500),t.animationComplete.emit()})()}animateGroup(t){var n=this;return(0,ue.A)(function*(){t.animationState="animating",yield n.delay(1200);for(let i=0;i<t.players.length;i++)n.currentRevealedPlayer=i,yield n.delay(800);t.animationState="completed"})()}delay(t){return new Promise(n=>setTimeout(n,t))}getCurrentGroup(){return this.animationGroups[this.currentGroupIndex]||null}isGroupAnimating(t){return"animating"===this.animationGroups.find(i=>i.groupNumber===t)?.animationState}isGroupCompleted(t){return"completed"===this.animationGroups.find(i=>i.groupNumber===t)?.animationState}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-group-draw-animation"]],inputs:{players:"players"},outputs:{animationComplete:"animationComplete"},decls:9,vars:3,consts:[[1,"draw-animation-container"],[1,"text-center","mb-8"],[1,"text-4xl","md:text-6xl","font-bold","text-white","mb-4","animate-pulse"],[1,"text-xl","text-gray-300"],["class","animation-area",4,"ngIf"],[1,"particles-bg"],["class","particle",4,"ngFor","ngForOf"],[1,"animation-area"],[1,"balls-container"],["class","ball-wrapper",3,"current-group","completed-group",4,"ngFor","ngForOf"],["class","names-reveal-area",4,"ngIf"],[1,"ball-wrapper"],[1,"ball"],[1,"ball-shine"],[1,"group-number"],[1,"group-title"],[1,"names-reveal-area"],[1,"current-group-header"],[1,"text-3xl","font-bold","text-center","mb-6"],[1,"players-list"],["class","player-card",3,"revealed","animation-delay",4,"ngFor","ngForOf"],[1,"player-card"],[1,"player-rank"],[1,"player-name"],[1,"particle"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3," Tournament Draw "),e.k0s(),e.j41(4,"p",3),e.EFF(5," Revealing Groups... "),e.k0s()(),e.DNE(6,ct,4,2,"div",4),e.j41(7,"div",5),e.DNE(8,ut,1,0,"div",6),e.k0s()()),2&n&&(e.R7$(6),e.Y8G("ngIf",i.showBalls),e.R7$(2),e.Y8G("ngForOf",e.lJ4(2,dt)))},dependencies:[h.Sq,h.bT],styles:[".draw-animation-container[_ngcontent-%COMP%]{min-height:100vh;background:rgba(0,0,0,.5);position:relative;overflow:hidden;padding:2rem;display:flex;flex-direction:column;align-items:center;justify-content:center}.animation-area[_ngcontent-%COMP%]{width:100%;max-width:1200px;position:relative;z-index:10}.balls-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem;margin-bottom:3rem;flex-wrap:wrap}.ball-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;opacity:.6;transform:scale(.9);transition:all .5s ease}.ball-wrapper.current-group[_ngcontent-%COMP%]{opacity:1;transform:scale(1.1)}.ball-wrapper.completed-group[_ngcontent-%COMP%]{opacity:.7;transform:scale(.95)}.ball[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4);background-size:400% 400%;animation:_ngcontent-%COMP%_ballGradient 3s ease infinite;position:relative;cursor:pointer;box-shadow:0 10px 30px #0000004d;transition:all .8s cubic-bezier(.68,-.55,.265,1.55);overflow:hidden}.ball.opening[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_ballOpening 2s ease-in-out forwards;transform:rotateY(180deg) scale(1.2)}.ball.opened[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ffd700,#ffed4e);box-shadow:0 0 30px #ffd700cc,0 0 50px #ff8c0066;transform:scale(.9);animation:_ngcontent-%COMP%_completedPulse 2s ease-in-out infinite}.ball-shine[_ngcontent-%COMP%]{position:absolute;top:15%;left:20%;width:30%;height:30%;border-radius:50%;background:rgba(255,255,255,.3);filter:blur(10px)}.group-number[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:700;font-size:1.5rem;text-shadow:0 2px 4px rgba(0,0,0,.5)}.group-title[_ngcontent-%COMP%]{margin-top:1rem;color:#fff;font-weight:600;text-align:center;opacity:0;animation:_ngcontent-%COMP%_fadeInUp .8s ease forwards}.names-reveal-area[_ngcontent-%COMP%]{background:rgba(0,0,0,.8);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-radius:25px;padding:3rem;border:3px solid rgba(255,255,255,.2);animation:_ngcontent-%COMP%_slideInUp 1s ease forwards;box-shadow:0 20px 60px #00000080;margin:2rem 0}.current-group-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ffd700,#ff8c00);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;animation:_ngcontent-%COMP%_textGlow 2s ease-in-out infinite alternate}.players-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:1.5rem}.player-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(255,255,255,.15),rgba(255,255,255,.08));border-radius:20px;padding:2rem;border:2px solid rgba(255,255,255,.3);display:flex;align-items:center;gap:1.5rem;opacity:0;transform:translateY(50px) rotateX(90deg);transition:all .8s cubic-bezier(.68,-.55,.265,1.55);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 10px 30px #0000004d}.player-card.revealed[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) rotateX(0);animation:_ngcontent-%COMP%_cardReveal 1s ease forwards}.player-rank[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(45deg,#ff6b6b,#4ecdc4);display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:1.1rem}.player-name[_ngcontent-%COMP%]{flex:1;font-weight:600;color:#fff;font-size:1.1rem}.player-points[_ngcontent-%COMP%]{background:rgba(255,215,0,.2);color:gold;padding:.5rem 1rem;border-radius:20px;font-weight:700;border:1px solid rgba(255,215,0,.3)}.particles-bg[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:1}.particle[_ngcontent-%COMP%]{position:absolute;width:4px;height:4px;background:rgba(255,255,255,.6);border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.particle[_ngcontent-%COMP%]:nth-child(1){left:10%;animation-delay:0s}.particle[_ngcontent-%COMP%]:nth-child(2){left:20%;animation-delay:1s}.particle[_ngcontent-%COMP%]:nth-child(3){left:30%;animation-delay:2s}.particle[_ngcontent-%COMP%]:nth-child(4){left:40%;animation-delay:3s}.particle[_ngcontent-%COMP%]:nth-child(5){left:50%;animation-delay:4s}.particle[_ngcontent-%COMP%]:nth-child(6){left:60%;animation-delay:5s}.particle[_ngcontent-%COMP%]:nth-child(7){left:70%;animation-delay:.5s}.particle[_ngcontent-%COMP%]:nth-child(8){left:80%;animation-delay:1.5s}.particle[_ngcontent-%COMP%]:nth-child(9){left:90%;animation-delay:2.5s}.particle[_ngcontent-%COMP%]:nth-child(10){left:15%;animation-delay:3.5s}@keyframes _ngcontent-%COMP%_ballGradient{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}@keyframes _ngcontent-%COMP%_ballOpening{0%{transform:rotateY(0) scale(1)}50%{transform:rotateY(90deg) scale(1.3)}to{transform:rotateY(180deg) scale(1.2)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_cardReveal{0%{opacity:0;transform:translateY(30px) rotateX(90deg)}50%{transform:translateY(-5px) rotateX(0)}to{opacity:1;transform:translateY(0) rotateX(0)}}@keyframes _ngcontent-%COMP%_textGlow{0%{text-shadow:0 0 10px rgba(255,215,0,.5)}to{text-shadow:0 0 20px rgba(255,215,0,.8),0 0 30px rgba(255,140,0,.6)}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0);opacity:.6}50%{transform:translateY(-100px) rotate(180deg);opacity:1}}@keyframes _ngcontent-%COMP%_completedPulse{0%,to{box-shadow:0 0 20px #ffd70099,0 0 40px #ff8c004d;transform:scale(.9)}50%{box-shadow:0 0 30px #ffd700e6,0 0 60px #ff8c0080;transform:scale(.95)}}@media (max-width: 1024px) and (min-width: 769px){.players-list[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:1.2rem}.player-card[_ngcontent-%COMP%]{padding:1.8rem}}@media (max-width: 768px){.draw-animation-container[_ngcontent-%COMP%]{padding:1rem}.balls-container[_ngcontent-%COMP%]{gap:1rem}.ball[_ngcontent-%COMP%]{width:60px;height:60px}.group-number[_ngcontent-%COMP%]{font-size:1.2rem}.names-reveal-area[_ngcontent-%COMP%]{padding:1.5rem;margin:1rem 0}.players-list[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem}.player-card[_ngcontent-%COMP%]{padding:1.5rem;gap:1rem}.current-group-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.balls-container[_ngcontent-%COMP%]{gap:.5rem}.ball[_ngcontent-%COMP%]{width:50px;height:50px}.group-number[_ngcontent-%COMP%]{font-size:1rem}.names-reveal-area[_ngcontent-%COMP%]{padding:1rem}.player-card[_ngcontent-%COMP%]{padding:1.2rem;gap:.8rem}.player-name[_ngcontent-%COMP%]{font-size:1rem}.current-group-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem}}\n\n/*# sourceMappingURL=group-draw-animation.component.css.map*/"]})}}return s})();function pt(s,a){1&s&&(e.j41(0,"div",6)(1,"div",7)(2,"h1",8),e.EFF(3," The League Will Start Soon ! "),e.k0s()()())}function ht(s,a){if(1&s){const t=e.RV6();e.j41(0,"app-group-draw-animation",9),e.bIt("animationComplete",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onDrawAnimationComplete())}),e.k0s()}if(2&s){const t=e.XpG();e.Y8G("players",t.players)}}function mt(s,a){1&s&&e.nrm(0,"app-groups-table")}function ft(s,a){1&s&&e.nrm(0,"i",28)}function _t(s,a){if(1&s&&(e.j41(0,"tr",19)(1,"th",20),e.DNE(2,ft,1,0,"i",21),e.EFF(3),e.k0s(),e.j41(4,"td",22),e.EFF(5),e.k0s(),e.j41(6,"td",23),e.EFF(7),e.k0s(),e.j41(8,"td",24),e.EFF(9),e.k0s(),e.j41(10,"td",25),e.EFF(11),e.k0s(),e.j41(12,"td",26),e.EFF(13),e.k0s(),e.j41(14,"td",23),e.EFF(15),e.k0s(),e.j41(16,"td",27),e.EFF(17),e.nI1(18,"number"),e.k0s()()),2&s){const t=a.$implicit;e.Y8G("ngClass",a.index%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(2),e.Y8G("ngIf",1==t.rank),e.R7$(1),e.SpI(" ",t.rank," "),e.R7$(2),e.SpI(" ",t.fullName," "),e.R7$(2),e.SpI(" ",t.points," "),e.R7$(2),e.SpI(" ",t.wins," "),e.R7$(2),e.SpI(" ",t.draws," "),e.R7$(2),e.SpI(" ",t.losses," "),e.R7$(2),e.SpI(" ",t.matchesPlayed," "),e.R7$(1),e.Y8G("ngClass",t.winRate<35?"text-red-500":t.winRate>=30&&t.winRate<=59?"text-yellow-400":"text-green-500"),e.R7$(1),e.SpI(" ",e.i5U(18,11,t.winRate,"1.2-2")," % ")}}function bt(s,a){if(1&s&&(e.j41(0,"div",11)(1,"div",12)(2,"table",13)(3,"thead",14)(4,"tr",15)(5,"th",16),e.EFF(6,"Rank"),e.k0s(),e.j41(7,"th",16),e.EFF(8,"Name"),e.k0s(),e.j41(9,"th",16),e.EFF(10,"points"),e.k0s(),e.j41(11,"th",17),e.EFF(12,"Win"),e.k0s(),e.j41(13,"th",17),e.EFF(14,"Draw"),e.k0s(),e.j41(15,"th",17),e.EFF(16,"Loss"),e.k0s(),e.j41(17,"th",16),e.EFF(18,"Games"),e.k0s(),e.j41(19,"th",16),e.EFF(20,"win Rate"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,_t,19,14,"tr",18),e.k0s()()()()),2&s){const t=e.XpG(2);e.R7$(22),e.Y8G("ngForOf",t.players)}}function vt(s,a){if(1&s&&(e.j41(0,"div"),e.DNE(1,mt,1,0,"app-groups-table",4),e.DNE(2,bt,23,1,"div",10),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.isGroupsTournament()),e.R7$(1),e.Y8G("ngIf",!t.isGroupsTournament())}}function yt(s,a){if(1&s&&(e.j41(0,"div",29),e.nrm(1,"app-bracket-tree",30),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.Y8G("leagueId",null==t.currentLeague?null:t.currentLeague.id)}}let xt=(()=>{class s{constructor(t,n,i){this.playerService=t,this.leagueService=n,this.toastr=i,this.players=[],this.started=!0,this.last=0,this.currentLeague=null,this.LeagueType=v.Ck,this.showDrawAnimation=!1}ngOnInit(){this.loadCurrentLeague(),this.loadPlayers()}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league,this.updateDrawAnimationState()},error:t=>{console.error("\u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u062f\u0648\u0631\u064a:",t),this.currentLeague=null}})}loadPlayers(){this.playerService.getrank().subscribe({next:t=>{this.players=t,this.last=t.length-1,this.started=this.players.every(n=>0===n.matchesPlayed),this.updateDrawAnimationState()},error:t=>{console.error("\u062e\u0637\u0623 \u0641\u064a \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646:",t),this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0627 \u0627\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646")}})}updateDrawAnimationState(){if(!this.currentLeague||!this.players||0===this.players.length)return void(this.showDrawAnimation=!1);const t=this.currentLeague.typeOfLeague===v.Ck.Groups||"Groups"===String(this.currentLeague.typeOfLeague),n=this.players.some(r=>r.groupNumber),i=this.players.every(r=>0===r.matchesPlayed);this.showDrawAnimation=t&&n&&i}onDrawAnimationComplete(){this.showDrawAnimation=!1}isGroupsTournament(){return this.currentLeague?.typeOfLeague===v.Ck.Groups||"Groups"===String(this.currentLeague?.typeOfLeague)}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(P.x),e.rXU(d.N),e.rXU(F.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-ranking"]],decls:7,vars:4,consts:[[1,"md:container","mx-auto","p-4"],[1,"text-3xl","text-white","text-center","mb-6","font-bold"],["class","flex justify-center text-white",4,"ngIf"],[3,"players","animationComplete",4,"ngIf"],[4,"ngIf"],["class","w-full",4,"ngIf"],[1,"flex","justify-center","text-white"],[1,"w-1/2","text-center","mt-10"],[1,"mb-4","text-4xl","font-extrabold","leading-none","tracking-tight","md:text-5xl","lg:text-6xl","text-white"],[3,"players","animationComplete"],["class","overflow-x-auto",4,"ngIf"],[1,"overflow-x-auto"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-100"],[1,"text-xs","font-bold","text-gray-100","uppercase","bg-black"],[1,"text-center"],["scope","col",1,"px-2","py-3"],["scope","col",1,"px-2","py-3","hidden","sm:table-cell"],["class","border-b text-center border-gray-700 hover:bg-gray-600 font-bold text-sm md:text-[16px]",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600","font-bold","text-sm","md:text-[16px]",3,"ngClass"],["scope","row",1,"px-2","py-4","font-medium","text-white","whitespace-nowrap","relative"],["class","fa-solid fa-crown absolute top-[50%] left-[10px] md:left-10 translate-y-[-50%]","style","color: #ffd43b",4,"ngIf"],[1,"px-2","py-4"],[1,"px-2","py-4","text-center"],[1,"px-2","py-4","text-center","text-green-500","hidden","sm:table-cell"],[1,"px-2","py-4","text-center","text-yellow-400","hidden","sm:table-cell"],[1,"px-2","py-4","text-center","text-red-600","hidden","sm:table-cell"],[1,"px-2","py-4","text-center",3,"ngClass"],[1,"fa-solid","fa-crown","absolute","top-[50%]","left-[10px]","md:left-10","translate-y-[-50%]",2,"color","#ffd43b"],[1,"w-full"],[3,"leagueId"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Rank Table"),e.k0s(),e.DNE(3,pt,4,0,"div",2),e.DNE(4,ht,1,1,"app-group-draw-animation",3),e.DNE(5,vt,3,2,"div",4),e.DNE(6,yt,2,1,"div",5),e.k0s()),2&n&&(e.R7$(3),e.Y8G("ngIf",!i.currentLeague),e.R7$(1),e.Y8G("ngIf",i.showDrawAnimation),e.R7$(1),e.Y8G("ngIf",i.currentLeague&&!i.showDrawAnimation),e.R7$(1),e.Y8G("ngIf",i.isGroupsTournament()))},dependencies:[h.YU,h.Sq,h.bT,Q,ce,gt,h.QX]})}}return s})();var E=p(4205),I=p(3617),V=p(9452),de=p(2645),ge=p(3942),pe=p(1365),Ct=p(8830),L=p(1530),Mt=p(8067);const kt=["addListener","removeListener"],Ft=["addEventListener","removeEventListener"],wt=["on","off"];function Z(s,a,t,n){if((0,L.T)(t)&&(n=t,t=void 0),n)return Z(s,a,t).pipe((0,Mt.I)(n));const[i,r]=function Pt(s){return(0,L.T)(s.addEventListener)&&(0,L.T)(s.removeEventListener)}(s)?Ft.map(o=>l=>s[o](a,l,t)):function St(s){return(0,L.T)(s.addListener)&&(0,L.T)(s.removeListener)}(s)?kt.map(he(s,a)):function Tt(s){return(0,L.T)(s.on)&&(0,L.T)(s.off)}(s)?wt.map(he(s,a)):[];if(!i&&(0,Ct.X)(s))return(0,pe.Z)(o=>Z(o,a,t))((0,de.Tg)(s));if(!i)throw new TypeError("Invalid event target");return new ge.c(o=>{const l=(...c)=>o.next(1<c.length?c:c[0]);return i(l),()=>r(l)})}function he(s,a){return t=>n=>s[t](a,n)}var Et=p(4600),C=p(8764),A=p(1567),Y=p(6647),J=p(2435),B=p(4334);function me(s){return(0,A.p)((a,t)=>s<=t)}var q=p(271),Ot=p(5392),ee=p(819);const It=(s,a)=>(s.push(a),s);var $t=p(7092);class Gt extends $t.yU{constructor(a,t){super()}schedule(a,t=0){return this}}const z={setInterval(s,a,...t){const{delegate:n}=z;return n?.setInterval?n.setInterval(s,a,...t):setInterval(s,a,...t)},clearInterval(s){const{delegate:a}=z;return(a?.clearInterval||clearInterval)(s)},delegate:void 0};var jt=p(967),Nt=p(5152);class U{constructor(a,t=U.now){this.schedulerActionCtor=a,this.now=t}schedule(a,t=0,n){return new this.schedulerActionCtor(this,a).schedule(n,t)}}U.now=Nt.U.now;const fe=new class At extends U{constructor(a,t=U.now){super(a,t),this.actions=[],this._active=!1}flush(a){const{actions:t}=this;if(this._active)return void t.push(a);let n;this._active=!0;do{if(n=a.execute(a.state,a.delay))break}while(a=t.shift());if(this._active=!1,n){for(;a=t.shift();)a.unsubscribe();throw n}}}(class Lt extends Gt{constructor(a,t){super(a,t),this.scheduler=a,this.work=t,this.pending=!1}schedule(a,t=0){var n;if(this.closed)return this;this.state=a;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(r,this.id,t),this}requestAsyncId(a,t,n=0){return z.setInterval(a.flush.bind(a,this),n)}recycleAsyncId(a,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&z.clearInterval(t)}execute(a,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(a,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(a,t){let i,n=!1;try{this.work(a)}catch(r){n=!0,i=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:a,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,jt.o)(n,this),null!=a&&(this.id=this.recycleAsyncId(t,a,null)),this.delay=null,super.unsubscribe()}}}),Yt=fe;var Ut=p(3513),Xt=p(1687),Vt=p(4318),zt=p(7378);function _e(s,a){return a?t=>(0,Ut.x)(a.pipe((0,B.s)(1),function Bt(){return(0,ee.N)((s,a)=>{s.subscribe((0,Xt._)(a,Vt.l))})}()),t.pipe(_e(s))):(0,pe.Z)((t,n)=>(0,de.Tg)(s(t,n)).pipe((0,B.s)(1),(0,zt.u)(t)))}var Ht=p(9397);var R=p(7172);function Zt(s,a){}const Jt=function(s,a){return{$implicit:s,index:a}};function qt(s,a){if(1&s&&e.DNE(0,Zt,0,0,"ng-template",4),2&s){const t=e.XpG(),n=t.$implicit,i=t.index,r=e.XpG();e.Y8G("ngTemplateOutlet",n.tplRef)("ngTemplateOutletContext",e.l_i(2,Jt,r.preparePublicSlide(n),i))}}const en=function(s,a,t,n){return{width:s,"margin-left":a,"margin-right":t,left:n}};function tn(s,a){if(1&s){const t=e.RV6();e.qex(0),e.j41(1,"div",2),e.bIt("animationend",function(){const r=e.eBV(t).$implicit,o=e.XpG();return e.Njj(o.clear(r.id))}),e.DNE(2,qt,1,5,null,3),e.k0s(),e.bVm()}if(2&s){const t=a.$implicit;e.R7$(1),e.Y8G("ngClass",t.classes)("ngStyle",e.ziG(4,en,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),e.R7$(1),e.Y8G("ngIf",t.load)}}const nn=function(s,a,t,n,i){return{width:s,transform:a,transition:t,"padding-left":n,"padding-right":i}},sn=function(s,a){return{isMouseDragable:s,isTouchDragable:a}};function rn(s,a){if(1&s&&(e.j41(0,"div",4),e.nrm(1,"owl-stage",5),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.Y8G("owlDraggable",e.l_i(3,sn,null==t.owlDOMData?null:t.owlDOMData.isMouseDragable,null==t.owlDOMData?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}const an=function(s,a){return{active:s,"owl-dot-text":a}};function on(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const r=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.moveByDot(r.id))}),e.nrm(1,"span",12),e.k0s()}if(2&s){const t=a.$implicit;e.Y8G("ngClass",e.l_i(2,an,t.active,t.showInnerContent)),e.R7$(1),e.Y8G("innerHTML",t.innerContent,e.npT)}}const H=function(s){return{disabled:s}};function ln(s,a){if(1&s){const t=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"div",7),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.prev())}),e.k0s(),e.j41(3,"div",8),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.next())}),e.k0s()(),e.j41(4,"div",9),e.DNE(5,on,2,5,"div",10),e.k0s(),e.bVm()}if(2&s){const t=e.XpG();e.R7$(1),e.Y8G("ngClass",e.eq3(7,H,null==t.navData?null:t.navData.disabled)),e.R7$(1),e.Y8G("ngClass",e.eq3(9,H,null==t.navData||null==t.navData.prev?null:t.navData.prev.disabled))("innerHTML",null==t.navData||null==t.navData.prev?null:t.navData.prev.htmlText,e.npT),e.R7$(1),e.Y8G("ngClass",e.eq3(11,H,null==t.navData||null==t.navData.next?null:t.navData.next.disabled))("innerHTML",null==t.navData||null==t.navData.next?null:t.navData.next.htmlText,e.npT),e.R7$(1),e.Y8G("ngClass",e.eq3(13,H,null==t.dotsData?null:t.dotsData.disabled)),e.R7$(1),e.Y8G("ngForOf",null==t.dotsData?null:t.dotsData.dots)}}const cn=function(s,a,t,n,i){return{"owl-rtl":s,"owl-loaded":a,"owl-responsive":t,"owl-drag":n,"owl-grab":i}};class un{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}}class dn{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}}let te=(()=>{class s{errorHandler;constructor(t){this.errorHandler=t}log(t,...n){(0,e.naY)()&&console.log(t,...n)}error(t){this.errorHandler.handleError(t)}warn(t,...n){console.warn(t,...n)}static \u0275fac=function(n){return new(n||s)(e.KVO(e.zcH))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})();var be=function(s){return s.Event="event",s.State="state",s}(be||{}),W=function(s){return s.Default="default",s.Inner="inner",s.Outer="outer",s}(W||{});let $=(()=>{class s{logger;_viewSettingsShipper$=new E.B;_initializedCarousel$=new E.B;_changeSettingsCarousel$=new E.B;_changedSettingsCarousel$=new E.B;_translateCarousel$=new E.B;_translatedCarousel$=new E.B;_resizeCarousel$=new E.B;_resizedCarousel$=new E.B;_refreshCarousel$=new E.B;_refreshedCarousel$=new E.B;_dragCarousel$=new E.B;_draggedCarousel$=new E.B;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:t=>{t.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:t=>{const n=this.settings.margin||"",r=this.settings.rtl,o={"margin-left":r?n:"","margin-right":r?"":n};!this.settings.autoWidth||this.slidesData.forEach(l=>{l.marginL=o["margin-left"],l.marginR=o["margin-right"]}),t.css=o}},{filter:["width","items","settings"],run:t=>{const n=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=!this.settings.autoWidth,r=[];let o=null,l=this._items.length;for(t.items={merge:!1,width:n};l-- >0;)o=this._mergers[l],o=this.settings.mergeFit&&Math.min(o,this.settings.items)||o,t.items.merge=o>1||t.items.merge,r[l]=i?n*o:this._items[l].width?this._items[l].width:n;this._widths=r,this.slidesData.forEach((c,m)=>{c.width=this._widths[m],c.marginR=t.css["margin-right"],c.marginL=t.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const t=[],n=this._items,i=this.settings,r=Math.max(2*i.items,4),o=2*Math.ceil(n.length/2);let l=[],c=[],m=i.loop&&n.length?i.rewind?r:Math.max(r,o):0;for(m/=2;m-- >0;)t.push(this.normalize(t.length/2,!0)),l.push({...this.slidesData[t[t.length-1]]}),t.push(this.normalize(n.length-1-(t.length-1)/2,!0)),c.unshift({...this.slidesData[t[t.length-1]]});this._clones=t,l=l.map(y=>(y.id=`${this.clonedIdPrefix}${y.id}`,y.isActive=!1,y.isCloned=!0,y)),c=c.map(y=>(y.id=`${this.clonedIdPrefix}${y.id}`,y.isActive=!1,y.isCloned=!0,y)),this.slidesData=c.concat(this.slidesData).concat(l)}},{filter:["width","items","settings"],run:()=>{const t=this.settings.rtl?1:-1,n=this._clones.length+this._items.length,i=[];let r=-1,o=0,l=0;for(;++r<n;)o=i[r-1]||0,l=this._widths[this.relative(r)]+this.settings.margin,i.push(o+l*t);this._coordinates=i}},{filter:["width","items","settings"],run:()=>{const t=this.settings.stagePadding,n=this._coordinates,i={width:Math.ceil(Math.abs(n[n.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.stageData.width=i.width,this.stageData.paddingL=i["padding-left"],this.stageData.paddingR=i["padding-right"]}},{filter:["width","items","settings"],run:t=>{let n=t.current?this.slidesData.findIndex(i=>i.id===t.current):0;n=Math.max(this.minimum(),Math.min(this.maximum(),n)),this.reset(n)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const t=this.settings.rtl?1:-1,n=2*this.settings.stagePadding,i=[];let r,o,l,c,m,y;if(r=this.coordinates(this.current()),"number"==typeof r?r+=n:r=0,o=r+this.width()*t,-1===t&&this.settings.center){const M=this._coordinates.filter(G=>this.settings.items%2==1?G>=r:G>r);r=M.length?M[M.length-1]:r}for(m=0,y=this._coordinates.length;m<y;m++)l=Math.ceil(this._coordinates[m-1]||0),c=Math.ceil(Math.abs(this._coordinates[m])+n*t),(this._op(l,"<=",r)&&this._op(l,">",o)||this._op(c,"<",r)&&this._op(c,">",o))&&i.push(m);this.slidesData.forEach(M=>(M.isActive=!1,M)),i.forEach(M=>{this.slidesData[M].isActive=!0}),this.settings.center&&(this.slidesData.forEach(M=>(M.isCentered=!1,M)),this.slidesData[this.current()].isCentered=!0)}}];constructor(t){this.logger=t}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){const n=new un,i=this._validateOptions(t,n);this._options={...n,...i}}_validateOptions(t,n){const i={...t},r=new dn,o=(l,c)=>(this.logger.log(`options.${c} must be type of ${l}; ${c}=${t[c]} skipped to defaults: ${c}=${n[c]}`),n[c]);for(const l in i)if(i.hasOwnProperty(l))if("number"===r[l])this._isNumeric(i[l])?(i[l]=+i[l],i[l]="items"===l?this._validateItems(i[l],i.skip_validateItems):i[l]):i[l]=o(r[l],l);else if("boolean"===r[l]&&"boolean"!=typeof i[l])i[l]=o(r[l],l);else if("number|boolean"!==r[l]||this._isNumberOrBoolean(i[l]))if("number|string"!==r[l]||this._isNumberOrString(i[l]))if("string|boolean"!==r[l]||this._isStringOrBoolean(i[l])){if("string[]"===r[l])if(Array.isArray(i[l])){let c=!1;i[l].forEach(m=>{c="string"==typeof m}),c||(i[l]=o(r[l],l))}else i[l]=o(r[l],l)}else i[l]=o(r[l],l);else i[l]=o(r[l],l);else i[l]=o(r[l],l);return i}_validateItems(t,n){let i=t;return t>this._items.length?n?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(i=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),i}setCarouselWidth(t){this._width=t}setup(t,n,i){this.setCarouselWidth(t),this.setItems(n),this._defineSlidesData(),this.setOptions(i),this.settings={...this._options},this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const t=this._width,n=this._options.responsive;let i=-1;if(!Object.keys(n).length)return;if(!t)return void(this.settings.items=1);for(const o in n)n.hasOwnProperty(o)&&+o<=t&&+o>i&&(i=Number(o));this.settings={...this._options,...n[i],items:n[i]&&n[i].items?this._validateItems(n[i].items,this._options.skip_validateItems):this._options.items},delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const r=[];this._items.forEach(o=>{r.push(this.settings.merge?o.dataMerge:1)}),this._mergers=r,this._breakpoint=i,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(n=>{this._mergers.push(this.settings.merge?n.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0;const n=this._pipe.length,i=o=>this._invalidated[o],r={};for(;t<n;){const o=this._pipe[t].filter.filter(i);(this._invalidated.all||o.length>0)&&this._pipe[t].run(r),t++}this.slidesData.forEach(o=>o.classes=this.setCurSlideClasses(o)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||W.Default){case W.Inner:case W.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let i,n=null;return i=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),n={x:+i[0],y:+i[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===t.type&&(this.owlDOMData.isGrab=!0),this.speed(0),n}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,n){let i=null,r=null,o=null;const l=this.difference(n.pointer,this.pointer(t)),c=this.difference(n.stage.start,l);return!!this.is("dragging")&&(this.settings.loop?(i=this.coordinates(this.minimum()),r=+this.coordinates(this.maximum()+1)-i,c.x=((c.x-i)%r+r)%r+i):(i=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),r=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),o=this.settings.pullDrag?-1*l.x/5:0,c.x=Math.max(Math.min(c.x,i+o),r+o)),c)}finishDragging(t,n,i){const o=this.difference(n.pointer,this.pointer(t)),l=n.stage.current,c=["right","left"][+(this.settings.rtl?o.x<+this.settings.rtl:o.x>+this.settings.rtl)];let m,y,M;(0!==o.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),m=this.closest(l.x,0!==o.x?c:n.direction),y=this.current(),M=this.current(-1===m?void 0:m),y!==M&&(this.invalidate("position"),this.update()),n.direction=c,(Math.abs(o.x)>3||(new Date).getTime()-n.time>300)&&i()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,n){const r=this.width();let o=this.coordinates(),l=-1;this.settings.center&&(o=o.map(c=>(0===c&&(c+=1e-6),c)));for(let c=0;c<o.length&&("left"===n&&t>o[c]-30&&t<o[c]+30?l=c:"right"===n&&t>o[c]-r-30&&t<o[c]-r+30?l=c+1:this._op(t,"<",o[c])&&this._op(t,">",o[c+1]||o[c]-r)?l="left"===n?c+1:c:null===n&&t>o[c]-30&&t<o[c]+30&&(l=c),-1===l);c++);return this.settings.loop||(this._op(t,">",o[this.minimum()])?l=t=this.minimum():this._op(t,"<",o[this.maximum()])&&(l=t=this.maximum())),l}animate(t){const n=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),n&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){return void 0===t?this._current:0!==this._items.length?(t=this.normalize(t),this._current!==t&&(this._trigger("change",{property:{name:"position",value:t}}),this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(t){return"string"==typeof t&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,n){const i=this._items.length,r=n?0:this._clones.length;return!this._isNumeric(t)||i<1?t=void 0:(t<0||t>=i+r)&&(t=((t-r/2)%i+i)%i+r/2),t}relative(t){return this.normalize(t-=this._clones.length/2,!0)}maximum(t=!1){const n=this.settings;let r,o,l,i=this._coordinates.length;if(n.loop)i=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){for(r=this._items.length,o=this.slidesData[--r].width,l=this._width;r-- >0&&(o+=+this.slidesData[r].width+this.settings.margin,!(o>l)););i=r+1}else i=n.center?this._items.length-1:this._items.length-n.items;return t&&(i-=this._clones.length/2),Math.max(i,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){const n=this._clones.length/2,i=n+this._items.length,r=o=>o%2==0?i+o/2:n-(o+1)/2;return void 0===t?this._clones.map((o,l)=>r(l)):this._clones.map((o,l)=>o===t?r(l):null).filter(o=>o)}speed(t){return void 0!==t&&(this._speed=t),this._speed}coordinates(t){let r,o,n=1,i=t-1;return void 0===t?(o=this._coordinates.map((l,c)=>this.coordinates(c)),o):(this.settings.center?(this.settings.rtl&&(n=-1,i=t+1),r=this._coordinates[t],r+=(this.width()-r+(this._coordinates[i]||0))/2*n):r=this._coordinates[i]||0,r=Math.ceil(r),r)}_duration(t,n,i){return 0===i?0:Math.min(Math.max(Math.abs(n-t),1),6)*Math.abs(+i||this.settings.smartSpeed)}to(t,n){let i=this.current(),r=null,o=t-this.relative(i),l=this.maximum(),c=0;const m=+(o>0)-+(o<0),y=this._items.length,M=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>y/2&&(o+=-1*m*y),r=(((t=i+o)-M)%y+y)%y+M,r!==t&&r-o<=l&&r-o>0&&(i=r-o,t=r,c=30,this.reset(i),this.sendChanges())):this.settings.rewind?(l+=1,t=(t%l+l)%l):t=Math.max(M,Math.min(l,t)),setTimeout(()=>{this.speed(this._duration(i,t,n)),this.current(t),this.update()},c)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(void 0!==t)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(n=>{n.load&&t.set(n.id,n.load)})),this.slidesData=this._items.map(n=>({id:`${n.id}`,isActive:!1,tplRef:n.tplRef,dataMerge:n.dataMerge,width:0,isCloned:!1,load:!!t&&t.get(n.id),hashFragment:n.dataHash}))}setCurSlideClasses(t){const n={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(n[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(n[this.settings.animateOut]=t.isCustomAnimatedOut),n}_op(t,n,i){const r=this.settings.rtl;switch(n){case"<":return r?t>i:t<i;case">":return r?t<i:t>i;case">=":return r?t<=i:t>=i;case"<=":return r?t>=i:t<=i}}_trigger(t,n,i,r,o){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(n);break;case"changed":this._changedSettingsCarousel$.next(n);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t)}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(n=>{void 0===this._states.current[n]&&(this._states.current[n]=0),this._states.current[n]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(n=>{(0===this._states.current[n]||this._states.current[n])&&this._states.current[n]--})}register(t){t.type===be.State&&(this._states.tags[t.name]=this._states.tags[t.name]?this._states.tags[t.name].concat(t.tags):t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((n,i)=>this._states.tags[t.name].indexOf(n)===i))}_suppress(t){t.forEach(n=>{this._supress[n]=!0})}_release(t){t.forEach(n=>{delete this._supress[n]})}pointer(t){const n={x:null,y:null};return(t=(t=t.originalEvent||t||window.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX,n.y=t.clientY),n}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||"boolean"==typeof t}_isNumberOrString(t){return this._isNumeric(t)||"string"==typeof t}_isStringOrBoolean(t){return"string"==typeof t||"boolean"==typeof t}difference(t,n){return null===t||null===n?{x:0,y:0}:{x:t.x-n.x,y:t.y-n.y}}static \u0275fac=function(n){return new(n||s)(e.KVO(te))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})(),ve=(()=>{class s{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,C.M)(o=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),n=this.carouselService.getChangedState().pipe((0,A.p)(o=>"position"===o.property.name),(0,C.M)(o=>{this.update()})),i=this.carouselService.getRefreshedState().pipe((0,C.M)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),r=(0,I.h)(t,n,i);this.navSubscription=r.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,n,i;const r=this.carouselService.clones().length/2,o=r+this.carouselService.items().length,l=this.carouselService.maximum(!0),c=[],m=this.carouselService.settings;let y=m.center||m.autoWidth||m.dotsData?1:Math.floor(Number(m.dotsEach))||Math.floor(m.items);if(y=+y,"page"!==m.slideBy&&(m.slideBy=Math.min(+m.slideBy,m.items)),m.dots||"page"===m.slideBy)for(t=r,n=0,i=0;t<o;t++){if(n>=y||0===n){if(c.push({start:Math.min(l,t-r),end:t-r+y-1}),Math.min(l,t-r)===l)break;n=0,++i}n+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=c}draw(){let t;const n=this.carouselService.settings,i=this.carouselService.items(),r=i.length<=n.items;if(this._navData.disabled=!n.nav||r,this._dotsData.disabled=!n.dots||r,n.dots)if(t=this._pages.length-this._dotsData.dots.length,n.dotsData&&0!==t)this._dotsData.dots=[],i.forEach(o=>{this._dotsData.dots.push({active:!1,id:`dot-${o.id}`,innerContent:o.dotContent,showInnerContent:!0})});else if(t>0){const o=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let l=0;l<t;l++)this._dotsData.dots.push({active:!1,id:`dot-${l+o}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const t=this.carouselService.settings,n=t.loop||t.rewind,i=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!n&&i<=this.carouselService.minimum(!0),this._navData.next.disabled=!n&&i>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(n=>{!0===n.active&&(n.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const t=this.carouselService.relative(this.carouselService.current());let n;const i=this._pages.filter((r,o)=>r.start<=t&&r.end>=t).pop();return n=this._pages.findIndex(r=>r.start===i.start&&r.end===i.end),n}_getPosition(t){let n,i;const r=this.carouselService.settings;return"page"===r.slideBy?(n=this._current(),i=this._pages.length,t?++n:--n,n=this._pages[(n%i+i)%i].start):(n=this.carouselService.relative(this.carouselService.current()),i=this.carouselService.items().length,t?n+=+r.slideBy:n-=+r.slideBy),n}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,n,i){let r;!i&&this._pages.length?(r=this._pages.length,this.carouselService.to(this._pages[(t%r+r)%r].start,n)):this.carouselService.to(t,n)}moveByDot(t){const n=this._dotsData.dots.findIndex(i=>t===i.id);this.to(n,this.carouselService.settings.dotsSpeed)}toSlideById(t){const n=this.carouselService.slidesData.findIndex(i=>i.id===t&&!1===i.isCloned);-1===n||n===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(n),!1)}static \u0275fac=function(n){return new(n||s)(e.KVO($))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})();const ne=new e.nKC("WindowToken");class se{get nativeWindow(){throw new Error("Not implemented.")}}const fn=[{provide:se,useClass:(()=>{class s extends se{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(n){return new(n||s)};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})()},{provide:ne,useFactory:function pn(s,a){return(0,h.UE)(a)?s.nativeWindow:{setTimeout:(n,i)=>{},clearTimeout:n=>{}}},deps:[se,e.Agw]}],ie=new e.nKC("DocumentToken");class re{get nativeDocument(){throw new Error("Not implemented.")}}const xn=[{provide:re,useClass:(()=>{class s extends re{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(n){return new(n||s)};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})()},{provide:ie,useFactory:function bn(s,a){return(0,h.UE)(a)?s.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[re,e.Agw]}];let ye=(()=>{class s{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(t){this._isAutoplayStopped=t}winRef;docRef;constructor(t,n,i,r){this.carouselService=t,this.ngZone=r,this.winRef=n,this.docRef=i,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,C.M)(()=>{this.carouselService.settings.autoplay&&this.play()})),n=this.carouselService.getChangedState().pipe((0,C.M)(o=>{this._handleChangeObservable(o)})),i=this.carouselService.getResizedState().pipe((0,C.M)(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),r=(0,I.h)(t,n,i);this.autoplaySubscription=r.subscribe(()=>{})}play(t,n){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,n){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(n||this.carouselService.settings.autoplaySpeed)})},t||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(t){"settings"===t.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===t.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){(0,V.of)("translated").pipe((0,Y.n)(t=>this.carouselService.getTranslatedState()),(0,J.$)(),(0,A.p)(()=>this._isArtificialAutoplayTimeout),(0,C.M)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(n){return new(n||s)(e.KVO($),e.KVO(ne),e.KVO(ie),e.KVO(e.SKi))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})(),xe=(()=>{class s{carouselService;lazyLoadSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,C.M)(()=>{const o=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(l=>l.load=!!o)})),n=this.carouselService.getChangeState(),i=this.carouselService.getResizedState(),r=(0,I.h)(t,n,i).pipe((0,C.M)(o=>this._defineLazyLoadSlides(o)));this.lazyLoadSubscription=r.subscribe(()=>{})}_defineLazyLoadSlides(t){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(t.property&&"position"===t.property.name||"initialized"===t||"resized"===t)){const n=this.carouselService.settings,i=this.carouselService.clones().length;let r=n.center&&Math.ceil(n.items/2)||n.items,o=n.center&&-1*r||0,l=(t.property&&void 0!==t.property.value?t.property.value:this.carouselService.current())+o;for(n.lazyLoadEager>0&&(r+=n.lazyLoadEager,n.loop&&(l-=n.lazyLoadEager,r++));o++<r;)this._load(i/2+this.carouselService.relative(l)),i&&this.carouselService.clones(this.carouselService.relative(l)).forEach(c=>this._load(c)),l++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}static \u0275fac=function(n){return new(n||s)(e.KVO($))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})(),ae=(()=>{class s{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getChangeState().pipe((0,C.M)(m=>{"position"===m.property.name&&(this.previous=this.carouselService.current(),this.next=m.property.value)})),n=this.carouselService.getDragState(),i=this.carouselService.getDraggedState(),r=this.carouselService.getTranslatedState(),o=(0,I.h)(n,i,r).pipe((0,C.M)(m=>this.swapping="translated"===m)),l=this.carouselService.getTranslateState().pipe((0,C.M)(m=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),c=(0,I.h)(t,l,o).pipe();this.animateSubscription=c.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let t;this.carouselService.speed(0);const n=this.carouselService.slidesData[this.previous],i=this.carouselService.slidesData[this.next],r=this.carouselService.settings.animateIn,o=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(o&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(l=>{l.id===n.id&&(l.left=`${t}px`,l.isAnimated=!0,l.isDefAnimatedOut=!0,l.isCustomAnimatedOut=!0)})),r&&this.carouselService.slidesData.forEach(l=>{l.id===i.id&&(l.isAnimated=!0,l.isDefAnimatedIn=!0,l.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(n=>{n.id===t&&(n.left="",n.isAnimated=!1,n.isDefAnimatedOut=!1,n.isCustomAnimatedOut=!1,n.isDefAnimatedIn=!1,n.isCustomAnimatedIn=!1,n.classes=this.carouselService.setCurSlideClasses(n))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(n){return new(n||s)(e.KVO($))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})(),Ce=(()=>{class s{carouselService;autoHeightSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,C.M)(o=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(l=>l.heightState="full")})),n=this.carouselService.getChangedState().pipe((0,C.M)(o=>{this.carouselService.settings.autoHeight&&"position"===o.property.name&&this.update()})),i=this.carouselService.getRefreshedState().pipe((0,C.M)(o=>{this.carouselService.settings.autoHeight&&this.update()})),r=(0,I.h)(t,n,i);this.autoHeightSubscription=r.subscribe(()=>{})}update(){const t=this.carouselService.settings.items;let n=this.carouselService.current(),i=n+t;this.carouselService.settings.center&&(n=t%2==1?n-(t-1)/2:n-t/2,i=t%2==1?n+t:n+t+1),this.carouselService.slidesData.forEach((r,o)=>{r.heightState=o>=n&&o<i?"full":"nulled"})}static \u0275fac=function(n){return new(n||s)(e.KVO($))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})(),Me=(()=>{class s{carouselService;route;router;hashSubscription;currentHashFragment;constructor(t,n,i){this.carouselService=t,this.route=n,this.router=i,this.spyDataStreams(),this.route||(this.route={fragment:(0,V.of)("no route").pipe((0,B.s)(1))}),this.router||(this.router={navigate:(r,o)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,C.M)(()=>this.listenToRoute())),n=this.carouselService.getChangedState().pipe((0,C.M)(r=>{if(this.carouselService.settings.URLhashListener&&"position"===r.property.name){const o=this.carouselService.current(),l=this.carouselService.slidesData[o].hashFragment;if(!l||l===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:l,relativeTo:this.route})}})),i=(0,I.h)(t,n);this.hashSubscription=i.subscribe(()=>{})}rewind(t){const n=this.carouselService.slidesData.findIndex(i=>i.hashFragment===t&&!1===i.isCloned);-1===n||n===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(n),!1)}listenToRoute(){this.route.fragment.pipe(me("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(n=>{this.currentHashFragment=n,this.rewind(n)})}static \u0275fac=function(n){return new(n||s)(e.KVO($),e.KVO(f.nX,8),e.KVO(f.Ix,8))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})(),Cn=0,oe=(()=>{class s{tplRef;id="owl-slide-"+Cn++;_dataMerge=1;set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(t){this.tplRef=t}isNumeric(t){return!isNaN(parseFloat(t))}static \u0275fac=function(n){return new(n||s)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:s,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}})}return s})(),ke=(()=>{class s{resizeObservable$;get onResize$(){return this.resizeObservable$}constructor(t,n){this.resizeObservable$=(0,h.UE)(n)?Z(t,"resize"):(new E.B).asObservable()}static \u0275fac=function(n){return new(n||s)(e.KVO(ne),e.KVO(e.Agw))};static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})(),Mn=(()=>{class s{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new E.B;_oneMoveSubsription;preparePublicSlide=t=>{const n={...t};return delete n.tplRef,n};constructor(t,n,i,r,o){this.zone=t,this.el=n,this.renderer=i,this.carouselService=r,this.animateService=o}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){if(t.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe((0,J.$)()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=t=>{this._oneMouseTouchMove(t)};bindOnDragMove=t=>{this._onDragMove(t)};bindOnDragEnd=t=>{this._onDragEnd(t)};_onDragStart(t){let n=null;3!==t.which&&(n=this._prepareDragging(t),this._drag.time=(new Date).getTime(),this._drag.target=t.target,this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){const n=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),!(Math.abs(n.x)<3&&Math.abs(n.y)<3&&this._is("valid"))&&(Math.abs(n.x)<3&&Math.abs(n.x)<Math.abs(n.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t)))}blockClickAnchorInDragging(t){let n=t.target;for(;n&&!(n instanceof HTMLAnchorElement);)n=n.parentElement;n instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(n,"click",()=>!1))}_onDragMove(t){let n;const i=this.carouselService.defineNewCoordsDrag(t,this._drag);!1!==i&&(n=i,t.preventDefault(),this._drag.stage.current=n,this._animate(n.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,n){return this.carouselService.difference(t,n)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}static \u0275fac=function(n){return new(n||s)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU($),e.rXU(ae))};static \u0275cmp=e.VBU({type:s,selectors:[["owl-stage"]],hostBindings:function(n,i){1&n&&e.bIt("mousedown",function(o){return i.onMouseDown(o)})("touchstart",function(o){return i.onTouchStart(o)})("touchcancel",function(o){return i.onTouchCancel(o)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,i){1&n&&(e.j41(0,"div")(1,"div",0),e.bIt("transitionend",function(){return i.onTransitionEnd()}),e.DNE(2,tn,3,9,"ng-container",1),e.k0s()()),2&n&&(e.R7$(1),e.Y8G("ngStyle",e.s1E(2,nn,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),e.R7$(1),e.Y8G("ngForOf",i.slidesData))},dependencies:[h.YU,h.Sq,h.bT,h.T3,h.B3],encapsulation:2,data:{animation:[(0,R.hZ)("autoHeight",[(0,R.wk)("nulled",(0,R.iF)({height:0})),(0,R.wk)("full",(0,R.iF)({height:"*"})),(0,R.kY)("full => nulled",[(0,R.i0)("700ms 350ms")]),(0,R.kY)("nulled => full",[(0,R.i0)(350)])])]}})}return s})(),Fe=(()=>{class s{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new e.bkB;dragging=new e.bkB;change=new e.bkB;changed=new e.bkB;initialized=new e.bkB;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(t,n,i,r,o,l,c,m,y,M,G,K){this.el=t,this.resizeService=n,this.carouselService=i,this.navigationService=r,this.autoplayService=o,this.lazyLoadService=l,this.animateService=c,this.autoHeightService=m,this.hashService=y,this.logger=M,this.changeDetectorRef=G,this.docRef=K}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,C.M)(t=>{this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray()),t.toArray().length||(this.carouselLoaded=!1),t.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,C.M)(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,C.M)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,C.M)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,C.M)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe((0,Y.n)(t=>{const n=(0,V.of)(t).pipe((0,A.p)(()=>"position"===t.property.name),(0,Y.n)(()=>(0,Et.H)(this.slidesData)),me(t.property.value),(0,B.s)(this.carouselService.settings.items),(0,q.T)(i=>{const r=this.carouselService.clonedIdPrefix,o=i.id.indexOf(r)>=0?i.id.slice(r.length):i.id;return{...i,id:o,isActive:!0}}),function Rt(){return(0,ee.N)((s,a)=>{(function Dt(s,a){return(0,ee.N)((0,Ot.S)(s,a,arguments.length>=2,!1,!0))})(It,[])(s).subscribe(a)})}(),(0,q.T)(i=>({slides:i,startPosition:this.carouselService.relative(t.property.value)})));return(0,I.h)(n)}),(0,C.M)(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,C.M)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),(0,Y.n)(()=>this.carouselService.getDraggedState().pipe((0,q.T)(()=>!!this.carouselService.is("animating")))),(0,Y.n)(t=>t?this.carouselService.getTranslatedState().pipe((0,J.$)()):(0,V.of)("not animating")),(0,C.M)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,I.h)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe((0,A.p)(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),function Qt(s,a=fe){const t=function Kt(s=0,a,t=Yt){let n=-1;return null!=a&&((0,Ht.m)(a)?t=a:n=a),new ge.c(i=>{let r=function Wt(s){return s instanceof Date&&!isNaN(s)}(s)?+s-t.now():s;r<0&&(r=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=n?this.schedule(void 0,n):i.complete())},r)})}(s,a);return _e(()=>t)}(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){this.carouselLoaded&&this.navigationService.moveByDot(t)}to(t){this.carouselLoaded&&this.navigationService.toSlideById(t)}gatherTranslatedData(){let t;const n=this.carouselService.clonedIdPrefix,i=this.slidesData.filter(r=>!0===r.isActive).map(r=>({id:r.id.indexOf(n)>=0?r.id.slice(n.length):r.id,width:r.width,marginL:r.marginL,marginR:r.marginR,center:r.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:i}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(n){return new(n||s)(e.rXU(e.aKT),e.rXU(ke),e.rXU($),e.rXU(ve),e.rXU(ye),e.rXU(xe),e.rXU(ae),e.rXU(Ce),e.rXU(Me),e.rXU(te),e.rXU(e.gRc),e.rXU(ie))};static \u0275cmp=e.VBU({type:s,selectors:[["owl-carousel-o"]],contentQueries:function(n,i,r){if(1&n&&e.wni(r,oe,4),2&n){let o;e.mGM(o=e.lsd())&&(i.slides=o)}},hostBindings:function(n,i){1&n&&e.bIt("visibilitychange",function(o){return i.onVisibilityChange(o)},!1,e.EBC)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[e.Jv_([ve,ye,$,xe,ae,Ce,Me]),e.OA$],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(n,i){1&n&&(e.j41(0,"div",0,1),e.bIt("mouseover",function(){return i.startPausing()})("mouseleave",function(){return i.startPlayML()})("touchstart",function(){return i.startPausing()})("touchend",function(){return i.startPlayTE()}),e.DNE(2,rn,2,6,"div",2),e.DNE(3,ln,6,15,"ng-container",3),e.k0s()),2&n&&(e.Y8G("ngClass",e.s1E(3,cn,null==i.owlDOMData?null:i.owlDOMData.rtl,null==i.owlDOMData?null:i.owlDOMData.isLoaded,null==i.owlDOMData?null:i.owlDOMData.isResponsive,null==i.owlDOMData?null:i.owlDOMData.isMouseDragable,null==i.owlDOMData?null:i.owlDOMData.isGrab)),e.R7$(2),e.Y8G("ngIf",i.carouselLoaded),e.R7$(1),e.Y8G("ngIf",i.slides.toArray().length))},dependencies:[h.YU,h.Sq,h.bT,Mn],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return s})(),kn=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=e.$C({type:s});static \u0275inj=e.G2t({providers:[fn,ke,xn,te],imports:[h.MD]})}return s})();function Fn(s,a){if(1&s&&(e.j41(0,"tr",16)(1,"th",17),e.EFF(2),e.k0s(),e.j41(3,"td",18),e.EFF(4),e.k0s(),e.j41(5,"td",19),e.EFF(6),e.k0s()()),2&s){const t=a.$implicit;e.Y8G("ngClass",a.index%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(2),e.SpI(" ",t.rank," "),e.R7$(2),e.SpI(" ",t.fullName," "),e.R7$(2),e.SpI(" ",t.points," ")}}function wn(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"h5",8),e.EFF(3),e.k0s()(),e.j41(4,"div",9)(5,"table",10)(6,"thead",11)(7,"tr",12)(8,"th",13),e.EFF(9,"Rank"),e.k0s(),e.j41(10,"th",13),e.EFF(11,"Name"),e.k0s(),e.j41(12,"th",13),e.EFF(13,"Points"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,Fn,7,4,"tr",14),e.k0s()(),e.j41(16,"button",15),e.bIt("click",function(){const r=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.openGroupMatches(r))}),e.EFF(17),e.k0s()()()}if(2&s){const t=a.$implicit,n=e.XpG(2);e.R7$(3),e.SpI(" Group ",t," "),e.R7$(12),e.Y8G("ngForOf",n.getGroupedPlayers()[t]),e.R7$(2),e.SpI(" Show Group ",t," Matches ")}}function Sn(s,a){if(1&s&&(e.j41(0,"div",2)(1,"h4",3),e.EFF(2,"Groups Preview"),e.k0s(),e.j41(3,"div",4),e.DNE(4,wn,18,3,"div",5),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.getGroupNumbers())}}function Tn(s,a){if(1&s&&(e.j41(0,"th",31),e.EFF(1),e.k0s()),2&s){const t=a.$implicit;e.R7$(1),e.SpI(" ",t.fullName," ")}}function Pn(s,a){1&s&&(e.j41(0,"span",38),e.EFF(1," N/A "),e.k0s())}function En(s,a){if(1&s&&(e.qex(0),e.j41(1,"span",41),e.EFF(2),e.k0s(),e.bVm()),2&s){const t=e.XpG(2).$implicit,n=e.XpG().$implicit,i=e.XpG(2);e.R7$(1),e.Y8G("ngClass",i.getMatchResult(t,n,i.selectedGroupMatches).color),e.R7$(1),e.SpI(" ",i.getMatchResult(t,n,i.selectedGroupMatches).result," ")}}function On(s,a){if(1&s&&(e.j41(0,"span",41),e.EFF(1),e.k0s()),2&s){const t=e.XpG(2).$implicit,n=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",i.getClassicResult(t,n,i.selectedGroupMatches).color),e.R7$(1),e.SpI(" ",i.getClassicResult(t,n,i.selectedGroupMatches).result," ")}}function Dn(s,a){if(1&s&&(e.j41(0,"span"),e.DNE(1,En,3,2,"ng-container",39),e.DNE(2,On,2,2,"ng-template",null,40,e.C5r),e.k0s()),2&s){const t=e.sdS(3),n=e.XpG(4);e.R7$(1),e.Y8G("ngIf",n.systemOfLeague===n.SystemOfLeague.Points)("ngIfElse",t)}}function In(s,a){if(1&s&&(e.j41(0,"td",35),e.DNE(1,Pn,2,0,"span",36),e.DNE(2,Dn,4,2,"span",37),e.k0s()),2&s){const t=a.$implicit,n=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",n.playerId===t.playerId),e.R7$(1),e.Y8G("ngIf",n.playerId!==t.playerId)}}function Rn(s,a){if(1&s&&(e.j41(0,"tr",32),e.DNE(1,In,3,2,"td",33),e.j41(2,"td",34),e.EFF(3),e.k0s()()),2&s){const t=a.$implicit,n=a.index,i=e.XpG(2);e.Y8G("ngClass",n%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(1),e.Y8G("ngForOf",i.getGroupedPlayers()[i.selectedGroup]),e.R7$(2),e.SpI(" ",t.fullName," ")}}function $n(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeMatchesModal())}),e.j41(1,"div",21),e.bIt("click",function(i){return i.stopPropagation()}),e.j41(2,"div",22)(3,"h2",23),e.EFF(4),e.k0s(),e.j41(5,"button",24),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeMatchesModal())}),e.nrm(6,"i",25),e.k0s()(),e.j41(7,"div",26)(8,"table",27)(9,"thead",11)(10,"tr",12),e.DNE(11,Tn,2,1,"th",28),e.j41(12,"th",29),e.EFF(13," \u0627\u0644\u0645\u0628\u0627\u0631\u0627\u0629 "),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,Rn,4,3,"tr",30),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(4),e.SpI(" Group ",t.selectedGroup," Matches "),e.R7$(7),e.Y8G("ngForOf",t.getGroupedPlayers()[t.selectedGroup]),e.R7$(4),e.Y8G("ngForOf",t.getGroupedPlayers()[t.selectedGroup])}}let Gn=(()=>{class s{constructor(){this.groups=[],this.matches=[],this.SystemOfLeague=v.KE,this.LeagueType=v.Ck,this.selectedGroup=null,this.showMatchesModal=!1,this.selectedGroupMatches=[]}ngOnInit(){}getGroupedPlayers(){const t={};return this.groups.forEach(n=>{t[n.groupNumber]=n.players}),t}getGroupMatches(t){return this.groups.find(i=>i.groupNumber===t)?.matches||[]}getGroupNumbers(){return this.groups.map(t=>t.groupNumber).sort((t,n)=>t-n)}hasGroupedPlayers(){return this.groups&&this.groups.length>0}isGroupsTournament(){return this.leagueType===v.Ck.Groups||2===this.leagueType||"Groups"===String(this.leagueType)}getMatchResult(t,n,i){if(t.playerId===n.playerId)return{result:"N/A",color:"text-gray-800"};const r=i.find(m=>m.player1Name===t.fullName&&m.player2Name===n.fullName||m.player1Name===n.fullName&&m.player2Name===t.fullName);if(!r)return{result:"-",color:"text-gray-500"};const o=r.player1Name===t.fullName?r.score1:r.score2,l=r.player2Name===n.fullName?r.score2:r.score1;let c="text-white ";return o>l?c="text-green-600 font-bold":o<l?c="text-red-600 font-bold":o==l&&0!=o&&(c="text-gray-400 font-bold text-yellow-400"),{result:`${o} - ${l}`,color:c}}getClassicResult(t,n,i){if(t.playerId===n.playerId)return{result:"N/A",color:"text-gray-800"};const r=i.find(c=>c.player1Name===t.fullName&&c.player2Name===n.fullName||c.player1Name===n.fullName&&c.player2Name===t.fullName);if(!r)return{result:"-",color:"text-gray-500"};const o=r.player1Name===t.fullName?r.score1:r.score2,l=r.player2Name===n.fullName?r.score2:r.score1;return o>l?{result:"\u0641\u0648\u0632",color:"text-green-600 font-bold"}:o<l?{result:"\u062e\u0633\u0627\u0631\u0629",color:"text-red-600 font-bold"}:o===l&&0!==o?{result:"\u062a\u0639\u0627\u062f\u0644",color:"text-yellow-400 font-bold"}:{result:"-",color:"text-gray-500"}}openGroupMatches(t){this.selectedGroup=t,this.selectedGroupMatches=this.getGroupMatches(t),this.showMatchesModal=!0}closeMatchesModal(){this.showMatchesModal=!1,this.selectedGroup=null,this.selectedGroupMatches=[]}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-league-groups-preview"]],inputs:{groups:"groups",matches:"matches",systemOfLeague:"systemOfLeague",leagueType:"leagueType"},decls:2,vars:2,consts:[["class","mt-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"mt-6"],[1,"text-lg","font-bold","text-white","mb-4","text-center"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],["class","bg-black bg-opacity-50 backdrop-blur-sm rounded-lg border border-gray-700",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","border","border-gray-700"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","p-3","rounded-t-lg"],[1,"text-sm","font-bold","text-white","text-center"],[1,"p-3"],[1,"w-full","text-xs","text-gray-100"],[1,"text-xs","font-bold","text-gray-100","uppercase","bg-gray-800"],[1,"text-center"],["scope","col",1,"px-1","py-2"],["class","border-b text-center border-gray-700 hover:bg-gray-600 font-bold text-xs",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-full","mt-3","bg-gradient-to-r","from-blue-600","to-purple-600","text-white","text-xs","font-bold","py-2","px-3","rounded","hover:from-blue-700","hover:to-purple-700","transition-all",3,"click"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600","font-bold","text-xs",3,"ngClass"],["scope","row",1,"px-1","py-2","font-medium","text-white","whitespace-nowrap"],[1,"px-1","py-2","text-white"],[1,"px-1","py-2","text-center","font-bold","text-blue-400"],[1,"fixed","inset-0","bg-black","bg-opacity-75","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","p-6","rounded-lg","shadow-lg","w-full","max-w-4xl","mx-4","max-h-[80vh]","overflow-y-auto",3,"click"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-bold","text-white"],[1,"text-white","hover:text-gray-300",3,"click"],[1,"fa-solid","fa-times","text-2xl"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-100"],["scope","col","class","px-3 py-3 cursor-pointer hover:bg-gray-700 transition-all min-w-[70px]",4,"ngFor","ngForOf"],["scope","col",1,"px-4","py-3","text-white","sticky-column"],["class","text-center hover:bg-gray-600",3,"ngClass",4,"ngFor","ngForOf"],["scope","col",1,"px-3","py-3","cursor-pointer","hover:bg-gray-700","transition-all","min-w-[70px]"],[1,"text-center","hover:bg-gray-600",3,"ngClass"],["class","px-2 py-4 transition-all",4,"ngFor","ngForOf"],[1,"px-6","py-4","font-bold","text-white","sticky-column"],[1,"px-2","py-4","transition-all"],["class","font-bold text-white",4,"ngIf"],[4,"ngIf"],[1,"font-bold","text-white"],[4,"ngIf","ngIfElse"],["classicResult",""],[3,"ngClass"]],template:function(n,i){1&n&&(e.DNE(0,Sn,5,1,"div",0),e.DNE(1,$n,16,3,"div",1)),2&n&&(e.Y8G("ngIf",i.isGroupsTournament()&&i.hasGroupedPlayers()),e.R7$(1),e.Y8G("ngIf",i.showMatchesModal))},dependencies:[h.YU,h.Sq,h.bT],styles:[".group-preview[_ngcontent-%COMP%]{margin-top:24px}.group-table[_ngcontent-%COMP%]{width:100%;font-size:.75rem}.group-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .group-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px 2px;text-align:center;border-bottom:1px solid #374151}.group-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1f2937;color:#fff;font-weight:700;text-transform:uppercase;font-size:.625rem;letter-spacing:.05em}.group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .5s ease;position:relative}.group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#3b82f64d!important;box-shadow:0 2px 8px #3b82f666;border-left:3px solid #3b82f6}.group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#111827}.group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1f2937}.group-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #374151;border-radius:8px;overflow:hidden;transition:all .6s ease}.group-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #3b82f64d;border-color:#3b82f680}.group-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);padding:12px;color:#fff;font-weight:700;text-align:center}.group-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);color:#fff;font-weight:700;padding:8px 12px;border-radius:6px;transition:all .6s ease;cursor:pointer;border:none;width:100%;margin-top:12px}.group-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#1d4ed8,#7c2d12);box-shadow:0 2px 8px #3b82f666}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center;z-index:50}.modal-content[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:24px;border-radius:8px;box-shadow:0 10px 25px #0000004d;width:100%;max-width:64rem;margin:0 16px;max-height:80vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#fff}.modal-close[_ngcontent-%COMP%]{color:#fff;background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .2s ease}.modal-close[_ngcontent-%COMP%]:hover{color:#9ca3af}.sticky-column[_ngcontent-%COMP%]{position:sticky;right:0;background-color:#1f2937;z-index:10}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto;scrollbar-width:thin;scrollbar-color:#4b5563 #1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.group-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .group-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px 1px;font-size:.625rem}.modal-content[_ngcontent-%COMP%]{margin:0 8px;padding:16px}}.text-green[_ngcontent-%COMP%]{color:#10b981}.text-red[_ngcontent-%COMP%]{color:#ef4444}.text-yellow[_ngcontent-%COMP%]{color:#f59e0b}.text-blue[_ngcontent-%COMP%]{color:#3b82f6}.text-gray[_ngcontent-%COMP%]{color:#9ca3af}\n\n/*# sourceMappingURL=league-groups-preview.component.css.map*/"]})}}return s})();const jn=["owlCarousel"];function Ln(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",7)(1,"button",8),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.previousSlide())}),e.nrm(2,"i",9),e.EFF(3,"Next "),e.k0s(),e.j41(4,"button",8),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.nextSlide())}),e.EFF(5," Prev"),e.nrm(6,"i",10),e.k0s()()}if(2&s){const t=e.XpG();e.R7$(1),e.Y8G("disabled",t.isFirstSlide()),e.R7$(3),e.Y8G("disabled",t.isLastSlide())}}function Nn(s,a){1&s&&(e.j41(0,"p",24)(1,"span",25),e.EFF(2,"Live Now!!"),e.k0s()())}function An(s,a){1&s&&(e.j41(0,"p",26)(1,"span",27),e.EFF(2,"Finished"),e.k0s()())}function Yn(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",28)(1,"button",29),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.openKnockoutModal(i.leagueId))}),e.EFF(2," Show Knockout Matches "),e.k0s()()}}const Un=function(){return[]};function Xn(s,a){if(1&s&&e.nrm(0,"app-league-groups-preview",30),2&s){const t=e.XpG(2).$implicit,n=e.XpG();e.Y8G("groups",t.groups||e.lJ4(4,Un))("matches",n.getLeagueMatches(t.leagueId))("systemOfLeague",t.systemOfLeague)("leagueType",t.leagueType)}}function Vn(s,a){if(1&s&&(e.j41(0,"div",31),e.nrm(1,"app-bracket-tree",32),e.k0s()),2&s){const t=e.XpG(2).$implicit;e.R7$(1),e.Y8G("leagueId",t.leagueId)}}function Bn(s,a){1&s&&e.nrm(0,"i",50)}function zn(s,a){if(1&s&&(e.j41(0,"tr",41)(1,"th",42),e.DNE(2,Bn,1,0,"i",43),e.EFF(3),e.k0s(),e.j41(4,"td",44),e.EFF(5),e.k0s(),e.j41(6,"td",45),e.EFF(7),e.k0s(),e.j41(8,"td",46),e.EFF(9),e.k0s(),e.j41(10,"td",47),e.EFF(11),e.k0s(),e.j41(12,"td",48),e.EFF(13),e.k0s(),e.j41(14,"td",45),e.EFF(15),e.k0s(),e.j41(16,"td",49),e.EFF(17),e.nI1(18,"number"),e.k0s()()),2&s){const t=a.$implicit;e.Y8G("ngClass",a.index%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(2),e.Y8G("ngIf",1==t.rank),e.R7$(1),e.SpI(" ",t.rank," "),e.R7$(2),e.JRh(t.fullName),e.R7$(2),e.SpI(" ",t.points," "),e.R7$(2),e.SpI(" ",t.wins," "),e.R7$(2),e.SpI(" ",t.draws," "),e.R7$(2),e.SpI(" ",t.losses," "),e.R7$(2),e.SpI(" ",t.matchesPlayed," "),e.R7$(1),e.Y8G("ngClass",t.winRate<35?"text-red-500":t.winRate>=35&&t.winRate<=69?"text-yellow-400":"text-green-500"),e.R7$(1),e.SpI(" ",e.i5U(18,11,t.winRate,"1.2-2")," % ")}}function Hn(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",33)(1,"button",34),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2).$implicit,r=e.XpG();return e.Njj(r.openModal(i.leagueId))}),e.EFF(2," Show Games With League "),e.k0s(),e.j41(3,"table",35)(4,"thead",36)(5,"tr",37)(6,"th",38),e.EFF(7,"Rank"),e.k0s(),e.j41(8,"th",38),e.EFF(9,"Name"),e.k0s(),e.j41(10,"th",38),e.EFF(11,"Points"),e.k0s(),e.j41(12,"th",39),e.EFF(13," Win "),e.k0s(),e.j41(14,"th",39),e.EFF(15," Draw "),e.k0s(),e.j41(16,"th",39),e.EFF(17," Loss "),e.k0s(),e.j41(18,"th",38),e.EFF(19,"Games"),e.k0s(),e.j41(20,"th",38),e.EFF(21,"Win Rate"),e.k0s()()(),e.j41(22,"tbody"),e.DNE(23,zn,19,14,"tr",40),e.k0s()()()}if(2&s){const t=e.XpG(2).$implicit;e.R7$(23),e.Y8G("ngForOf",t.players)}}function Wn(s,a){if(1&s&&(e.j41(0,"div",12)(1,"h3",13),e.EFF(2),e.k0s(),e.j41(3,"p",14),e.EFF(4),e.k0s(),e.j41(5,"p",15),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"p",16),e.EFF(9," System Of League : "),e.j41(10,"span",17),e.EFF(11),e.k0s()(),e.j41(12,"p",16),e.EFF(13," Type Of League : "),e.j41(14,"span",17),e.EFF(15),e.k0s()(),e.DNE(16,Nn,3,0,"p",18),e.DNE(17,An,3,0,"p",19),e.DNE(18,Yn,3,0,"div",20),e.DNE(19,Xn,1,5,"app-league-groups-preview",21),e.DNE(20,Vn,2,1,"div",22),e.DNE(21,Hn,24,1,"div",23),e.k0s()),2&s){const t=e.XpG().$implicit,n=e.XpG();e.R7$(2),e.SpI(" ",t.leagueName," "),e.R7$(2),e.SpI(" ",t.leagueDescription," "),e.R7$(2),e.SpI(" Date Of League : ",e.i5U(7,13,t.createdOn,"dd - MM - yyyy")," "),e.R7$(4),e.Y8G("ngClass","text-blue-400"),e.R7$(1),e.SpI(" ",t.systemOfLeague===n.SystemOfLeague.Points?"Points ":"Classic "," "),e.R7$(3),e.Y8G("ngClass","text-blue-400"),e.R7$(1),e.SpI(" ",0===t.leagueType?"League ":1===t.leagueType?"Multi ":"Groups "," "),e.R7$(1),e.Y8G("ngIf",0==t.isFinished),e.R7$(1),e.Y8G("ngIf",1==t.isFinished),e.R7$(1),e.Y8G("ngIf",n.isGroupsTournament(t.leagueType)),e.R7$(1),e.Y8G("ngIf",n.isGroupsTournament(t.leagueType)),e.R7$(1),e.Y8G("ngIf",n.isGroupsTournament(t.leagueType)&&n.showKnockoutMatches),e.R7$(1),e.Y8G("ngIf",!n.isGroupsTournament(t.leagueType))}}function Kn(s,a){1&s&&(e.qex(0),e.DNE(1,Wn,22,16,"ng-template",11),e.bVm())}function Qn(s,a){if(1&s){const t=e.RV6();e.j41(0,"th",62),e.bIt("click",function(){const r=e.eBV(t).$implicit,o=e.XpG(2);return e.Njj(o.highlightColumn(r.playerId))}),e.EFF(1),e.k0s()}if(2&s){const t=a.$implicit,n=a.index,i=e.XpG(2);e.xc7("--cell-index",n)("--total-cells",i.players.length),e.Y8G("ngClass",i.highlightedColumn==t.playerId?"highlighted-header":"text-white"),e.R7$(1),e.SpI(" ",t.fullName," ")}}function Zn(s,a){1&s&&(e.j41(0,"span",69),e.EFF(1," N/A "),e.k0s())}function Jn(s,a){if(1&s&&(e.qex(0),e.j41(1,"span",72),e.EFF(2),e.k0s(),e.bVm()),2&s){const t=e.XpG(2).$implicit,n=e.XpG().$implicit,i=e.XpG(2);e.R7$(1),e.Y8G("ngClass",i.getMatchResult(t,n).color),e.R7$(1),e.SpI(" ",i.getMatchResult(t,n).result," ")}}function qn(s,a){if(1&s&&(e.j41(0,"span",72),e.EFF(1),e.k0s()),2&s){const t=e.XpG(2).$implicit,n=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",i.getClassicResult(t,n).color),e.R7$(1),e.SpI(" ",i.getClassicResult(t,n).result," ")}}function es(s,a){if(1&s&&(e.j41(0,"span"),e.DNE(1,Jn,3,2,"ng-container",70),e.DNE(2,qn,2,2,"ng-template",null,71,e.C5r),e.k0s()),2&s){const t=e.sdS(3),n=e.XpG(4);e.R7$(1),e.Y8G("ngIf",n.currentModalSystemOfLeague===n.SystemOfLeague.Points)("ngIfElse",t)}}const ts=function(s){return{"highlighted-cell":s}};function ns(s,a){if(1&s&&(e.j41(0,"td",66),e.DNE(1,Zn,2,0,"span",67),e.DNE(2,es,4,2,"span",68),e.k0s()),2&s){const t=a.$implicit,n=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",e.eq3(3,ts,i.highlightedColumn===t.playerId)),e.R7$(1),e.Y8G("ngIf",n.playerId===t.playerId),e.R7$(1),e.Y8G("ngIf",n.playerId!==t.playerId)}}function ss(s,a){if(1&s&&(e.j41(0,"tr",63),e.DNE(1,ns,3,5,"td",64),e.j41(2,"td",65),e.EFF(3),e.k0s()()),2&s){const t=a.$implicit,n=a.index,i=e.XpG(2);e.Y8G("ngClass",n%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(1),e.Y8G("ngForOf",i.players),e.R7$(2),e.SpI(" ",t.fullName," ")}}function is(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",51),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.j41(1,"div",52),e.bIt("click",function(i){return i.stopPropagation()}),e.j41(2,"div",53)(3,"h2",54),e.EFF(4,"League Games"),e.k0s(),e.j41(5,"button",55),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.nrm(6,"i",56),e.k0s()(),e.j41(7,"div",57)(8,"table",35)(9,"thead",58)(10,"tr"),e.DNE(11,Qn,2,6,"th",59),e.j41(12,"th",60),e.EFF(13," \u0627\u0644\u0645\u0628\u0627\u0631\u0627\u0629 "),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,ss,4,3,"tr",61),e.k0s()()()()()}if(2&s){const t=e.XpG();e.R7$(11),e.Y8G("ngForOf",t.players),e.R7$(4),e.Y8G("ngForOf",t.players)}}function rs(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",51),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeKnockoutModal())}),e.j41(1,"div",73),e.bIt("click",function(i){return i.stopPropagation()}),e.j41(2,"div",74)(3,"h2",54),e.EFF(4,"Knockout Matches"),e.k0s(),e.j41(5,"button",55),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeKnockoutModal())}),e.nrm(6,"i",56),e.k0s()(),e.j41(7,"div",75),e.nrm(8,"app-bracket-tree",32),e.k0s()()()}if(2&s){const t=e.XpG();e.R7$(8),e.Y8G("leagueId",t.currentKnockoutLeagueId)}}let as=(()=>{class s{constructor(t,n){this.leagueService=t,this.toastr=n,this.leaguesRank=[],this.players=[],this.highlightedColumn=null,this.matches=[],this.LeagueId=0,this.isModalOpen=!1,this.SystemOfLeague=v.KE,this.showKnockoutMatches=!1,this.isKnockoutModalOpen=!1,this.currentKnockoutLeagueId=0,this.currentSlideIndex=0,this.customOptions={nav:!1,loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,navSpeed:700,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}}}ngOnInit(){this.leagueService.GetAllLeaguesRank().subscribe({next:t=>{t?this.leaguesRank=this.sortLeaguesForDisplay(t):this.toastr.error(t)},error:t=>{this.toastr.error(t.error.message)}})}onCarouselChanged(t){t&&void 0!==t.startPosition&&(this.currentSlideIndex=t.startPosition)}loadData(){this.leagueService.GetAllLeaguesRank().subscribe({next:t=>{this.leaguesRank=this.sortLeaguesForDisplay(t)},error:t=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u064a\u0627\u062a")}})}sortLeaguesForDisplay(t){return[...t].sort((n,i)=>{const r=new Date(n.createdOn).getTime();return new Date(i.createdOn).getTime()-r})}openModal(t){this.LeagueId=t,this.isModalOpen=!0;const n=this.leaguesRank.find(i=>i.leagueId===t);n?(this.players=n.players||[],this.matches=n.matches||[],this.currentModalSystemOfLeague=n.systemOfLeague):(this.players=[],this.matches=[],this.currentModalSystemOfLeague=void 0)}closeModal(){this.isModalOpen=!1,this.LeagueId=0,this.highlightedColumn=null,this.players=[],this.matches=[]}getMatchResult(t,n){if(t.playerId===n.playerId)return{result:"N/A",color:"text-gray-400"};const i=this.matches.find(c=>c.player1Name===t.fullName&&c.player2Name===n.fullName||c.player1Name===n.fullName&&c.player2Name===t.fullName);if(!i)return{result:"-",color:"text-gray-500"};const r=i.player1Name===t.fullName?i.score1:i.score2,o=i.player2Name===n.fullName?i.score2:i.score1;let l="text-white";return r>o?l="text-green-600 font-bold":r<o?l="text-red-600 font-bold":r===o&&0!==r&&(l="text-yellow-400 font-bold"),{result:`${r} - ${o}`,color:l}}getClassicResult(t,n){if(t.playerId===n.playerId)return{result:"N/A",color:"text-gray-400"};const i=this.matches.find(l=>l.player1Name===t.fullName&&l.player2Name===n.fullName||l.player1Name===n.fullName&&l.player2Name===t.fullName);if(!i)return{result:"-",color:"text-gray-500"};const r=i.player1Name===t.fullName?i.score1:i.score2,o=i.player2Name===n.fullName?i.score2:i.score1;return r>o?{result:"\u0641\u0648\u0632",color:"text-green-600 font-bold"}:r<o?{result:"\u062e\u0633\u0627\u0631\u0629",color:"text-red-600 font-bold"}:r===o&&0!==r?{result:"\u062a\u0639\u0627\u062f\u0644",color:"text-yellow-400 font-bold"}:{result:"-",color:"text-gray-500"}}highlightColumn(t){this.highlightedColumn=this.highlightedColumn===t?null:t}toggleKnockoutMatches(){this.showKnockoutMatches=!this.showKnockoutMatches}openKnockoutModal(t){this.currentKnockoutLeagueId=t,this.isKnockoutModalOpen=!0}closeKnockoutModal(){this.isKnockoutModalOpen=!1}onClickOutside(t){const n=document.querySelector("table");n&&!n.contains(t.target)&&this.isModalOpen&&(this.highlightedColumn=null)}getSystemOfLeagueForLeague(t){return t?.systemOfLeague}getLeagueMatches(t){const n=this.leaguesRank.find(r=>r.leagueId===t);if(!n)return[];if(!this.isGroupsTournament(n.leagueType))return n.matches||[];const i=[];return n.matches&&i.push(...n.matches),n.knockoutMatches&&i.push(...n.knockoutMatches),i}getDisplayResult(t,n,i){return i===v.KE.Classic?this.getClassicResult(t,n):this.getMatchResult(t,n)}previousSlide(){this.owlCarousel?.prev()}nextSlide(){this.owlCarousel?.next()}isFirstSlide(){return 0===this.leaguesRank.length||0===this.currentSlideIndex}isLastSlide(){return 0===this.leaguesRank.length||this.currentSlideIndex>=this.leaguesRank.length-1}isGroupsTournament(t){return 2===t||"Groups"===t}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(d.N),e.rXU(F.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-all-leagues"]],viewQuery:function(n,i){if(1&n&&e.GBs(jn,5),2&n){let r;e.mGM(r=e.lsd())&&(i.owlCarousel=r.first)}},hostBindings:function(n,i){1&n&&e.bIt("click",function(o){return i.onClickOutside(o)},!1,e.EBC)},decls:9,vars:5,consts:[[1,"my-8"],[1,"text-2xl","font-bold","text-center","mb-4","text-white"],["class","flex justify-center gap-4 mb-4",4,"ngIf"],[3,"options","changed","initialized","dragged"],["owlCarousel",""],[4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"flex","justify-center","gap-4","mb-4"],[1,"px-4","py-2","bg-gray-700","hover:bg-gray-600","text-white","rounded-lg","transition-all","disabled:bg-gray-500","disabled:cursor-not-allowed","disabled:opacity-50",3,"disabled","click"],[1,"fa-solid","fa-chevron-left","mr-2"],[1,"fa-solid","fa-chevron-right","ml-2"],["carouselSlide",""],[1,"border","rounded-lg","p-4","shadow-md","mx-auto","text-center","bg-black","bg-opacity-50","backdrop-blur-sm","container"],[1,"text-xl","font-bold","text-center","text-white","pt-2"],[1,"text-gray-300","text-center"],[1,"text-center","text-gray-300","font-bold"],[1,"text-center","text-gray-300"],[1,"font-bold",3,"ngClass"],["class","text-gray-300 text-center font-bold",4,"ngIf"],["class","text-gray-300 font-bold text-center",4,"ngIf"],["class","mt-4 text-center",4,"ngIf"],[3,"groups","matches","systemOfLeague","leagueType",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","relative overflow-x-auto shadow-md sm:rounded-lg",4,"ngIf"],[1,"text-gray-300","text-center","font-bold"],[1,"font-bold","text-green-500"],[1,"text-gray-300","font-bold","text-center"],[1,"font-bold","text-red-500"],[1,"mt-4","text-center"],[1,"px-4","py-2","bg-purple-600","hover:bg-purple-700","transition-all","text-white","rounded-lg","font-semibold",3,"click"],[3,"groups","matches","systemOfLeague","leagueType"],[1,"mt-4"],[3,"leagueId"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"my-4","px-2","bg-gray-600","hover:bg-gray-700","transition-all","text-white","py-2","rounded",3,"click"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-400"],[1,"text-xs","uppercase","bg-black","bg-opacity-50","backdrop-blur-sm","text-white"],[1,"text-center"],["scope","col",1,"px-2","py-3"],["scope","col",1,"px-2","py-3","hidden","sm:table-cell"],["class","border-b text-center border-gray-700 hover:bg-gray-600 font-bold text-sm md:text-[16px]",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600","font-bold","text-sm","md:text-[16px]",3,"ngClass"],["scope","row",1,"px-2","py-4","font-medium","whitespace-nowrap","text-white","relative"],["class","fa-solid fa-crown absolute top-[50%] left-[10px] md:left-10 translate-y-[-50%]","style","color: #ffd43b",4,"ngIf"],[1,"px-2","py-4","text-white"],[1,"px-2","py-4","text-center","text-white"],[1,"px-2","py-4","text-center","text-green-500","hidden","sm:table-cell"],[1,"px-2","py-4","text-center","text-yellow-400","hidden","sm:table-cell"],[1,"px-2","py-4","text-center","text-red-500","hidden","sm:table-cell"],[1,"px-2","py-4","text-center",3,"ngClass"],[1,"fa-solid","fa-crown","absolute","top-[50%]","left-[10px]","md:left-10","translate-y-[-50%]",2,"color","#ffd43b"],[1,"fixed","inset-0","bg-black","bg-opacity-75","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","p-6","rounded-lg","shadow-lg","w-full","max-w-4xl","mx-4","max-h-[80vh]","overflow-y-auto",3,"click"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-bold","text-white"],[1,"text-white","hover:text-gray-300",3,"click"],[1,"fa-solid","fa-times","text-2xl"],[1,"table-container","relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"text-xs","uppercase"],["scope","col","class","px-2 py-3 text-center text-white cursor-pointer hover:bg-gray-400 transition-all min-w-[70px] sticky-header",3,"ngClass","--cell-index","--total-cells","click",4,"ngFor","ngForOf"],["scope","col",1,"px-2","py-3","text-center","text-white","sticky-corner"],["class","border-b text-center border-gray-700 hover:bg-gray-600",3,"ngClass",4,"ngFor","ngForOf"],["scope","col",1,"px-2","py-3","text-center","text-white","cursor-pointer","hover:bg-gray-400","transition-all","min-w-[70px]","sticky-header",3,"ngClass","click"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600",3,"ngClass"],["class","px-2 py-4 transition-all",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-2","py-4","font-bold","text-white","sticky-column"],[1,"px-2","py-4","transition-all",3,"ngClass"],["class","font-bold text-white",4,"ngIf"],[4,"ngIf"],[1,"font-bold","text-white"],[4,"ngIf","ngIfElse"],["classicResult",""],[3,"ngClass"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","shadow-lg","w-full","max-w-6xl","max-h-[80vh]","overflow-y-auto","md:overflow-hidden",3,"click"],[1,"flex","justify-between","items-center","mb-4","px-4","pt-2"],[1,"w-full"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"All Leagues"),e.k0s(),e.DNE(3,Ln,7,2,"div",2),e.j41(4,"owl-carousel-o",3,4),e.bIt("changed",function(o){return i.onCarouselChanged(o)})("initialized",function(){return i.currentSlideIndex=0})("dragged",function(o){return i.onCarouselChanged(o)}),e.DNE(6,Kn,2,0,"ng-container",5),e.k0s()(),e.DNE(7,is,16,2,"div",6),e.DNE(8,rs,9,1,"div",6)),2&n&&(e.R7$(3),e.Y8G("ngIf",i.leaguesRank.length>0),e.R7$(1),e.Y8G("options",i.customOptions),e.R7$(2),e.Y8G("ngForOf",i.leaguesRank),e.R7$(1),e.Y8G("ngIf",i.isModalOpen),e.R7$(1),e.Y8G("ngIf",i.isKnockoutModalOpen))},dependencies:[h.YU,h.Sq,h.bT,Fe,oe,Q,Gn,h.QX,h.vh],styles:[".highlighted-cell[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px #ffffff4d,inset 0 1px 3px #ffffff1a!important;border-radius:3px;transition:all .3s ease}.highlighted-cell[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 0 1px #ffffff80,inset 0 1px 4px #fff3!important}.highlighted-header[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px #ffffff4d,inset 0 1px 3px #ffffff1a!important;color:#fff!important;border-radius:3px;transition:all .3s ease}.highlighted-header[_ngcontent-%COMP%]:hover{box-shadow:inset 0 0 0 1px #ffffff80,inset 0 1px 4px #fff3!important}thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background:var(--thead-gradient);background-size:100% 100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:100;background:var(--thead-gradient);background-size:calc(100% * var(--total-cells)) 100%;background-position:calc(-100% * var(--cell-index)) 0;background-attachment:scroll;color:#fff;border:none}.sticky-header[_ngcontent-%COMP%]:hover{background-color:#9ca3af!important;color:#fff!important}.sticky-column[_ngcontent-%COMP%]{position:sticky;right:0;z-index:50;box-shadow:-2px 0 4px #0000004d;-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px);border-left:1px solid rgba(255,255,255,.1);font-weight:700;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.sticky-corner[_ngcontent-%COMP%]{position:sticky;top:0;right:0;z-index:150;background-color:#000!important;box-shadow:-2px 2px 8px #0006}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   .sticky-column[_ngcontent-%COMP%]{background-color:#030712}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   .sticky-column[_ngcontent-%COMP%]{background-color:#111827}.table-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:auto;position:relative;max-height:70vh;border-radius:8px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{position:relative;border-collapse:collapse;border-spacing:0}.sticky-header.highlighted-header[_ngcontent-%COMP%]{z-index:120}\n\n/*# sourceMappingURL=all-leagues.component.css.map*/"]})}}return s})();function os(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s(),e.j41(2,"div",14)(3,"i",15),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.openModal(i))}),e.k0s()()}if(2&s){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("src",t,e.B4B)}}function ls(s,a){1&s&&(e.qex(0),e.DNE(1,os,4,1,"ng-template",11),e.bVm())}function cs(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s(),e.j41(2,"div",14)(3,"i",15),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.openModal(i))}),e.k0s()()}if(2&s){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("src",t,e.B4B)}}function us(s,a){1&s&&(e.qex(0),e.DNE(1,cs,4,1,"ng-template",11),e.bVm())}function ds(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s(),e.j41(2,"div",14)(3,"i",15),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.openModal(i))}),e.k0s()()}if(2&s){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("src",t,e.B4B)}}function gs(s,a){1&s&&(e.qex(0),e.DNE(1,ds,4,1,"ng-template",11),e.bVm())}function ps(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.j41(1,"div",17)(2,"img",18),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()()}if(2&s){const t=e.XpG();e.R7$(2),e.Y8G("src",t.selectedImage,e.B4B)}}function hs(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeModal())}),e.j41(1,"div",17)(2,"img",19),e.bIt("click",function(i){return i.stopPropagation()}),e.k0s()()()}}let ms=(()=>{class s{constructor(){this.spellCards=["./assets/images/Spell Cards/1.jpg","./assets/images/Spell Cards/4.jpg","./assets/images/Spell Cards/5.jpg","./assets/images/Spell Cards/6.jpg","./assets/images/Spell Cards/12.jpg","./assets/images/Spell Cards/14.jpg","./assets/images/Spell Cards/15.jpg","./assets/images/Spell Cards/16.jpg","./assets/images/Spell Cards/18.jpg","./assets/images/Spell Cards/19.jpg","./assets/images/Spell Cards/20.jpg","./assets/images/Spell Cards/21.jpg","./assets/images/Spell Cards/24.jpg","./assets/images/Spell Cards/25.jpg","./assets/images/Spell Cards/26.jpg","./assets/images/Spell Cards/13.jpg","./assets/images/Spell Cards/2.jpg","./assets/images/Spell Cards/3.jpg","./assets/images/Spell Cards/7.jpg","./assets/images/Spell Cards/17.jpg","./assets/images/Spell Cards/8.jpg","./assets/images/Spell Cards/9.jpg","./assets/images/Spell Cards/10.jpg","./assets/images/Spell Cards/11.jpg","./assets/images/Spell Cards/22.jpg","./assets/images/Spell Cards/23.jpg"],this.trapCards=["./assets/images/Trap Cards/11.jpg","./assets/images/Trap Cards/2.jpg","./assets/images/Trap Cards/1.jpg","./assets/images/Trap Cards/3.jpg","./assets/images/Trap Cards/4.jpg","./assets/images/Trap Cards/5.jpg","./assets/images/Trap Cards/6.jpg","./assets/images/Trap Cards/7.jpg","./assets/images/Trap Cards/8.jpg","./assets/images/Trap Cards/9.jpg","./assets/images/Trap Cards/10.jpg","./assets/images/Trap Cards/12.jpg","./assets/images/Trap Cards/13.jpg"],this.monsters=["./assets/images/Monster/13.jpg","./assets/images/Monster/3.jpg","./assets/images/Monster/4.jpg","./assets/images/Monster/2.jpg","./assets/images/Monster/1.jpg","./assets/images/Monster/5.jpg","./assets/images/Monster/6.jpg","./assets/images/Monster/7.jpg","./assets/images/Monster/8.jpg","./assets/images/Monster/9.jpg","./assets/images/Monster/10.jpg","./assets/images/Monster/11.jpg","./assets/images/Monster/12.jpg"],this.selectedImage=null,this.isModalOpen=!1,this.isModalOpenAll=!1,this.customOptions={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:3},400:{items:3},740:{items:3},940:{items:10}},nav:!0}}ngOnInit(){}openModal(t){this.selectedImage=t,this.isModalOpen=!0}openAll(){this.isModalOpenAll=!0}closeModal(){this.isModalOpen=!1,this.isModalOpenAll=!1,this.selectedImage=null}static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-forbidden-cards"]],decls:28,vars:8,consts:[[1,"container","mx-auto"],[1,"text-center","my-[30px]"],[1,"font-bold","fa-1","text-white"],["href","https://www.db.yugioh-card.com/yugiohdb/forbidden_limited.action","target","_blank",1,"text-blue-600","hover:text-blue-800"],[1,"text-blue-600","hover:text-blue-800","cursor-pointer",3,"click"],[1,"font-bold","fa-2xl","text-green-500","custom-outline"],[3,"options"],[4,"ngFor","ngForOf"],[1,"font-bold","text-3xl","text-rose-500","custom-outline"],[1,"font-bold","fa-2xl","text-yellow-500","custom-outline"],["class","fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",3,"click",4,"ngIf"],["carouselSlide",""],[1,"p-2","relative","transition","max-w-[150px]","cursor-pointer"],[1,"w-fit","min-h-[190px]",3,"src"],[1,"text-center"],[1,"fa-solid","fa-eye","cursor-pointer",2,"color","#fff",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","justify-center","items-center","z-50",3,"click"],[1,"relative"],[1,"max-w-[90vw]","max-h-[90vh]","object-contain","w-[400px]",3,"src","click"],["src","./assets/images/all2.png",1,"max-w-[250vw]","max-h-[250vh]","object-contain","w-[400px]","sm:w-[700px]",3,"click"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3," \u0647\u0630\u0647 \u0627\u0644\u0643\u0631\u0648\u062a \u0627\u0644\u0645\u0645\u0646\u0648\u0639\u0629 \u0645\u0646 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0631\u0633\u0645\u064a \u0644\u0644\u0639\u0628\u0629 \u064a\u0648\u063a\u064a \u0644\u0644\u062a\u0623\u0643\u062f "),e.j41(4,"a",3),e.EFF(5," \u0627\u0636\u063a\u0637 \u0647\u0646\u0627 "),e.k0s(),e.EFF(6," \u0644\u0644\u0630\u0647\u0627\u0628 \u0627\u0644\u064a \u0627\u0644\u0645\u0648\u0642\u0639 "),e.k0s(),e.j41(7,"h2",2),e.EFF(8," \u0644\u0639\u0631\u0636 \u0627\u0644\u0648\u0631\u0642 \u0627\u0644\u0645\u0645\u0646\u0648\u0639 \u0627\u0644\u062e\u0627\u0635 \u0628\u0646\u0633\u062e\u0629 \u062c\u0648\u064a \u0641\u0642\u0637 "),e.j41(9,"span",4),e.bIt("click",function(){return i.openAll()}),e.EFF(10," \u0627\u0636\u063a\u0637 \u0647\u0646\u0627 "),e.k0s()()(),e.j41(11,"div",1)(12,"h2",5),e.EFF(13,"Spell Cards"),e.k0s()(),e.j41(14,"owl-carousel-o",6),e.DNE(15,ls,2,0,"ng-container",7),e.k0s(),e.j41(16,"div",1)(17,"h2",8),e.EFF(18,"Trap Cards"),e.k0s()(),e.j41(19,"owl-carousel-o",6),e.DNE(20,us,2,0,"ng-container",7),e.k0s(),e.j41(21,"div",1)(22,"h2",9),e.EFF(23,"Monsters"),e.k0s()(),e.j41(24,"owl-carousel-o",6),e.DNE(25,gs,2,0,"ng-container",7),e.k0s(),e.DNE(26,ps,3,1,"div",10),e.DNE(27,hs,3,0,"div",10),e.k0s()),2&n&&(e.R7$(14),e.Y8G("options",i.customOptions),e.R7$(1),e.Y8G("ngForOf",i.spellCards),e.R7$(4),e.Y8G("options",i.customOptions),e.R7$(1),e.Y8G("ngForOf",i.trapCards),e.R7$(4),e.Y8G("options",i.customOptions),e.R7$(1),e.Y8G("ngForOf",i.monsters),e.R7$(1),e.Y8G("ngIf",i.isModalOpen),e.R7$(1),e.Y8G("ngIf",i.isModalOpenAll))},dependencies:[h.Sq,h.bT,Fe,oe],styles:[".custom-outline[_ngcontent-%COMP%]{-webkit-text-stroke:.5px white}\n\n/*# sourceMappingURL=forbidden-cards.component.css.map*/"]})}}return s})();var fs=p(6375),_s=p(8705),O=p(4456);const bs=["messagesContainer"];function vs(s,a){1&s&&(e.j41(0,"div",17),e.nrm(1,"div",18),e.j41(2,"span",19),e.EFF(3,"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644..."),e.k0s()())}function ys(s,a){if(1&s&&(e.j41(0,"div",28)(1,"div",29)(2,"p",30),e.EFF(3),e.k0s(),e.j41(4,"p",31),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&s){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.content),e.R7$(2),e.SpI(" ",e.i5U(6,2,t.sentAt,"MMM d, y, hh:mm a")," ")}}function xs(s,a){if(1&s&&(e.j41(0,"div",32)(1,"div",33)(2,"p",30),e.EFF(3),e.k0s(),e.j41(4,"p",31),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&s){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.content),e.R7$(2),e.SpI(" ",e.i5U(6,2,t.sentAt,"MMM d, y, hh:mm a")," ")}}function Cs(s,a){if(1&s&&(e.j41(0,"div",25),e.DNE(1,ys,7,5,"div",26),e.DNE(2,xs,7,5,"div",27),e.k0s()),2&s){const t=a.$implicit;e.R7$(1),e.Y8G("ngIf",!t.isFromAdmin),e.R7$(1),e.Y8G("ngIf",t.isFromAdmin)}}function Ms(s,a){if(1&s&&(e.j41(0,"div"),e.DNE(1,Cs,3,2,"div",24),e.k0s()),2&s){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.messages)}}function ks(s,a){if(1&s&&(e.j41(0,"div",28)(1,"div",34)(2,"p",30),e.EFF(3),e.k0s(),e.j41(4,"p",31),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&s){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.content),e.R7$(2),e.SpI(" ",e.i5U(6,2,t.sentAt,"MMM d, y, hh:mm a")," ")}}function Fs(s,a){if(1&s&&(e.j41(0,"div",32)(1,"div",35)(2,"p",30),e.EFF(3),e.k0s(),e.j41(4,"p",31),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&s){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.content),e.R7$(2),e.SpI(" ",e.i5U(6,2,t.sentAt,"MMM d, y, hh:mm a")," ")}}function ws(s,a){if(1&s&&(e.j41(0,"div",25),e.DNE(1,ks,7,5,"div",26),e.DNE(2,Fs,7,5,"div",27),e.k0s()),2&s){const t=a.$implicit;e.R7$(1),e.Y8G("ngIf",!t.isFromAdmin),e.R7$(1),e.Y8G("ngIf",t.isFromAdmin)}}function Ss(s,a){if(1&s&&(e.j41(0,"div"),e.DNE(1,ws,3,2,"div",24),e.k0s()),2&s){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.friendlyMessages)}}function Ts(s,a){if(1&s&&(e.j41(0,"div",36)(1,"div",37),e.EFF(2),e.k0s(),e.j41(3,"div",38),e.EFF(4," \u0627\u0628\u062f\u0623 \u0627\u0644\u0645\u062d\u0627\u062f\u062b\u0629 \u0628\u0625\u0631\u0633\u0627\u0644 \u0631\u0633\u0627\u0644\u0629 \u062c\u062f\u064a\u062f\u0629 "),e.k0s()()),2&s){const t=e.XpG(2);e.R7$(2),e.SpI(" \u0644\u0627 \u062a\u0648\u062c\u062f ",t.isFriendlyMode?"\u0631\u0633\u0627\u0626\u0644 \u0648\u062f\u064a\u0629":"\u0631\u0633\u0627\u0626\u0644 \u0631\u0633\u0645\u064a\u0629"," \u062d\u0627\u0644\u064a\u0627\u064b ")}}function Ps(s,a){if(1&s&&(e.j41(0,"div",20,21),e.DNE(2,Ms,2,1,"div",22),e.DNE(3,Ss,2,1,"div",22),e.DNE(4,Ts,5,1,"div",23),e.k0s()),2&s){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",!t.isFriendlyMode),e.R7$(1),e.Y8G("ngIf",t.isFriendlyMode),e.R7$(1),e.Y8G("ngIf",0===t.currentMessages.length&&!t.isLoading)}}let Es=(()=>{class s{constructor(t,n,i,r){this.messageService=t,this.friendlyMessageService=n,this.toastr=i,this.cdr=r,this.messages=[],this.friendlyMessages=[],this.newMessage="",this.isFriendlyMode=!1,this.isLoading=!1}ngOnInit(){this.loadMessages()}ngAfterViewChecked(){this.cdr.detectChanges(),this.scrollToBottom()}loadMessages(){this.isLoading=!0,this.isFriendlyMode?this.loadFriendlyMessages():this.loadOfficialMessages()}loadOfficialMessages(){this.messageService.getPlayerMessages().subscribe({next:t=>{this.isLoading=!1,t&&t.messages?(this.messages=t.messages.filter(n=>!n.isDeleted).sort((n,i)=>new Date(n.sentAt).getTime()-new Date(i.sentAt).getTime()),this.cdr.detectChanges()):this.toastr.info("\u0644\u0627 \u064a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644 \u0631\u0633\u0645\u064a\u0629 \u0627\u0644\u0622\u0646")},error:t=>{this.isLoading=!1,this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0631\u0633\u0645\u064a\u0629")}})}loadFriendlyMessages(){this.friendlyMessageService.getPlayerMessages(0).subscribe({next:t=>{this.isLoading=!1,t&&t.messages?(this.friendlyMessages=t.messages.sort((n,i)=>new Date(n.sentAt).getTime()-new Date(i.sentAt).getTime()),this.cdr.detectChanges()):this.toastr.info("\u0644\u0627 \u064a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644 \u0648\u062f\u064a\u0629 \u0627\u0644\u0622\u0646")},error:t=>{this.isLoading=!1,this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0648\u062f\u064a\u0629")}})}sendMessage(){this.newMessage.trim()?this.isFriendlyMode?this.sendFriendlyMessage():this.sendOfficialMessage():this.toastr.warning("\u0627\u0644\u0631\u062c\u0627\u0621 \u0643\u062a\u0627\u0628\u0629 \u0631\u0633\u0627\u0644\u0629")}sendOfficialMessage(){this.messageService.sendMessage(this.newMessage).subscribe({next:t=>{t.success?(this.toastr.success("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0631\u0633\u0645\u064a\u0629"),this.newMessage="",this.loadMessages(),this.cdr.detectChanges()):this.toastr.error(t.message||"\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0631\u0633\u0645\u064a\u0629")},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0631\u0633\u0645\u064a\u0629")}})}sendFriendlyMessage(){this.friendlyMessageService.sendMessageToAdmin(0,this.newMessage).subscribe({next:t=>{t.success?(this.toastr.success("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u064a\u0629"),this.newMessage="",this.loadMessages(),this.cdr.detectChanges()):this.toastr.error(t.message||"\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u064a\u0629")},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629 \u0627\u0644\u0648\u062f\u064a\u0629")}})}toggleMessageMode(){this.isFriendlyMode=!this.isFriendlyMode,this.messages=[],this.friendlyMessages=[],this.newMessage="",this.loadMessages()}get currentMessages(){return this.isFriendlyMode?this.friendlyMessages:this.messages}get messageTypeLabel(){return this.isFriendlyMode?"\u0631\u0633\u0627\u0626\u0644 \u0648\u062f\u064a\u0629":"\u0631\u0633\u0627\u0626\u0644 \u0631\u0633\u0645\u064a\u0629"}get toggleButtonText(){return this.isFriendlyMode?"\u0627\u0644\u062a\u0628\u062f\u064a\u0644 \u0644\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0631\u0633\u0645\u064a\u0629":"\u0627\u0644\u062a\u0628\u062f\u064a\u0644 \u0644\u0644\u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0648\u062f\u064a\u0629"}scrollToBottom(){if(this.messagesContainer){const t=this.messagesContainer.nativeElement;t.scrollTop=t.scrollHeight}}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(fs.b),e.rXU(_s.G),e.rXU(F.tw),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-player-inbox"]],viewQuery:function(n,i){if(1&n&&e.GBs(bs,5),2&n){let r;e.mGM(r=e.lsd())&&(i.messagesContainer=r.first)}},decls:20,vars:7,consts:[[1,"container","mx-auto","p-4","overflow-hidden","h-screen"],[1,"flex","flex-col","h-full","bg-transparent"],[1,"fixed","top-[70px]","left-0","right-0","z-40","p-4","bg-black","bg-opacity-90","backdrop-blur-sm","border-b","border-gray-600","header-container"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"flex","items-center","space-x-2","toggle-container"],[1,"toggle-switch"],["type","checkbox",3,"checked","change"],[1,"slider"],[1,"text-sm","text-gray-300"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","text-sm",3,"click"],["class","flex justify-center items-center p-8","style","margin-top: 80px",4,"ngIf"],["class","flex-1 p-4 overflow-y-auto messages-container","style","margin-top: 80px; margin-bottom: 80px",4,"ngIf"],[1,"fixed","bottom-0","left-0","right-0","z-50","p-4","bg-black","bg-opacity-90","backdrop-blur-sm","border-t","border-gray-600"],[1,"flex","items-center","gap-2",3,"ngSubmit"],["type","text","name","newMessage",1,"flex-1","p-2","bg-black","bg-opacity-50","text-white","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-gray-300","placeholder-gray-400",3,"ngModel","placeholder","ngModelChange"],["type","submit",1,"bg-gray-800","text-white","p-2","rounded-lg","hover:bg-gray-700","disabled:bg-gray-600","transition-colors",3,"disabled"],[1,"flex","justify-center","items-center","p-8",2,"margin-top","80px"],[1,"loading-spinner","rounded-full","h-8","w-8","border-b-2","border-white"],[1,"ml-2","text-white"],[1,"flex-1","p-4","overflow-y-auto","messages-container",2,"margin-top","80px","margin-bottom","80px"],["messagesContainer",""],[4,"ngIf"],["class","text-center py-8",4,"ngIf"],["class","mb-4 message-container",4,"ngFor","ngForOf"],[1,"mb-4","message-container"],["class","flex justify-end",4,"ngIf"],["class","flex justify-start",4,"ngIf"],[1,"flex","justify-end"],[1,"max-w-xs","bg-green-500","bg-opacity-50","text-white","rounded-lg","p-3","shadow-md","backdrop-blur-sm","message-bubble"],[1,"text-sm"],[1,"text-xs","mt-1","text-gray-300"],[1,"flex","justify-start"],[1,"max-w-xs","bg-gray-300","bg-opacity-50","text-white","rounded-lg","p-3","shadow-md","backdrop-blur-sm","message-bubble"],[1,"max-w-xs","bg-blue-500","bg-opacity-50","text-white","rounded-lg","p-3","shadow-md","backdrop-blur-sm","message-bubble"],[1,"max-w-xs","bg-purple-300","bg-opacity-50","text-white","rounded-lg","p-3","shadow-md","backdrop-blur-sm","message-bubble"],[1,"text-center","py-8"],[1,"text-gray-400","text-lg"],[1,"text-gray-500","text-sm","mt-2"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6)(7,"input",7),e.bIt("change",function(){return i.toggleMessageMode()}),e.k0s(),e.nrm(8,"span",8),e.k0s(),e.j41(9,"span",9),e.EFF(10,"\u0648\u062f\u064a\u0629"),e.k0s()()(),e.j41(11,"button",10),e.bIt("click",function(){return i.toggleMessageMode()}),e.EFF(12),e.k0s()()(),e.DNE(13,vs,4,0,"div",11),e.DNE(14,Ps,5,3,"div",12),e.j41(15,"div",13)(16,"form",14),e.bIt("ngSubmit",function(){return i.sendMessage()}),e.j41(17,"input",15),e.bIt("ngModelChange",function(o){return i.newMessage=o}),e.k0s(),e.j41(18,"button",16),e.EFF(19," \u0625\u0631\u0633\u0627\u0644 "),e.k0s()()()()()),2&n&&(e.R7$(7),e.Y8G("checked",i.isFriendlyMode),e.R7$(5),e.SpI(" ",i.toggleButtonText," "),e.R7$(1),e.Y8G("ngIf",i.isLoading),e.R7$(1),e.Y8G("ngIf",!i.isLoading),e.R7$(3),e.Y8G("ngModel",i.newMessage)("placeholder",i.isFriendlyMode?"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u0629 \u0648\u062f\u064a\u0629...":"\u0627\u0643\u062a\u0628 \u0631\u0633\u0627\u0644\u0629 \u0631\u0633\u0645\u064a\u0629..."),e.R7$(1),e.Y8G("disabled",!i.newMessage.trim()))},dependencies:[h.Sq,h.bT,O.qT,O.me,O.BC,O.cb,O.vS,O.cV,h.vh],styles:['.toggle-switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:44px;height:24px}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#4b5563;transition:.4s;border-radius:24px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2563eb}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.message-bubble[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .3s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.message-container[_ngcontent-%COMP%]:hover   .message-bubble[_ngcontent-%COMP%]{transform:translateY(-1px);transition:transform .2s ease}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:.5rem}.header-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.toggle-container[_ngcontent-%COMP%]{justify-content:center}}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(0,0,0,.1);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(255,255,255,.3);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgba(255,255,255,.5)}\n\n/*# sourceMappingURL=player-inbox.component.css.map*/']})}}return s})();var S=p(8416),Os=p(7791);function Ds(s,a){1&s&&(e.j41(0,"div",13),e.nrm(1,"div",14),e.k0s())}function Is(s,a){if(1&s&&(e.j41(0,"div",17)(1,"div",18)(2,"h3",19),e.EFF(3),e.k0s(),e.j41(4,"div",20)(5,"span"),e.EFF(6),e.k0s(),e.nrm(7,"span",21),e.k0s()(),e.j41(8,"div",18)(9,"div",22),e.EFF(10),e.k0s(),e.j41(11,"div",23)(12,"span",24),e.EFF(13),e.k0s(),e.j41(14,"span",25),e.EFF(15),e.k0s(),e.j41(16,"span",26),e.EFF(17),e.k0s()()()()),2&s){const t=a.$implicit,n=e.XpG(3);e.R7$(3),e.SpI(" ",t.fullName," "),e.R7$(2),e.AVh("text-green-400",n.getPlayerScoreDifference(t.playerId)>0)("text-red-400",n.getPlayerScoreDifference(t.playerId)<0)("text-yellow-400",0===n.getPlayerScoreDifference(t.playerId)),e.R7$(1),e.SpI(" ",n.getPlayerScoreDisplay(t.playerId)," "),e.R7$(1),e.AVh("text-green-400",n.getPlayerScoreDifference(t.playerId)>0)("text-red-400",n.getPlayerScoreDifference(t.playerId)<0)("text-yellow-400",0===n.getPlayerScoreDifference(t.playerId)),e.R7$(3),e.Lme(" ",t.totalMatches," matches \u2022 ",t.winRate.toFixed(1),"% "),e.R7$(3),e.SpI("",t.totalWins,"W"),e.R7$(2),e.SpI("",t.totalLosses,"L"),e.R7$(2),e.SpI("",t.totalDraws,"D")}}function Rs(s,a){if(1&s&&(e.j41(0,"div",15),e.DNE(1,Is,18,19,"div",16),e.k0s()),2&s){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.players)}}function $s(s,a){1&s&&(e.j41(0,"div",27)(1,"p",3),e.EFF(2,"No players found"),e.k0s()())}function Gs(s,a){if(1&s&&(e.j41(0,"div")(1,"div",8)(2,"h2",9),e.EFF(3,"Players"),e.k0s(),e.j41(4,"p",3),e.EFF(5," View all friendly players and their statistics "),e.k0s()(),e.DNE(6,Ds,2,0,"div",10),e.DNE(7,Rs,2,1,"div",11),e.DNE(8,$s,3,0,"div",12),e.k0s()),2&s){const t=e.XpG();e.R7$(6),e.Y8G("ngIf",t.isLoadingPlayers),e.R7$(1),e.Y8G("ngIf",!t.isLoadingPlayers),e.R7$(1),e.Y8G("ngIf",!t.isLoadingPlayers&&0===t.players.length)}}function js(s,a){if(1&s&&(e.j41(0,"option",32),e.EFF(1),e.k0s()),2&s){const t=a.$implicit;e.Y8G("ngValue",t.playerId),e.R7$(1),e.SpI(" ",t.fullName," ")}}function Ls(s,a){if(1&s&&(e.j41(0,"option",32),e.EFF(1),e.k0s()),2&s){const t=a.$implicit;e.Y8G("ngValue",t.playerId),e.R7$(1),e.SpI(" ",t.fullName," ")}}function Ns(s,a){1&s&&(e.j41(0,"div",13),e.nrm(1,"div",14),e.k0s())}function As(s,a){if(1&s&&(e.j41(0,"tr",45)(1,"td",43),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"td",43),e.EFF(5),e.k0s(),e.j41(6,"td",46)(7,"span",47),e.EFF(8),e.k0s()(),e.j41(9,"td",43),e.EFF(10),e.k0s(),e.j41(11,"td",46)(12,"span",48),e.EFF(13),e.k0s()()()),2&s){const t=a.$implicit;e.R7$(2),e.SpI(" ",e.i5U(3,10,t.playedOn,"shortDate")," "),e.R7$(3),e.SpI(" ",t.player1Name," "),e.R7$(3),e.Lme(" ",t.player1Score," - ",t.player2Score," "),e.R7$(2),e.SpI(" ",t.player2Name," "),e.R7$(2),e.AVh("text-green-400",t.winner===t.player1Name||t.winner===t.player2Name)("text-yellow-400","Draw"===t.winner),e.R7$(1),e.SpI(" ",t.winner," ")}}function Ys(s,a){if(1&s&&(e.j41(0,"div",39)(1,"table",40)(2,"thead",41)(3,"tr",42)(4,"th",43),e.EFF(5,"Date"),e.k0s(),e.j41(6,"th",43),e.EFF(7),e.k0s(),e.j41(8,"th",43),e.EFF(9,"Score"),e.k0s(),e.j41(10,"th",43),e.EFF(11),e.k0s(),e.j41(12,"th",43),e.EFF(13,"Winner"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,As,14,13,"tr",44),e.k0s()()()),2&s){const t=e.XpG(2);e.R7$(7),e.SpI(" ",t.filterForm.player1Id?"Selected Player":"Player 1"," "),e.R7$(4),e.SpI(" ",t.filterForm.player1Id?"Opponent":"Player 2"," "),e.R7$(4),e.Y8G("ngForOf",t.getPaginatedMatches())}}function Us(s,a){if(1&s){const t=e.RV6();e.j41(0,"span",53)(1,"button",54),e.bIt("click",function(){const r=e.eBV(t).index,o=e.XpG(3);return e.Njj(o.changePage(r+1))}),e.EFF(2),e.k0s()()}if(2&s){const t=a.index,n=e.XpG(3);e.R7$(1),e.AVh("bg-blue-600",n.currentPage===t+1)("bg-gray-600",n.currentPage!==t+1)("hover:bg-blue-700",n.currentPage===t+1)("hover:bg-gray-700",n.currentPage!==t+1),e.R7$(1),e.SpI(" ",t+1," ")}}const Xs=function(){return[]};function Vs(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",49)(1,"div",50)(2,"button",51),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changePage(i.currentPage-1))}),e.EFF(3," Previous "),e.k0s(),e.DNE(4,Us,3,9,"span",52),e.j41(5,"button",51),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.changePage(i.currentPage+1))}),e.EFF(6," Next "),e.k0s()()()}if(2&s){const t=e.XpG(2);e.R7$(2),e.Y8G("disabled",1===t.currentPage),e.R7$(2),e.Y8G("ngForOf",e.lJ4(3,Xs).constructor(t.totalPages)),e.R7$(1),e.Y8G("disabled",t.currentPage===t.totalPages)}}function Bs(s,a){if(1&s&&(e.j41(0,"div",55),e.EFF(1),e.k0s()),2&s){const t=e.XpG(2);e.R7$(1),e.E5c(" Showing ",(t.currentPage-1)*t.itemsPerPage+1," - ",t.Math.min(t.currentPage*t.itemsPerPage,t.getDisplayMatches().length)," of ",t.getDisplayMatches().length," matches ")}}function zs(s,a){1&s&&(e.j41(0,"p",3),e.EFF(1,"No matches found"),e.k0s())}function Hs(s,a){1&s&&(e.j41(0,"p",58),e.EFF(1," No matches found "),e.k0s())}function Ws(s,a){if(1&s&&(e.j41(0,"div",27),e.DNE(1,zs,2,0,"p",56),e.DNE(2,Hs,2,0,"p",57),e.k0s()),2&s){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!t.hasActiveFilters),e.R7$(1),e.Y8G("ngIf",t.hasActiveFilters&&t.noMatchesFound)}}function Ks(s,a){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"div",28)(2,"div",29)(3,"div")(4,"label",30),e.EFF(5,"Date Range"),e.k0s(),e.j41(6,"select",31),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.filterForm.dateFilter=i)})("ngModelChange",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onFilterChange())}),e.j41(7,"option",32),e.EFF(8,"All Time"),e.k0s(),e.j41(9,"option",32),e.EFF(10,"Today"),e.k0s(),e.j41(11,"option",32),e.EFF(12,"Last 3 Days"),e.k0s(),e.j41(13,"option",32),e.EFF(14,"Last Week"),e.k0s(),e.j41(15,"option",32),e.EFF(16,"Last Month"),e.k0s()()(),e.j41(17,"div")(18,"label",30),e.EFF(19,"Player"),e.k0s(),e.j41(20,"select",31),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.filterForm.player1Id=i)})("ngModelChange",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onFilterChange())}),e.j41(21,"option",32),e.EFF(22,"All Players"),e.k0s(),e.DNE(23,js,2,2,"option",33),e.k0s()(),e.j41(24,"div")(25,"label",30),e.EFF(26,"Opponent"),e.k0s(),e.j41(27,"select",31),e.bIt("ngModelChange",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.filterForm.player2Id=i)})("ngModelChange",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onFilterChange())}),e.j41(28,"option",32),e.EFF(29,"All Players"),e.k0s(),e.DNE(30,Ls,2,2,"option",33),e.k0s()()(),e.j41(31,"div",34)(32,"button",35),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.clearFilters())}),e.EFF(33," Clear Filters "),e.k0s()()(),e.DNE(34,Ns,2,0,"div",10),e.DNE(35,Ys,16,3,"div",36),e.DNE(36,Vs,7,4,"div",37),e.DNE(37,Bs,2,3,"div",38),e.DNE(38,Ws,3,2,"div",12),e.k0s()}if(2&s){const t=e.XpG();e.R7$(6),e.Y8G("ngModel",t.filterForm.dateFilter),e.R7$(1),e.Y8G("ngValue",t.DateFilter.AllTime),e.R7$(2),e.Y8G("ngValue",t.DateFilter.Today),e.R7$(2),e.Y8G("ngValue",t.DateFilter.Last3Days),e.R7$(2),e.Y8G("ngValue",t.DateFilter.LastWeek),e.R7$(2),e.Y8G("ngValue",t.DateFilter.LastMonth),e.R7$(5),e.Y8G("ngModel",t.filterForm.player1Id),e.R7$(1),e.Y8G("ngValue",0),e.R7$(2),e.Y8G("ngForOf",t.players),e.R7$(4),e.Y8G("ngModel",t.filterForm.player2Id),e.R7$(1),e.Y8G("ngValue",0),e.R7$(2),e.Y8G("ngForOf",t.players),e.R7$(4),e.Y8G("ngIf",t.isLoadingMatches),e.R7$(1),e.Y8G("ngIf",!(t.isLoadingMatches||t.hasActiveFilters&&t.noMatchesFound)),e.R7$(1),e.Y8G("ngIf",t.totalPages>1&&(!t.hasActiveFilters||!t.noMatchesFound)),e.R7$(1),e.Y8G("ngIf",!t.hasActiveFilters||!t.noMatchesFound),e.R7$(1),e.Y8G("ngIf",!t.isLoadingMatches&&0===t.getPaginatedMatches().length)}}function Qs(s,a){1&s&&(e.j41(0,"div",13),e.nrm(1,"div",14),e.k0s())}function Zs(s,a){if(1&s&&(e.j41(0,"tr",63)(1,"td",60),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"td",64),e.EFF(5),e.k0s(),e.j41(6,"td",65)(7,"span",66),e.EFF(8),e.k0s()(),e.j41(9,"td",67),e.EFF(10),e.k0s()()),2&s){const t=a.$implicit;e.R7$(2),e.SpI(" ",e.i5U(3,5,t.achievedOn,"dd/M/yyyy")," "),e.R7$(3),e.SpI(" ",t.winnerName," "),e.R7$(3),e.Lme("",t.winnerScore," - ",t.loserScore,""),e.R7$(2),e.SpI(" ",t.loserName," ")}}function Js(s,a){if(1&s&&(e.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr",59)(4,"th",60),e.EFF(5,"Date"),e.k0s(),e.j41(6,"th",60),e.EFF(7,"Winner"),e.k0s(),e.j41(8,"th",61),e.EFF(9,"Score"),e.k0s(),e.j41(10,"th",60),e.EFF(11,"Loser"),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,Zs,11,8,"tr",62),e.k0s()()()),2&s){const t=e.XpG(2);e.R7$(13),e.Y8G("ngForOf",t.getDisplayShutouts())}}function qs(s,a){1&s&&(e.j41(0,"p",3),e.EFF(1,"No shutouts found"),e.k0s())}function ei(s,a){1&s&&(e.j41(0,"p",58),e.EFF(1," No shutouts found "),e.k0s())}function ti(s,a){if(1&s&&(e.j41(0,"div",27),e.DNE(1,qs,2,0,"p",56),e.DNE(2,ei,2,0,"p",57),e.k0s()),2&s){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!t.hasActiveFilters),e.R7$(1),e.Y8G("ngIf",t.hasActiveFilters&&t.noShutoutsFound)}}function ni(s,a){if(1&s&&(e.j41(0,"div")(1,"div",8)(2,"h2",9),e.EFF(3,"Shutouts"),e.k0s(),e.j41(4,"p",3),e.EFF(5),e.k0s()(),e.DNE(6,Qs,2,0,"div",10),e.DNE(7,Js,14,1,"div",36),e.DNE(8,ti,3,2,"div",12),e.k0s()),2&s){const t=e.XpG();e.R7$(5),e.JRh(t.getSelectedPlayersText()),e.R7$(1),e.Y8G("ngIf",t.isLoadingShutouts),e.R7$(1),e.Y8G("ngIf",!(t.isLoadingShutouts||t.hasActiveFilters&&t.noShutoutsFound)),e.R7$(1),e.Y8G("ngIf",!t.isLoadingShutouts&&0===t.getDisplayShutouts().length)}}let si=(()=>{class s{constructor(t){this.friendlyMatchService=t,this.activeTab="matches",this.players=[],this.matches=[],this.shutouts=[],this.isLoadingPlayers=!1,this.isLoadingMatches=!1,this.isLoadingShutouts=!1,this.filteredMatches=[],this.filteredShutouts=[],this.hasActiveFilters=!1,this.noMatchesFound=!1,this.noShutoutsFound=!1,this.playerScores=new Map,this.currentPage=1,this.itemsPerPage=20,this.totalPages=0,this.Math=Math,this.filterForm={player1Id:0,player2Id:0,dateFilter:S.Zv.AllTime},this.DateFilter=S.Zv}ngOnInit(){this.loadInitialData()}loadInitialData(){this.loadPlayers(),this.loadAllMatches(),this.loadAllShutouts()}setActiveTab(t){this.activeTab=t,("matches"===t||"shutouts"===t)&&this.applyFilters()}loadPlayers(){this.isLoadingPlayers=!0,this.friendlyMatchService.getAllFriendlyPlayers().subscribe({next:t=>{this.players=t,this.isLoadingPlayers=!1,this.applyFilters()},error:t=>{this.isLoadingPlayers=!1}})}loadAllMatches(){this.isLoadingMatches=!0,this.friendlyMatchService.getAllFriendlyMatches().subscribe({next:t=>{this.matches=t,this.calculatePlayerScores(t),this.isLoadingMatches=!1},error:t=>{this.isLoadingMatches=!1}})}loadAllShutouts(){this.isLoadingShutouts=!0,this.friendlyMatchService.getAllShutoutResults().subscribe({next:t=>{this.shutouts=t,this.isLoadingShutouts=!1},error:t=>{this.isLoadingShutouts=!1}})}calculatePlayerScores(t){this.playerScores.clear(),t.forEach(n=>{const i=this.players.find(o=>o.fullName===n.player1Name),r=this.players.find(o=>o.fullName===n.player2Name);if(i){const o=this.playerScores.get(i.playerId)||{scored:0,conceded:0};o.scored+=n.player1Score,o.conceded+=n.player2Score,this.playerScores.set(i.playerId,o)}if(r){const o=this.playerScores.get(r.playerId)||{scored:0,conceded:0};o.scored+=n.player2Score,o.conceded+=n.player1Score,this.playerScores.set(r.playerId,o)}})}getPlayerScore(t){return this.playerScores.get(t)||{scored:0,conceded:0}}getPlayerScoreDifference(t){const n=this.getPlayerScore(t);return n.scored-n.conceded}getPlayerScoreDisplay(t){const n=this.getPlayerScore(t),i=this.getPlayerScoreDifference(t);return`${n.scored} wins, ${n.conceded} losses (${i>=0?"+":""}${i})`}getDisplayMatches(){return this.hasActiveFilters&&this.noMatchesFound?[]:this.filteredMatches.length>0?this.filteredMatches:this.matches}getDisplayShutouts(){return this.hasActiveFilters&&this.noShutoutsFound?[]:this.filteredShutouts.length>0?this.filteredShutouts:this.shutouts}isPlayerSelected(t){return!1}getSelectedPlayersText(){let t="All matches";if(this.filterForm.player1Id||this.filterForm.player2Id){const n=[];if(this.filterForm.player1Id){const i=this.players.find(r=>r.playerId===this.filterForm.player1Id);i&&n.push(i.fullName)}if(this.filterForm.player2Id){const i=this.players.find(r=>r.playerId===this.filterForm.player2Id);i&&n.push(i.fullName)}1===n.length?t=`${n[0]} matches (selected player shown on left)`:2===n.length&&(t=`${n[0]} vs ${n[1]}`)}return this.filterForm.dateFilter!==S.Zv.AllTime&&(t+=` (${this.getDateFilterText(this.filterForm.dateFilter)})`),t}getDateFilterText(t){switch(t){case S.Zv.Today:return"Today";case S.Zv.Last3Days:return"Last 3 Days";case S.Zv.LastWeek:return"Last Week";case S.Zv.LastMonth:return"Last Month";default:return""}}onFilterChange(){this.currentPage=1,this.applyFilters()}clearFilters(){this.filterForm={player1Id:0,player2Id:0,dateFilter:S.Zv.AllTime},this.currentPage=1,this.hasActiveFilters=!1,this.noMatchesFound=!1,this.noShutoutsFound=!1,this.applyFilters()}applyFilters(){let t=[...this.matches];if(this.hasActiveFilters=this.filterForm.dateFilter!==S.Zv.AllTime||0!==this.filterForm.player1Id||0!==this.filterForm.player2Id,this.filterForm.dateFilter!==S.Zv.AllTime){const i=new Date;let r;switch(this.filterForm.dateFilter){case S.Zv.Today:r=new Date(i.getFullYear(),i.getMonth(),i.getDate());break;case S.Zv.Last3Days:r=new Date(i.getTime()-2592e5);break;case S.Zv.LastWeek:r=new Date(i.getTime()-6048e5);break;case S.Zv.LastMonth:r=new Date(i.getTime()-2592e6);break;default:r=new Date(0)}t=t.filter(o=>new Date(o.playedOn)>=r)}if(this.filterForm.player1Id){const i=this.players.find(r=>r.playerId===this.filterForm.player1Id);i&&(t=t.filter(r=>r.player1Name===i.fullName||r.player2Name===i.fullName))}if(this.filterForm.player2Id){const i=this.players.find(r=>r.playerId===this.filterForm.player2Id);i&&(t=t.filter(r=>r.player1Name===i.fullName||r.player2Name===i.fullName))}t.sort((i,r)=>new Date(r.playedOn).getTime()-new Date(i.playedOn).getTime()),this.filteredMatches=t,this.noMatchesFound=this.hasActiveFilters&&0===t.length,this.totalPages=Math.ceil(this.getDisplayMatches().length/this.itemsPerPage);let n=[...this.shutouts];if(this.filterForm.dateFilter!==S.Zv.AllTime){const i=new Date;let r;switch(this.filterForm.dateFilter){case S.Zv.Today:r=new Date(i.getFullYear(),i.getMonth(),i.getDate());break;case S.Zv.Last3Days:r=new Date(i.getTime()-2592e5);break;case S.Zv.LastWeek:r=new Date(i.getTime()-6048e5);break;case S.Zv.LastMonth:r=new Date(i.getTime()-2592e6);break;default:r=new Date(0)}n=n.filter(o=>new Date(o.achievedOn)>=r)}if(this.filterForm.player1Id){const i=this.players.find(r=>r.playerId===this.filterForm.player1Id);i&&(n=n.filter(r=>r.winnerName===i.fullName||r.loserName===i.fullName))}if(this.filterForm.player2Id){const i=this.players.find(r=>r.playerId===this.filterForm.player2Id);i&&(n=n.filter(r=>r.winnerName===i.fullName||r.loserName===i.fullName))}n.sort((i,r)=>new Date(r.achievedOn).getTime()-new Date(i.achievedOn).getTime()),this.filteredShutouts=n,this.noShutoutsFound=this.hasActiveFilters&&0===n.length}getPaginatedMatches(){const t=(this.currentPage-1)*this.itemsPerPage,n=t+this.itemsPerPage,i=this.getDisplayMatches().slice(t,n);return this.filterForm.player1Id?i.map(r=>this.reorderMatchForSelectedPlayer(r)):i}reorderMatchForSelectedPlayer(t){const n=this.players.find(i=>i.playerId===this.filterForm.player1Id);return n&&t.player2Name===n.fullName?{...t,player1Name:t.player2Name,player2Name:t.player1Name,player1Score:t.player2Score,player2Score:t.player1Score}:t}changePage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t)}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(Os.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-friendlies-view"]],decls:18,vars:15,consts:[[1,"md:container","mx-auto","p-4"],[1,"mb-6"],[1,"text-3xl","font-bold","text-white","mb-2"],[1,"text-gray-400"],[1,"flex","gap-3"],[1,"px-4","py-2","rounded-lg","text-white","font-semibold",3,"click"],[1,"bg-gray-800","rounded-lg","p-3"],[4,"ngIf"],[1,"mb-4"],[1,"text-xl","font-semibold","text-white","mb-2"],["class","flex justify-center py-8",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",4,"ngIf"],["class","text-center py-8",4,"ngIf"],[1,"flex","justify-center","py-8"],[1,"rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-3"],["class","p-3 rounded-lg bg-gray-700 hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"p-3","rounded-lg","bg-gray-700","hover:bg-gray-600"],[1,"flex","items-center","justify-between"],[1,"text-white","font-bold","text-base"],[1,"text-sm","font-bold","mb-3"],[1,"ml-1"],[1,"text-gray-400","text-sm","font-semibold"],[1,"flex","items-center","space-x-1"],[1,"text-green-400","font-bold","text-sm"],[1,"text-red-400","font-bold","text-sm","px-3"],[1,"text-yellow-400","font-bold","text-sm"],[1,"text-center","py-8"],[1,"mb-6","p-4","bg-gray-700","rounded-lg"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],[1,"block","text-sm","font-medium","mb-1","text-gray-300"],[1,"border","border-gray-600","p-2","w-full","rounded","bg-gray-800","text-white",3,"ngModel","ngModelChange"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"flex","justify-center","mt-4"],[1,"bg-gray-600","px-4","py-2","text-white","rounded","hover:bg-gray-700","transition",3,"click"],["class","overflow-x-auto",4,"ngIf"],["class","flex justify-center mt-6",4,"ngIf"],["class","text-center mt-4 text-gray-300",4,"ngIf"],[1,"overflow-x-auto"],[1,"w-full","text-white"],[1,"text-center"],[1,"border-b","border-gray-600"],[1,"p-3"],["class","border-b border-gray-700 hover:bg-gray-800",4,"ngFor","ngForOf"],[1,"border-b","border-gray-700","hover:bg-gray-800"],[1,"p-3","text-center"],[1,"font-bold","text-lg"],[1,"font-semibold"],[1,"flex","justify-center","mt-6"],[1,"flex","space-x-2"],[1,"bg-gray-600","px-3","py-2","text-white","rounded","hover:bg-gray-700","transition",3,"disabled","click"],["class","flex",4,"ngFor","ngForOf"],[1,"flex"],[1,"px-3","py-2","text-white","rounded","transition",3,"click"],[1,"text-center","mt-4","text-gray-300"],["class","text-gray-400",4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"],[1,"border-b","text-center","border-gray-600"],[1,"py-2"],[1,"text-center","py-2"],["class","border-b border-gray-700 hover:bg-gray-700",4,"ngFor","ngForOf"],[1,"border-b","border-gray-700","hover:bg-gray-700"],[1,"py-2","text-green-400","font-semibold"],[1,"py-2","text-center"],[1,"font-bold"],[1,"py-2","text-red-400","font-semibold"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"\u{1f3ae} Friendlies"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"View friendly matches and player statistics"),e.k0s()(),e.j41(6,"div",1)(7,"div",4)(8,"button",5),e.bIt("click",function(){return i.setActiveTab("players")}),e.EFF(9," \u{1f465} Players "),e.k0s(),e.j41(10,"button",5),e.bIt("click",function(){return i.setActiveTab("matches")}),e.EFF(11," \u26bd Matches "),e.k0s(),e.j41(12,"button",5),e.bIt("click",function(){return i.setActiveTab("shutouts")}),e.EFF(13," \u{1f525} \u0627\u0644\u0635\u0627\u064a\u0645\u0629 \u{1f525} "),e.k0s()()(),e.j41(14,"div",6),e.DNE(15,Gs,9,3,"div",7),e.DNE(16,Ks,39,17,"div",7),e.DNE(17,ni,9,4,"div",7),e.k0s()()),2&n&&(e.R7$(8),e.AVh("bg-blue-600","players"===i.activeTab)("bg-gray-600","players"!==i.activeTab),e.R7$(2),e.AVh("bg-blue-600","matches"===i.activeTab)("bg-gray-600","matches"!==i.activeTab),e.R7$(2),e.AVh("bg-blue-600","shutouts"===i.activeTab)("bg-gray-600","shutouts"!==i.activeTab),e.R7$(3),e.Y8G("ngIf","players"===i.activeTab),e.R7$(1),e.Y8G("ngIf","matches"===i.activeTab),e.R7$(1),e.Y8G("ngIf","shutouts"===i.activeTab))},dependencies:[h.Sq,h.bT,O.xH,O.y7,O.wz,O.BC,O.vS,h.vh],styles:[".container[_ngcontent-%COMP%]{min-height:100vh}h1[_ngcontent-%COMP%]{background:linear-gradient(45deg,#fff 0%,#fff 100%);-webkit-text-fill-color:white;-webkit-background-clip:text;background-clip:text}.player-selection[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1)}.tab-button[_ngcontent-%COMP%]{position:relative;overflow:hidden}.tab-button.active[_ngcontent-%COMP%]{box-shadow:0 4px 12px #3b82f64d}.player-card[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.player-card[_ngcontent-%COMP%]:hover{border-color:#3b82f680}.player-card.selected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6 0%,#1d4ed8 100%);border-color:#60a5fa;box-shadow:0 0 20px #3b82f666}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0}th[_ngcontent-%COMP%]{background:rgba(31,41,55,.8);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-weight:600;text-transform:uppercase;letter-spacing:.5px}tr[_ngcontent-%COMP%]:hover{background:rgba(55,65,81,.5)}.score[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700}.winner[_ngcontent-%COMP%]{padding:2px 8px;border-radius:4px;font-weight:600}.winner.win[_ngcontent-%COMP%]{background:rgba(34,197,94,.2);color:#4ade80}.winner.loss[_ngcontent-%COMP%]{background:rgba(239,68,68,.2);color:#f87171}.winner.draw[_ngcontent-%COMP%]{background:rgba(234,179,8,.2);color:#facc15}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:1rem}.tab-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.tab-button[_ngcontent-%COMP%]{width:100%;text-align:center}.player-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.player-selection[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.selected-players[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.5rem}table[_ngcontent-%COMP%]{font-size:.875rem}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem .25rem}}@media (max-width: 480px){h1[_ngcontent-%COMP%]{font-size:1.5rem}.player-card[_ngcontent-%COMP%]{padding:.75rem}.player-stats[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:rgba(31,41,55,.5);border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(107,114,128,.8);border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:rgba(156,163,175,.8)}button[_ngcontent-%COMP%]:focus{outline:2px solid #3b82f6;outline-offset:2px}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.player-card[_ngcontent-%COMP%]:hover, .tab-button[_ngcontent-%COMP%]:hover{cursor:pointer}[_ngcontent-%COMP%]::selection{background:rgba(59,130,246,.3);color:#fff}@media print{.container[_ngcontent-%COMP%]{background:white;color:#000}.tab-buttons[_ngcontent-%COMP%], .player-selection[_ngcontent-%COMP%]{display:none}}\n\n/*# sourceMappingURL=friendlies-view.component.css.map*/"]})}}return s})();var ii=p(8171);function ri(s,a){1&s&&(e.j41(0,"div",12),e.nrm(1,"div",13),e.k0s())}function ai(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",14)(1,"h3",15),e.EFF(2,"Error"),e.k0s(),e.j41(3,"p"),e.EFF(4),e.k0s(),e.j41(5,"button",16),e.bIt("click",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.loadActiveTournament())}),e.EFF(6," Try Again "),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(4),e.JRh(t.errorMessage)}}function oi(s,a){1&s&&(e.j41(0,"div",17)(1,"div",18)(2,"h2",19),e.EFF(3," \u{1f4c5} No Active Tournament "),e.k0s(),e.j41(4,"p",20),e.EFF(5," There is currently no active teams tournament. "),e.k0s(),e.j41(6,"p",21),e.EFF(7," Check back later or contact the administrator. "),e.k0s()()())}function li(s,a){if(1&s&&(e.j41(0,"div",42)(1,"div",43),e.EFF(2),e.k0s()()),2&s){const t=e.XpG(3);e.R7$(2),e.SpI(" \u{1f3c6} Champion: ",t.activeTournament.championTeamName," ")}}function ci(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",57),e.bIt("click",function(){const r=e.eBV(t).$implicit,o=e.XpG(4);return e.Njj(o.showPlayerResults(r))}),e.j41(1,"div",58),e.EFF(2),e.k0s(),e.j41(3,"div",59),e.EFF(4),e.k0s(),e.j41(5,"div",60),e.EFF(6),e.k0s()()}if(2&s){const t=a.$implicit,n=e.XpG(4);e.R7$(2),e.SpI(" ",n.getPlayerStats(t.playerId).totalPoints," "),e.R7$(2),e.SpI(" ",t.fullName," "),e.R7$(2),e.SpI(" ",n.getPlayerStats(t.playerId).totalPointsAgainst," ")}}function ui(s,a){if(1&s){const t=e.RV6();e.j41(0,"button",61),e.bIt("click",function(){const r=e.eBV(t).$implicit,o=e.XpG().$implicit,l=e.XpG(3);return e.Njj(l.showTeamMatches(o,r))}),e.EFF(1),e.k0s()}if(2&s){const t=a.$implicit;e.R7$(1),e.SpI(" vs ",t.teamName," ")}}function di(s,a){if(1&s&&(e.j41(0,"div",44)(1,"div",45)(2,"h4",46),e.EFF(3),e.k0s(),e.j41(4,"div",47),e.EFF(5),e.k0s()(),e.j41(6,"div",48)(7,"div")(8,"div",49),e.EFF(9),e.k0s(),e.j41(10,"div",3),e.EFF(11,"Wins"),e.k0s()(),e.j41(12,"div")(13,"div",50),e.EFF(14),e.k0s(),e.j41(15,"div",3),e.EFF(16,"Draws"),e.k0s()(),e.j41(17,"div")(18,"div",51),e.EFF(19),e.k0s(),e.j41(20,"div",3),e.EFF(21,"Losses"),e.k0s()()(),e.j41(22,"div")(23,"div",52),e.DNE(24,ci,7,3,"div",53),e.k0s()(),e.j41(25,"div",54)(26,"h6",55),e.EFF(27," Matches vs: "),e.k0s(),e.j41(28,"div",52),e.DNE(29,ui,2,1,"button",56),e.k0s()()()),2&s){const t=a.$implicit,n=e.XpG(3);e.R7$(3),e.SpI(" ",t.teamName," "),e.R7$(2),e.SpI(" ",t.totalPoints," pts "),e.R7$(4),e.JRh(t.wins),e.R7$(5),e.JRh(t.draws),e.R7$(5),e.JRh(t.losses),e.R7$(5),e.Y8G("ngForOf",t.players),e.R7$(5),e.Y8G("ngForOf",n.getTeamOpponents(t))}}function gi(s,a){if(1&s&&(e.j41(0,"div")(1,"div",22)(2,"div",23)(3,"div")(4,"h2",24),e.EFF(5),e.k0s(),e.j41(6,"div",25)(7,"span",26)(8,"strong"),e.EFF(9,"Status:"),e.k0s(),e.j41(10,"span"),e.EFF(11),e.k0s()(),e.j41(12,"span",26)(13,"strong"),e.EFF(14,"System:"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"span",26)(17,"strong"),e.EFF(18,"Teams:"),e.k0s(),e.EFF(19),e.k0s(),e.j41(20,"span",26)(21,"strong"),e.EFF(22,"Players per Team:"),e.k0s(),e.EFF(23),e.k0s()()(),e.DNE(24,li,3,1,"div",27),e.k0s()(),e.j41(25,"div",28)(26,"div",29)(27,"div",30),e.EFF(28),e.k0s(),e.j41(29,"div",31),e.EFF(30,"Teams"),e.k0s()(),e.j41(31,"div",32)(32,"div",30),e.EFF(33),e.k0s(),e.j41(34,"div",33),e.EFF(35,"Players"),e.k0s()(),e.j41(36,"div",34)(37,"div",30),e.EFF(38),e.k0s(),e.j41(39,"div",35),e.EFF(40,"Completed"),e.k0s()(),e.j41(41,"div",36)(42,"div",30),e.EFF(43),e.k0s(),e.j41(44,"div",37),e.EFF(45,"Total Matches"),e.k0s()()(),e.j41(46,"div",38)(47,"h3",39),e.EFF(48,"\u{1f465} Teams & Players"),e.k0s(),e.j41(49,"div",40),e.DNE(50,di,30,7,"div",41),e.k0s()()()),2&s){const t=e.XpG(2);e.R7$(5),e.SpI(" ",t.activeTournament.name," "),e.R7$(5),e.HbH(t.getStatusColor(t.activeTournament.status)),e.R7$(1),e.SpI(" ",t.activeTournament.status," "),e.R7$(4),e.SpI(" ",t.activeTournament.systemOfScoring," "),e.R7$(4),e.SpI(" ",t.activeTournament.teamCount," "),e.R7$(4),e.SpI(" ",t.activeTournament.playersPerTeam," "),e.R7$(1),e.Y8G("ngIf","Finished"===t.activeTournament.status&&t.activeTournament.championTeamName),e.R7$(4),e.SpI(" ",t.activeTournament.teams.length," "),e.R7$(5),e.JRh(t.getTotalPlayersCount()),e.R7$(5),e.JRh(t.getCompletedMatchesCount()),e.R7$(5),e.JRh(t.getTotalMatchesCount()),e.R7$(7),e.Y8G("ngForOf",t.activeTournament.teams)}}function pi(s,a){if(1&s&&(e.j41(0,"div"),e.DNE(1,ri,2,0,"div",9),e.DNE(2,ai,7,1,"div",10),e.DNE(3,oi,8,0,"div",11),e.DNE(4,gi,51,13,"div",7),e.k0s()),2&s){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",t.isLoading),e.R7$(1),e.Y8G("ngIf",t.errorMessage&&!t.isLoading),e.R7$(1),e.Y8G("ngIf",!t.isLoading&&!t.errorMessage&&!t.activeTournament),e.R7$(1),e.Y8G("ngIf",!t.isLoading&&!t.errorMessage&&t.activeTournament)}}function hi(s,a){1&s&&(e.j41(0,"div",64),e.nrm(1,"div",65),e.k0s())}function mi(s,a){1&s&&(e.j41(0,"div",71),e.nrm(1,"div",72),e.k0s())}function fi(s,a){if(1&s&&(e.j41(0,"div",75)(1,"div",76),e.EFF(2),e.k0s(),e.j41(3,"div",77)(4,"div",78)(5,"span",79),e.EFF(6),e.k0s(),e.j41(7,"span",80),e.EFF(8,"\u0645\u0634\u0627\u0631\u0643\u0627\u062a"),e.k0s()(),e.j41(9,"div",78)(10,"span",81),e.EFF(11),e.k0s(),e.j41(12,"span",80),e.EFF(13,"\u0623\u0644\u0642\u0627\u0628"),e.k0s()()()()),2&s){const t=a.$implicit;e.R7$(1),e.Y8G("title",t.fullName),e.R7$(1),e.SpI(" ",t.fullName," "),e.R7$(4),e.SpI(" ",t.multiParticipations," "),e.R7$(5),e.SpI(" ",t.multiTitlesWon," ")}}function _i(s,a){if(1&s&&(e.j41(0,"div",73),e.DNE(1,fi,14,4,"div",74),e.k0s()),2&s){const t=e.XpG(3);e.R7$(1),e.Y8G("ngForOf",t.allPlayers)}}function bi(s,a){1&s&&(e.j41(0,"div",82)(1,"p",3),e.EFF(2,"No players found."),e.k0s()())}function vi(s,a){1&s&&(e.j41(0,"div",71),e.nrm(1,"div",72),e.k0s())}function yi(s,a){if(1&s&&(e.j41(0,"span",94),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(1),e.SpI(" \u{1f3c6} ",t.championTeamName," ")}}function xi(s,a){if(1&s&&(e.j41(0,"tr",101)(1,"td",102),e.EFF(2),e.k0s(),e.j41(3,"td",103),e.EFF(4),e.k0s(),e.j41(5,"td",104),e.EFF(6),e.k0s(),e.j41(7,"td",105),e.EFF(8),e.k0s(),e.j41(9,"td",106),e.EFF(10),e.k0s(),e.j41(11,"td",107),e.EFF(12),e.k0s(),e.j41(13,"td",108),e.EFF(14),e.k0s()()),2&s){const t=a.$implicit,n=a.index,i=e.XpG(6);e.R7$(2),e.Lme(" ",i.getTrophyIcon(n+1)," ",n+1," "),e.R7$(2),e.JRh(t.teamName),e.R7$(2),e.SpI(" ",t.totalPoints," "),e.R7$(2),e.SpI(" ",t.wins," "),e.R7$(2),e.SpI(" ",t.draws," "),e.R7$(2),e.SpI(" ",t.losses," "),e.R7$(2),e.SpI(" ",t.matchesPlayed," ")}}function Ci(s,a){if(1&s&&(e.j41(0,"div",95)(1,"table",96)(2,"thead")(3,"tr",97)(4,"th",98),e.EFF(5,"Pos"),e.k0s(),e.j41(6,"th",98),e.EFF(7,"Team"),e.k0s(),e.j41(8,"th",99),e.EFF(9,"Pts"),e.k0s(),e.j41(10,"th",99),e.EFF(11,"W"),e.k0s(),e.j41(12,"th",99),e.EFF(13,"D"),e.k0s(),e.j41(14,"th",99),e.EFF(15,"L"),e.k0s(),e.j41(16,"th",99),e.EFF(17,"MP"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,xi,15,8,"tr",100),e.k0s()()()),2&s){const t=e.XpG().$implicit;e.R7$(19),e.Y8G("ngForOf",t.standings)}}function Mi(s,a){1&s&&(e.j41(0,"div",109)(1,"p",3),e.EFF(2," No standings available for this tournament. "),e.k0s()())}function ki(s,a){if(1&s&&(e.j41(0,"div",85)(1,"div",86)(2,"h4",87),e.EFF(3),e.k0s(),e.j41(4,"div",88)(5,"span",89),e.EFF(6),e.k0s(),e.j41(7,"span",90),e.EFF(8),e.k0s(),e.DNE(9,yi,2,1,"span",91),e.k0s()(),e.DNE(10,Ci,20,1,"div",92),e.DNE(11,Mi,3,0,"div",93),e.k0s()),2&s){const t=a.$implicit;e.R7$(3),e.SpI(" ",t.name," "),e.R7$(3),e.SpI(" ",t.systemOfScoring," "),e.R7$(2),e.SpI(" ",t.status," "),e.R7$(1),e.Y8G("ngIf",t.championTeamName),e.R7$(1),e.Y8G("ngIf",t.standings&&t.standings.length>0),e.R7$(1),e.Y8G("ngIf",!t.standings||0===t.standings.length)}}function Fi(s,a){if(1&s&&(e.j41(0,"div",83),e.DNE(1,ki,12,6,"div",84),e.k0s()),2&s){const t=e.XpG(3);e.R7$(1),e.Y8G("ngForOf",t.pastTournaments)}}function wi(s,a){1&s&&(e.j41(0,"div",82)(1,"p",3),e.EFF(2,"No past tournaments found."),e.k0s()())}function Si(s,a){if(1&s&&(e.j41(0,"div")(1,"div",22)(2,"h3",39),e.EFF(3,"\u{1f465} Players Statistics"),e.k0s(),e.DNE(4,mi,2,0,"div",66),e.DNE(5,_i,2,1,"div",67),e.DNE(6,bi,3,0,"div",68),e.k0s(),e.j41(7,"div",69)(8,"h3",39),e.EFF(9,"\u{1f4da} Past Tournaments"),e.k0s(),e.DNE(10,vi,2,0,"div",66),e.DNE(11,Fi,2,1,"div",70),e.DNE(12,wi,3,0,"div",68),e.k0s()()),2&s){const t=e.XpG(2);e.R7$(4),e.Y8G("ngIf",t.isLoadingPlayers),e.R7$(1),e.Y8G("ngIf",!t.isLoadingPlayers&&t.allPlayers.length>0),e.R7$(1),e.Y8G("ngIf",!t.isLoadingPlayers&&0===t.allPlayers.length),e.R7$(4),e.Y8G("ngIf",t.isLoadingPastTournaments),e.R7$(1),e.Y8G("ngIf",!t.isLoadingPastTournaments&&t.pastTournaments.length>0),e.R7$(1),e.Y8G("ngIf",!t.isLoadingPastTournaments&&0===t.pastTournaments.length)}}function Ti(s,a){if(1&s&&(e.j41(0,"div")(1,"h2",62),e.EFF(2,"\u{1f3c6} Tournament Archive"),e.k0s(),e.DNE(3,hi,2,0,"div",63),e.DNE(4,Si,13,6,"div",7),e.k0s()),2&s){const t=e.XpG();e.R7$(3),e.Y8G("ngIf",t.isLoadingArchive),e.R7$(1),e.Y8G("ngIf",!t.isLoadingArchive)}}function Pi(s,a){1&s&&(e.j41(0,"div",64),e.nrm(1,"div",65),e.k0s())}function Ei(s,a){if(1&s&&(e.j41(0,"div",122)(1,"div",123)(2,"span",124),e.EFF(3),e.k0s()(),e.j41(4,"div",125)(5,"div",126)(6,"span"),e.EFF(7),e.k0s(),e.j41(8,"span",127),e.EFF(9,"-"),e.k0s(),e.j41(10,"span"),e.EFF(11),e.k0s()()(),e.j41(12,"div",128)(13,"span",124),e.EFF(14),e.k0s()()()),2&s){const t=a.$implicit;e.R7$(3),e.JRh(t.player1Name),e.R7$(3),e.HbH((t.score1||0)>(t.score2||0)?"text-green-400":(t.score1||0)<(t.score2||0)?"text-red-400":"text-yellow-400"),e.R7$(1),e.SpI(" ",t.score1||0," "),e.R7$(3),e.HbH((t.score2||0)>(t.score1||0)?"text-green-400":(t.score2||0)<(t.score1||0)?"text-red-400":"text-yellow-400"),e.R7$(1),e.SpI(" ",t.score2||0," "),e.R7$(3),e.JRh(t.player2Name)}}function Oi(s,a){if(1&s&&(e.j41(0,"div",119)(1,"div",120),e.DNE(2,Ei,15,8,"div",121),e.k0s()()),2&s){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",n.getCompletedMatches(t.matches))}}function Di(s,a){if(1&s&&(e.j41(0,"div",122)(1,"div",123)(2,"span",124),e.EFF(3),e.k0s()(),e.j41(4,"div",125)(5,"div",129),e.EFF(6,"Pending"),e.k0s()(),e.j41(7,"div",128)(8,"span",124),e.EFF(9),e.k0s()()()),2&s){const t=a.$implicit;e.R7$(3),e.JRh(t.player1Name),e.R7$(6),e.JRh(t.player2Name)}}function Ii(s,a){if(1&s&&(e.j41(0,"div")(1,"div",120),e.DNE(2,Di,10,2,"div",121),e.k0s()()),2&s){const t=e.XpG().$implicit,n=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",n.getPendingMatches(t.matches))}}function Ri(s,a){if(1&s&&(e.j41(0,"div",115)(1,"div",116)(2,"h4",117),e.EFF(3),e.k0s(),e.j41(4,"h4",117),e.EFF(5),e.k0s()(),e.DNE(6,Oi,3,1,"div",118),e.DNE(7,Ii,3,1,"div",7),e.k0s()),2&s){const t=a.$implicit,n=e.XpG(3);e.R7$(3),e.SpI(" ",t.team1Name," "),e.R7$(2),e.SpI(" ",t.team2Name," "),e.R7$(1),e.Y8G("ngIf",n.getCompletedMatches(t.matches).length>0),e.R7$(1),e.Y8G("ngIf",n.getPendingMatches(t.matches).length>0)}}function $i(s,a){if(1&s&&(e.j41(0,"div",83),e.DNE(1,Ri,8,4,"div",114),e.k0s()),2&s){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.teamMatches)}}function Gi(s,a){1&s&&(e.j41(0,"div",82)(1,"p",3),e.EFF(2,"No matches found for this team."),e.k0s()())}function ji(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",110),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeTeamMatchesModal())}),e.j41(1,"div",111),e.bIt("click",function(i){return i.stopPropagation()}),e.j41(2,"button",112),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closeTeamMatchesModal())}),e.EFF(3," Exit \xd7 "),e.k0s(),e.j41(4,"div",113),e.DNE(5,Pi,2,0,"div",63),e.DNE(6,$i,2,1,"div",70),e.DNE(7,Gi,3,0,"div",68),e.k0s()()()}if(2&s){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.isLoadingMatches),e.R7$(1),e.Y8G("ngIf",!t.isLoadingMatches&&t.teamMatches.length>0),e.R7$(1),e.Y8G("ngIf",!t.isLoadingMatches&&0===t.teamMatches.length)}}function Li(s,a){1&s&&(e.j41(0,"div",64),e.nrm(1,"div",65),e.k0s())}function Ni(s,a){if(1&s&&(e.j41(0,"span",144),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(1),e.Lme(" ",t.playerScore," - ",t.opponentScore," ")}}function Ai(s,a){1&s&&(e.j41(0,"span",145),e.EFF(1," -- - -- "),e.k0s())}function Yi(s,a){if(1&s&&(e.j41(0,"span",146),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.HbH(t.playerScore>t.opponentScore?"bg-green-600 text-white":t.playerScore<t.opponentScore?"bg-red-600 text-white":"bg-yellow-600 text-black"),e.R7$(1),e.SpI(" ",t.playerScore>t.opponentScore?"WIN":t.playerScore<t.opponentScore?"LOSS":"DRAW"," ")}}function Ui(s,a){1&s&&(e.j41(0,"span",145),e.EFF(1," PENDING "),e.k0s())}function Xi(s,a){if(1&s&&(e.j41(0,"div",137)(1,"div",138)(2,"div",139)(3,"div",140),e.EFF(4),e.k0s()(),e.j41(5,"div",139),e.DNE(6,Ni,2,2,"span",141),e.DNE(7,Ai,2,0,"span",142),e.k0s(),e.j41(8,"div",139),e.DNE(9,Yi,2,3,"span",143),e.DNE(10,Ui,2,0,"span",142),e.k0s(),e.j41(11,"div",139)(12,"div",140),e.EFF(13),e.k0s()()()()),2&s){const t=a.$implicit;e.R7$(4),e.SpI(" ",t.opponentName," "),e.R7$(2),e.Y8G("ngIf",t.isCompleted),e.R7$(1),e.Y8G("ngIf",!t.isCompleted),e.R7$(2),e.Y8G("ngIf",t.isCompleted),e.R7$(1),e.Y8G("ngIf",!t.isCompleted),e.R7$(3),e.SpI(" ",t.playerName," ")}}function Vi(s,a){if(1&s&&(e.j41(0,"div",135),e.DNE(1,Xi,14,6,"div",136),e.k0s()),2&s){const t=e.XpG(2);e.R7$(1),e.Y8G("ngForOf",t.playerIndividualMatches)}}function Bi(s,a){1&s&&(e.j41(0,"div",82)(1,"p",3),e.EFF(2,"No matches found for this player."),e.k0s()())}function zi(s,a){if(1&s){const t=e.RV6();e.j41(0,"div",110),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closePlayerResultsModal())}),e.j41(1,"div",130),e.bIt("click",function(i){return i.stopPropagation()}),e.j41(2,"button",112),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.closePlayerResultsModal())}),e.EFF(3," Exit \xd7 "),e.k0s(),e.j41(4,"div",131)(5,"div",132)(6,"h3",133),e.EFF(7),e.k0s()(),e.DNE(8,Li,2,0,"div",63),e.DNE(9,Vi,2,1,"div",134),e.DNE(10,Bi,3,0,"div",68),e.k0s()()()}if(2&s){const t=e.XpG();e.R7$(7),e.SpI(" ",null==t.selectedPlayer?null:t.selectedPlayer.fullName," Results "),e.R7$(1),e.Y8G("ngIf",t.isLoadingPlayerMatches),e.R7$(1),e.Y8G("ngIf",!t.isLoadingPlayerMatches&&t.playerIndividualMatches.length>0),e.R7$(1),e.Y8G("ngIf",!t.isLoadingPlayerMatches&&0===t.playerIndividualMatches.length)}}const Hi=[{path:"",redirectTo:"ranking",pathMatch:"full"},{path:"league-table",component:Xe,data:{title:"League Table"}},{path:"ranking",component:xt,data:{title:"Ranking"}},{path:"groups-table",component:ce,data:{title:"Groups Table"}},{path:"groups-matches-table",component:le,data:{title:"Groups Matches Table"}},{path:"allLeagues",component:as,data:{title:"All Leagues"}},{path:"forbidden",component:ms,data:{title:"Forbidden Cards"}},{path:"inbox",component:Es,data:{title:"Inbox"}},{path:"friendlies",component:si,data:{title:"Friendlies"}},{path:"teams",component:(()=>{class s{constructor(t){this.multiTournamentService=t,this.activeTournament=null,this.standings=null,this.tournamentMatches=[],this.showTeamMatchesModal=!1,this.selectedTeam=null,this.selectedOpponent=null,this.teamMatches=[],this.isLoadingMatches=!1,this.showPlayerResultsModal=!1,this.selectedPlayer=null,this.playerIndividualMatches=[],this.isLoadingPlayerMatches=!1,this.playerStatsCache={},this.allPlayers=[],this.pastTournaments=[],this.isLoadingArchive=!1,this.isLoadingPlayers=!1,this.isLoadingPastTournaments=!1,this.activeTab="current",this.isLoading=!1,this.errorMessage=""}ngOnInit(){console.log("Teams component initialized"),this.loadActiveTournament(),this.loadArchiveData()}loadActiveTournament(){this.isLoading=!0,this.errorMessage="",this.multiTournamentService.getActiveTournament().subscribe({next:t=>{t.success&&t.data?(this.activeTournament=t.data,this.loadTournamentData()):this.activeTournament=null,this.isLoading=!1},error:t=>{console.error("Error loading active tournament:",t),this.errorMessage="Failed to load tournament data",this.activeTournament=null,this.isLoading=!1}})}loadTournamentData(){this.activeTournament&&(this.multiTournamentService.getTournamentStandings(this.activeTournament.multiTournamentId).subscribe({next:t=>{t.success&&t.data&&(this.standings=t.data)},error:t=>console.error("Error loading standings:",t)}),this.multiTournamentService.getActiveTournamentMatches().subscribe({next:t=>{t.success&&t.data&&(this.tournamentMatches=t.data,this.clearPlayerStatsCache())},error:t=>console.error("Error loading matches:",t)}))}getStatusColor(t){switch(t){case"Created":return"text-yellow-400";case"Started":return"text-green-400";case"Finished":return"text-blue-400";default:return"text-gray-400"}}getTrophyIcon(t){switch(t){case 1:return"\u{1f947}";case 2:return"\u{1f948}";case 3:return"\u{1f949}";default:return""}}getCompletedMatchesCount(){return this.tournamentMatches.reduce((t,n)=>t+n.matches.filter(i=>i.isCompleted).length,0)}getTotalMatchesCount(){return this.tournamentMatches.reduce((t,n)=>t+n.matches.length,0)}getTotalPlayersCount(){return this.activeTournament?.teams.reduce((t,n)=>t+n.players.length,0)||0}showTeamMatches(t,n){this.selectedTeam=t,this.selectedOpponent=n,this.showTeamMatchesModal=!0,this.loadTeamMatches(t,n)}closeTeamMatchesModal(){this.showTeamMatchesModal=!1,this.selectedTeam=null,this.selectedOpponent=null,this.teamMatches=[]}loadTeamMatches(t,n){!this.activeTournament||!this.tournamentMatches||(this.isLoadingMatches=!0,this.teamMatches=this.tournamentMatches.filter(i=>{const r=i.team1Name,o=i.team2Name;return r===t.teamName&&o===n.teamName||r===n.teamName&&o===t.teamName}),this.isLoadingMatches=!1)}getTeamOpponents(t){return this.activeTournament?this.activeTournament.teams.filter(n=>n.teamName!==t.teamName):[]}showPlayerResults(t){this.selectedPlayer=t,this.showPlayerResultsModal=!0,this.loadPlayerIndividualMatches(t)}closePlayerResultsModal(){this.showPlayerResultsModal=!1,this.selectedPlayer=null,this.playerIndividualMatches=[]}loadPlayerIndividualMatches(t){!this.activeTournament||!this.tournamentMatches||(this.isLoadingPlayerMatches=!0,this.playerIndividualMatches=[],this.tournamentMatches.forEach(n=>{n.matches.forEach(i=>{if(i.player1Id===t.playerId||i.player2Id===t.playerId){const r=i.player1Id===t.playerId,o=r?i.player1Name:i.player2Name,l=r?i.player2Name:i.player1Name,c=r?i.score1||0:i.score2||0,m=r?i.score2||0:i.score1||0;this.playerIndividualMatches.push({...i,playerName:o,opponentName:l,playerScore:c,opponentScore:m,isPlayer1:r,team1Name:n.team1Name,team2Name:n.team2Name})}})}),this.playerIndividualMatches.sort((n,i)=>n.isCompleted!==i.isCompleted?i.isCompleted?1:-1:0),this.isLoadingPlayerMatches=!1)}getPlayerTeamName(t){if(!this.activeTournament||!t)return"";const n=this.activeTournament.teams.find(i=>i.players.some(r=>r.playerId===t.playerId));return n?n.teamName:""}getPlayerStats(t){if(this.playerStatsCache[t])return this.playerStatsCache[t];if(!this.tournamentMatches||0===this.tournamentMatches.length){const m={wins:0,losses:0,totalPoints:0,totalPointsAgainst:0,totalMatches:0};return this.playerStatsCache[t]=m,m}let n=0,i=0,r=0,o=0,l=0;this.tournamentMatches.forEach(m=>{m.matches.forEach(y=>{if(y.isCompleted&&(y.player1Id===t||y.player2Id===t)){l++;const M=y.player1Id===t,G=M?y.score1||0:y.score2||0,K=M?y.score2||0:y.score1||0;G>K?n++:i++,r+=G,o+=K}})});const c={wins:n,losses:i,totalPoints:r,totalPointsAgainst:o,totalMatches:l};return this.playerStatsCache[t]=c,c}clearPlayerStatsCache(){this.playerStatsCache={}}loadArchiveData(){this.isLoadingArchive=!0,this.loadAllPlayers(),this.loadPastTournaments()}loadAllPlayers(){this.isLoadingPlayers=!0,console.log("Loading all players..."),this.multiTournamentService.getAllPlayers().subscribe({next:t=>{console.log("Players response:",t),t.success&&t.data?(this.allPlayers=t.data,console.log("Players loaded:",this.allPlayers)):(this.allPlayers=[{fullName:"Test Player 1",multiParticipations:5,multiTitlesWon:2},{fullName:"Test Player 2",multiParticipations:3,multiTitlesWon:1}],console.log("Using fallback players:",this.allPlayers)),this.isLoadingPlayers=!1,this.checkArchiveLoadingComplete()},error:t=>{console.error("Error loading players:",t),this.allPlayers=[{fullName:"Error Player 1",multiParticipations:0,multiTitlesWon:0},{fullName:"Error Player 2",multiParticipations:0,multiTitlesWon:0}],this.isLoadingPlayers=!1,this.checkArchiveLoadingComplete()}})}loadPastTournaments(){this.isLoadingPastTournaments=!0,console.log("Loading past tournaments..."),this.multiTournamentService.getAllTournaments().subscribe({next:t=>{console.log("Tournaments response:",t),t.success&&t.data?(this.pastTournaments=t.data.filter(n=>"Finished"===n.status),console.log("Past tournaments filtered:",this.pastTournaments),this.loadTournamentsStandings()):(this.pastTournaments=[{name:"Test Tournament 1",systemOfScoring:"League",status:"Finished",championTeamName:"Test Champions",standings:[{teamName:"Team A",totalPoints:15,wins:5,draws:0,losses:0,matchesPlayed:5},{teamName:"Team B",totalPoints:12,wins:4,draws:0,losses:1,matchesPlayed:5}]}],console.log("Using fallback tournaments:",this.pastTournaments)),this.isLoadingPastTournaments=!1,this.checkArchiveLoadingComplete()},error:t=>{console.error("Error loading past tournaments:",t),this.pastTournaments=[{name:"Error Tournament",systemOfScoring:"League",status:"Finished",championTeamName:"No Champion",standings:[]}],this.isLoadingPastTournaments=!1,this.checkArchiveLoadingComplete()}})}checkArchiveLoadingComplete(){console.log("Checking archive loading complete...",{isLoadingPlayers:this.isLoadingPlayers,isLoadingPastTournaments:this.isLoadingPastTournaments}),!this.isLoadingPlayers&&!this.isLoadingPastTournaments&&(this.isLoadingArchive=!1,console.log("Archive loading complete!"))}loadTournamentsStandings(){this.pastTournaments.forEach(t=>{this.multiTournamentService.getTournamentStandings(t.multiTournamentId).subscribe({next:n=>{n.success&&n.data&&(t.standings=n.data.standings)},error:n=>console.error(`Error loading standings for tournament ${t.multiTournamentId}:`,n)})})}getCompletedMatches(t){return t.filter(n=>n.isCompleted)}getPendingMatches(t){return t.filter(n=>!n.isCompleted)}static{this.\u0275fac=function(n){return new(n||s)(e.rXU(ii.y))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-teams"]],decls:17,vars:8,consts:[[1,"container","mx-auto","p-4","max-w-7xl"],[1,"mb-6"],[1,"text-3xl","font-bold","text-white","mb-2"],[1,"text-gray-400"],[1,"border-b","border-gray-700"],[1,"-mb-px","flex","space-x-8"],[3,"click"],[4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",3,"click",4,"ngIf"],["class","flex justify-center py-12",4,"ngIf"],["class","bg-red-900 text-white p-4 rounded-lg mb-6",4,"ngIf"],["class","text-center py-12",4,"ngIf"],[1,"flex","justify-center","py-12"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-500"],[1,"bg-red-900","text-white","p-4","rounded-lg","mb-6"],[1,"font-bold","mb-2"],[1,"mt-3","bg-red-700","hover:bg-red-600","px-4","py-2","rounded","transition-colors",3,"click"],[1,"text-center","py-12"],[1,"bg-gray-800","rounded-lg","p-8","max-w-md","mx-auto"],[1,"text-2xl","font-bold","text-white","mb-4"],[1,"text-gray-400","mb-4"],[1,"text-gray-500","text-sm"],[1,"bg-gray-800","rounded-lg","p-6","mb-6"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between"],[1,"text-2xl","font-bold","text-white","mb-3"],[1,"flex","flex-wrap","gap-4","text-sm"],[1,"bg-gray-700","px-3","py-1","rounded-full"],["class","mt-4 lg:mt-0",4,"ngIf"],[1,"grid","grid-cols-2","lg:grid-cols-4","gap-4","mb-6"],[1,"bg-blue-600","rounded-lg","p-4","text-center","text-white"],[1,"text-2xl","font-bold"],[1,"text-blue-100","text-sm"],[1,"bg-green-600","rounded-lg","p-4","text-center","text-white"],[1,"text-green-100","text-sm"],[1,"bg-purple-600","rounded-lg","p-4","text-center","text-white"],[1,"text-purple-100","text-sm"],[1,"bg-orange-600","rounded-lg","p-4","text-center","text-white"],[1,"text-orange-100","text-sm"],[1,"bg-black","bg-opacity-50","rounded-lg","p-6","mb-6"],[1,"text-xl","font-bold","text-white","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-4"],["class","bg-black/90 rounded-lg p-4 transition-colors",4,"ngFor","ngForOf"],[1,"mt-4","lg:mt-0"],[1,"bg-gradient-to-r","from-yellow-500","to-yellow-600","text-black","px-6","py-3","rounded-lg","font-bold","text-center"],[1,"bg-black/90","rounded-lg","p-4","transition-colors"],[1,"text-center","mb-4"],[1,"text-lg","font-bold","text-white","mb-2"],[1,"inline-block","bg-blue-600","text-white","px-3","py-1","rounded-full","font-bold"],[1,"grid","grid-cols-3","gap-2","mb-4","text-center","text-sm"],[1,"text-green-400","font-bold"],[1,"text-yellow-400","font-bold"],[1,"text-red-400","font-bold"],[1,"space-y-2"],["class","bg-gray-800 text-gray-100 px-8 py-2 rounded flex items-center justify-between cursor-pointer hover:bg-gray-700 transition-colors","title","Click to view player results",3,"click",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"text-xs","font-semibold","text-gray-300","mb-2","text-center","border-b","border-gray-600","pb-1"],["class","w-full bg-indigo-600 hover:bg-indigo-700 text-white px-2 py-1.5 rounded text-xs transition-colors font-medium",3,"click",4,"ngFor","ngForOf"],["title","Click to view player results",1,"bg-gray-800","text-gray-100","px-8","py-2","rounded","flex","items-center","justify-between","cursor-pointer","hover:bg-gray-700","transition-colors",3,"click"],[1,"text-green-400","font-bold","text-lg"],[1,"text-center","font-medium","text-white"],[1,"text-red-400","font-bold","text-lg"],[1,"w-full","bg-indigo-600","hover:bg-indigo-700","text-white","px-2","py-1.5","rounded","text-xs","transition-colors","font-medium",3,"click"],[1,"text-2xl","font-bold","text-white","mb-6"],["class","flex justify-center py-8",4,"ngIf"],[1,"flex","justify-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],["class","flex justify-center py-4",4,"ngIf"],["class","grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-2",4,"ngIf"],["class","text-center py-8",4,"ngIf"],[1,"bg-gray-800","rounded-lg","p-6"],["class","space-y-6",4,"ngIf"],[1,"flex","justify-center","py-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],[1,"grid","grid-cols-2","md:grid-cols-4","lg:grid-cols-6","xl:grid-cols-8","gap-2"],["class","bg-gray-700 p-2 rounded text-center hover:bg-gray-600 transition-colors cursor-pointer",4,"ngFor","ngForOf"],[1,"bg-gray-700","p-2","rounded","text-center","hover:bg-gray-600","transition-colors","cursor-pointer"],[1,"text-xs","font-semibold","text-white","mb-1","truncate",3,"title"],[1,"text-xs","text-gray-300","flex","justify-center","gap-2"],[1,"flex","items-center"],[1,"bg-blue-600","text-white","px-1","py-0.5","rounded"],[1,"text-gray-400","text-xs","ml-1"],[1,"bg-green-600","text-white","px-1","py-0.5","rounded"],[1,"text-center","py-8"],[1,"space-y-6"],["class","bg-gray-700 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"bg-gray-700","rounded-lg","p-4"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-lg","font-bold","text-white"],[1,"flex","items-center","gap-2"],[1,"bg-blue-600","text-white","px-3","py-1","rounded","text-sm"],[1,"bg-green-600","text-white","px-3","py-1","rounded","text-sm"],["class","bg-yellow-600 text-black px-3 py-1 rounded text-sm font-bold",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],["class","text-center py-4",4,"ngIf"],[1,"bg-yellow-600","text-black","px-3","py-1","rounded","text-sm","font-bold"],[1,"overflow-x-auto"],[1,"w-full","text-sm"],[1,"border-b","border-gray-600"],[1,"text-left","text-gray-300","py-2"],[1,"text-center","text-gray-300","py-2"],["class","border-b border-gray-600 hover:bg-gray-600",4,"ngFor","ngForOf"],[1,"border-b","border-gray-600","hover:bg-gray-600"],[1,"py-2","text-white","font-bold"],[1,"py-2","text-white"],[1,"py-2","text-center","text-white","font-bold"],[1,"py-2","text-center","text-green-400"],[1,"py-2","text-center","text-yellow-400"],[1,"py-2","text-center","text-red-400"],[1,"py-2","text-center","text-white"],[1,"text-center","py-4"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-black","bg-opacity-50","rounded-lg","w-full","max-w-6xl","max-h-[90vh]","relative",3,"click"],[1,"absolute","top-4","right-5","z-10","p-2","text-gray-100","hover:text-white","text-lg","font-bold","transition-colors","bg-gray-800","bg-opacity-70","rounded-full","h-8","flex","items-center","justify-center",3,"click"],[1,"p-6","overflow-y-auto","max-h-[90vh]"],["class","bg-black bg-opacity-80 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-80","rounded-lg","p-4"],[1,"flex","justify-between","px-3"],[1,"text-lg","font-bold","text-white","mb-3","bg-black","bg-opacity-50","pb-2"],["class","mb-4",4,"ngIf"],[1,"mb-4"],[1,"grid","gap-3"],["class","bg-black bg-opacity-50 p-3 rounded flex justify-between items-center",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-50","p-3","rounded","flex","justify-between","items-center"],[1,"flex-1"],[1,"text-white","font-semibold"],[1,"px-4","text-center"],[1,"font-bold","text-lg"],[1,"text-white","mx-2"],[1,"flex-1","text-right"],[1,"text-gray-400","text-sm"],[1,"bg-black","bg-opacity-50","rounded-lg","w-full","max-w-2xl","max-h-[80vh]","relative",3,"click"],[1,"p-6","overflow-y-auto",2,"max-height","calc(80vh - 6rem)"],[1,"text-center","mb-6"],[1,"text-xl","font-semibold","text-white"],["class","space-y-3",4,"ngIf"],[1,"space-y-3"],["class","bg-black bg-opacity-90 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-90","rounded-lg","p-4"],[1,"grid","grid-cols-4","gap-4","items-center"],[1,"text-center"],[1,"text-white","font-medium","text-sm"],["class","text-base font-semibold text-white",4,"ngIf"],["class","text-gray-400 text-xs",4,"ngIf"],["class","px-2 py-0.5 rounded-full text-xs font-medium",3,"class",4,"ngIf"],[1,"text-base","font-semibold","text-white"],[1,"text-gray-400","text-xs"],[1,"px-2","py-0.5","rounded-full","text-xs","font-medium"]],template:function(n,i){1&n&&(e.j41(0,"div",0)(1,"div",1)(2,"h1",2),e.EFF(3,"\u{1f465} Teams Tournament"),e.k0s(),e.j41(4,"p",3),e.EFF(5,"View teams standings and tournament progress"),e.k0s()(),e.j41(6,"div",1)(7,"div",4)(8,"nav",5)(9,"button",6),e.bIt("click",function(){return i.activeTab="current"}),e.EFF(10," \u{1f3c6} \u0627\u0644\u0628\u0637\u0648\u0644\u0629 \u0627\u0644\u062d\u0627\u0644\u064a\u0629 "),e.k0s(),e.j41(11,"button",6),e.bIt("click",function(){return i.activeTab="archive"}),e.EFF(12," \u{1f4da} \u0627\u0644\u0623\u0631\u0634\u064a\u0641 "),e.k0s()()()(),e.DNE(13,pi,5,4,"div",7),e.DNE(14,Ti,5,2,"div",7),e.k0s(),e.DNE(15,ji,8,3,"div",8),e.DNE(16,zi,11,4,"div",8)),2&n&&(e.R7$(9),e.HbH("current"===i.activeTab?"border-blue-500 text-blue-400 border-b-2 py-2 px-1 text-sm font-medium":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300 border-b-2 py-2 px-1 text-sm font-medium"),e.R7$(2),e.HbH("archive"===i.activeTab?"border-blue-500 text-blue-400 border-b-2 py-2 px-1 text-sm font-medium":"border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300 border-b-2 py-2 px-1 text-sm font-medium"),e.R7$(2),e.Y8G("ngIf","current"===i.activeTab),e.R7$(1),e.Y8G("ngIf","archive"===i.activeTab),e.R7$(1),e.Y8G("ngIf",i.showTeamMatchesModal),e.R7$(1),e.Y8G("ngIf",i.showPlayerResultsModal))},dependencies:[h.Sq,h.bT],styles:[".teams-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.team-card[_ngcontent-%COMP%]{background:rgba(31,41,55,.8);border-radius:.5rem;padding:1.5rem;border:1px solid rgba(75,85,99,.3);transition:all .3s ease}.team-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000004d;border-color:#6366f180}.standings-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.standings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .standings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;text-align:left;border-bottom:1px solid rgba(75,85,99,.3)}.standings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:rgba(31,41,55,.8);font-weight:600;color:#d1d5db}.standings-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(55,65,81,.5)}.champion-row[_ngcontent-%COMP%]{background:rgba(251,191,36,.1)!important;border:1px solid rgba(251,191,36,.3)}.match-result[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem;background:rgba(55,65,81,.8);border-radius:.5rem;margin-bottom:.5rem}.score-display[_ngcontent-%COMP%]{font-weight:700;font-size:1.125rem;color:#fff;text-align:center;min-width:80px}.win-score[_ngcontent-%COMP%]{color:#10b981}.loss-score[_ngcontent-%COMP%]{color:#ef4444}.draw-score[_ngcontent-%COMP%]{color:#f59e0b}.tournament-status[_ngcontent-%COMP%]{display:inline-block;padding:.25rem .75rem;border-radius:.375rem;font-weight:600;font-size:.875rem}.status-created[_ngcontent-%COMP%]{background-color:#fbbf2433;color:#fbbf24}.status-started[_ngcontent-%COMP%]{background-color:#10b98133;color:#10b981}.status-finished[_ngcontent-%COMP%]{background-color:#3b82f633;color:#3b82f6}.match-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem;justify-content:center}.vs-button[_ngcontent-%COMP%]{background-color:#7c3aed;color:#fff;padding:.25rem .5rem;border-radius:.25rem;font-size:.75rem;border:none;cursor:pointer;transition:background-color .2s}.vs-button[_ngcontent-%COMP%]:hover{background-color:#6d28d9}.loading-spinner[_ngcontent-%COMP%]{border:2px solid rgba(59,130,246,.3);border-radius:50%;border-top:2px solid #3b82f6;width:1.5rem;height:1.5rem;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#000000bf;display:flex;align-items:center;justify-content:center;z-index:50}.modal-content[_ngcontent-%COMP%]{background-color:#1f2937;padding:1.5rem;border-radius:.5rem;max-width:56rem;width:90%;max-height:90vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.close-button[_ngcontent-%COMP%]{background:none;border:none;color:#9ca3af;font-size:1.5rem;cursor:pointer;transition:color .2s}.close-button[_ngcontent-%COMP%]:hover{color:#fff}@media (max-width: 768px){.standings-table[_ngcontent-%COMP%]{font-size:.875rem}.standings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .standings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}.match-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.vs-button[_ngcontent-%COMP%]{margin:.125rem;min-width:80px}}\n\n/*# sourceMappingURL=teams.component.css.map*/"]})}}return s})(),data:{title:"Teams"}}];let Wi=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[f.iI.forChild(Hi),f.iI]})}}return s})();var Ki=p(6443),Qi=p(3887);let Zi=(()=>{class s{static{this.\u0275fac=function(n){return new(n||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[h.MD,Wi,Ki.q1,O.YN,kn,Qi.G,Q]})}}return s})()},9204:(j,T,p)=>{function h(v,e,P,k,F,d,g){try{var b=v[d](g),w=b.value}catch(_){return void P(_)}b.done?e(w):Promise.resolve(w).then(k,F)}function f(v){return function(){var e=this,P=arguments;return new Promise(function(k,F){var d=v.apply(e,P);function g(w){h(d,k,F,g,b,"next",w)}function b(w){h(d,k,F,g,b,"throw",w)}g(void 0)})}}p.d(T,{A:()=>f})}}]);
//# sourceMappingURL=736.e34e30234c97b3fe.js.map