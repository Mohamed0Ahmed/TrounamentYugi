"use strict";(self.webpackChunkYugiTournamnet=self.webpackChunkYugiTournamnet||[]).push([[835],{7137:(P,y,u)=>{u.d(y,{N:()=>w});var g=u(5312),m=u(8450),p=u(6443),e=u(5430);let w=(()=>{class x{constructor(d,C){this.http=d,this.cacheService=C,this.baseUrl=g.c.apiUrl}resetLeague(d){return this.http.post(`${this.baseUrl}/league/reset/${d}`,{})}startLeague(d){return this.http.post(`${this.baseUrl}/league/start`,d)}GetCurrentLeague(){return this.cacheService.cachePlayerRequest("current-league",this.http.get(`${this.baseUrl}/league/getCurrentLeague`))}getAdminCurrentLeague(){return this.http.get(`${this.baseUrl}/league/getCurrentLeague`)}GetAllLeaguesRank(){return this.cacheService.cacheAllLeaguesRequest("all-leagues-rank",this.http.get(`${this.baseUrl}/player/players/all`))}getAdminAllLeagues(){return this.http.get(`${this.baseUrl}/player/players/all`)}DeleteLeague(d){return this.http.delete(`${this.baseUrl}/league/delete/${d}`)}createGroupsAndMatches(d){return this.http.post(`${this.baseUrl}/league/${d}/create-groups`,{})}startKnockoutStage(d){return this.http.post(`${this.baseUrl}/league/${d}/start-knockouts`,{})}startSemiFinals(d){return this.http.post(`${this.baseUrl}/league/${d}/start-semifinals`,{})}startFinal(d){return this.http.post(`${this.baseUrl}/league/${d}/start-final`,{})}getLastLeaguesRankUpdateTime(){return this.cacheService.getLastUpdateTime("all-leagues-rank")}getLastCurrentLeagueUpdateTime(){return this.cacheService.getLastUpdateTime("current-league")}static{this.\u0275fac=function(C){return new(C||x)(m.KVO(p.Qq),m.KVO(e._))}}static{this.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},9101:(P,y,u)=>{u.d(y,{T:()=>M});var g=u(8764),m=u(5312),p=u(8450),e=u(6443),w=u(3665),x=u(5430);let M=(()=>{class d{constructor(_,S,L){this.http=_,this.playerService=S,this.cacheService=L,this.baseUrl=m.c.apiUrl}getMatches(){return this.cacheService.cachePlayerRequest("current-matches",this.http.get(`${this.baseUrl}/match`))}getAdminMatches(){return this.http.get(`${this.baseUrl}/match`)}updateMatch(_,S){return this.http.post(`${this.baseUrl}/match/${_}/result`,{winnerId:S}).pipe((0,g.M)(()=>{this.playerService.refreshPlayers()}))}resetMatch(_){return this.http.delete(`${this.baseUrl}/match/reset/${_}`).pipe((0,g.M)(()=>{this.playerService.refreshPlayers()}))}getLastMatchesUpdateTime(){return this.cacheService.getLastUpdateTime("current-matches")}static{this.\u0275fac=function(S){return new(S||d)(p.KVO(e.Qq),p.KVO(w.x),p.KVO(x._))}}static{this.\u0275prov=p.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},6375:(P,y,u)=>{u.d(y,{b:()=>w});var g=u(5312),m=u(8450),p=u(6443),e=u(5430);let w=(()=>{class x{constructor(d,C){this.http=d,this.cacheService=C,this.baseUrl=g.c.apiUrl}sendMessage(d){return this.http.post(`${this.baseUrl}/Message/send`,{Content:d})}getMessages(){return this.http.get(`${this.baseUrl}/Message/inbox`)}getAdminMessages(){return this.http.get(`${this.baseUrl}/Message/inbox`)}toggleMarkMessage(d,C){return this.http.post(`${this.baseUrl}/Message/mark/${d}`,{Marked:C})}toggleDeleteMessage(d,C){return this.http.post(`${this.baseUrl}/Message/delete/${d}`,{Marked:C})}getPlayerMessages(){return this.http.get(`${this.baseUrl}/Message/my-messages`)}sendAdminReply(d,C){return this.http.post(`${this.baseUrl}/Message/reply/${d}`,{Content:C})}static{this.\u0275fac=function(C){return new(C||x)(m.KVO(p.Qq),m.KVO(e._))}}static{this.\u0275prov=m.jDH({token:x,factory:x.\u0275fac,providedIn:"root"})}}return x})()},3665:(P,y,u)=>{u.d(y,{x:()=>M});var g=u(5797),m=u(8764),p=u(5312),e=u(8450),w=u(6443),x=u(5430);let M=(()=>{class d{constructor(_,S){this.http=_,this.cacheService=S,this.baseUrl=p.c.apiUrl,this.rankingSubject=new g.t([]),this.ranking$=this.rankingSubject.asObservable()}getrank(){return this.cacheService.cachePlayerRequest("player-ranking",this.http.get(`${this.baseUrl}/player/ranking`).pipe((0,m.M)(_=>this.rankingSubject.next(_))))}getPlayers(){return this.cacheService.cachePlayerRequest("players-list",this.http.get(`${this.baseUrl}/player`).pipe((0,m.M)(_=>this.rankingSubject.next(_))))}getAdminPlayers(){return this.http.get(`${this.baseUrl}/player`).pipe((0,m.M)(_=>this.rankingSubject.next(_)))}addPlayer(_){return this.http.post(`${this.baseUrl}/player`,{fullName:_}).pipe((0,m.M)(()=>{this.cacheService.invalidatePattern("player"),this.refreshPlayers()}))}deletePlayer(_){return this.http.delete(`${this.baseUrl}/player/${_}`).pipe((0,m.M)(()=>{this.cacheService.invalidatePattern("player"),this.refreshPlayers()}))}refreshRanking(){this.cacheService.remove("player-ranking"),this.http.get(`${this.baseUrl}/player/ranking`).subscribe(_=>{this.rankingSubject.next(_)})}refreshPlayers(){this.cacheService.remove("players-list"),this.http.get(`${this.baseUrl}/player`).subscribe(_=>{this.rankingSubject.next(_)})}getNextUpdateTime(){return this.cacheService.getNextPlayerUpdateTime()}getLastRankingUpdateTime(){return this.cacheService.getLastUpdateTime("player-ranking")}getLastPlayersUpdateTime(){return this.cacheService.getLastUpdateTime("players-list")}static{this.\u0275fac=function(S){return new(S||d)(e.KVO(w.Qq),e.KVO(x._))}}static{this.\u0275prov=e.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},4597:(P,y,u)=>{u.d(y,{Ck:()=>p,KE:()=>m,gD:()=>g});var g=function(e){return e[e.League=0]="League",e[e.GroupStage=1]="GroupStage",e[e.QuarterFinals=2]="QuarterFinals",e[e.SemiFinals=3]="SemiFinals",e[e.Final=4]="Final",e}(g||{}),m=function(e){return e[e.Points=0]="Points",e[e.Classic=1]="Classic",e}(m||{}),p=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.Groups=2]="Groups",e}(p||{})},7835:(P,y,u)=>{u.r(y),u.d(y,{PlayerModule:()=>un});var g=u(316),m=u(4827),p=u(4597),e=u(8450),w=u(3665),x=u(9101),M=u(4285),d=u(7137);function C(r,o){1&r&&(e.j41(0,"div",4)(1,"div",5)(2,"h4",6),e.EFF(3," Groups Tournament Info "),e.k0s(),e.j41(4,"div",7)(5,"span",8),e.nrm(6,"i",9),e.EFF(7," Groups: 4 "),e.k0s(),e.j41(8,"span",10),e.nrm(9,"i",11),e.EFF(10," Winners Advance "),e.k0s(),e.j41(11,"span",12),e.nrm(12,"i",13),e.EFF(13," Knockout Stage "),e.k0s()()()())}function _(r,o){if(1&r&&(e.j41(0,"div",1)(1,"div",2),e.DNE(2,C,14,0,"div",3),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.isGroupsTournament())}}function S(r,o){1&r&&(e.j41(0,"div",1)(1,"div",2)(2,"h3",14),e.EFF(3,"No Active Tournament"),e.k0s(),e.j41(4,"p",15),e.EFF(5,"There is currently no active tournament."),e.k0s()()())}let L=(()=>{class r{constructor(t,s){this.leagueService=t,this.toastr=s,this.currentLeague=null,this.LeagueType=p.Ck,this.SystemOfLeague=p.KE}ngOnInit(){this.loadCurrentLeague()}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{console.error("Error loading current league:",t),this.currentLeague=null}})}getLeagueTypeText(){if(!this.currentLeague)return"Unknown";switch(this.currentLeague.typeOfLeague){case p.Ck.Single:return"Single League";case p.Ck.Multi:return"Multi League";case p.Ck.Groups:return"Groups Tournament";default:return"Unknown"}}getSystemOfLeagueText(){return this.currentLeague?.systemOfLeague?0===this.currentLeague.systemOfLeague?"Points System":"Classic System":"Unknown"}isGroupsTournament(){return this.currentLeague?.typeOfLeague===p.Ck.Groups}getFormattedDate(){return this.currentLeague?.createdOn?new Date(this.currentLeague.createdOn).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}):"Unknown"}getTournamentStatus(){return this.currentLeague?this.currentLeague.isFinished?{text:"Finished",color:"text-red-500"}:{text:"Live Now!",color:"text-green-500"}:{text:"No Active Tournament",color:"text-gray-400"}}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(d.N),e.rXU(M.tw))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-tournament-info"]],decls:2,vars:2,consts:[["class","mb-8",4,"ngIf"],[1,"mb-8"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","p-6","text-center"],["class","mt-6",4,"ngIf"],[1,"mt-6"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","rounded-lg","p-4"],[1,"text-lg","font-bold","text-white","mb-2"],[1,"flex","justify-center","space-x-6","text-sm"],[1,"text-blue-200"],[1,"fas","fa-users","mr-1"],[1,"text-green-200"],[1,"fas","fa-trophy","mr-1"],[1,"text-yellow-200"],[1,"fas","fa-calendar","mr-1"],[1,"text-xl","font-bold","text-white","mb-2"],[1,"text-gray-300"]],template:function(s,n){1&s&&(e.DNE(0,_,3,1,"div",0),e.DNE(1,S,6,0,"div",0)),2&s&&(e.Y8G("ngIf",n.currentLeague),e.R7$(1),e.Y8G("ngIf",!n.currentLeague))},dependencies:[g.bT],styles:[".tournament-info[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:24px;margin-bottom:32px}.info-card[_ngcontent-%COMP%]{background:rgba(31,41,55,.5);border-radius:8px;padding:12px;text-align:center;transition:transform .2s ease,box-shadow .2s ease}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000004d}.info-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:.25rem;color:#fff}.info-text[_ngcontent-%COMP%]{font-weight:700;font-size:.875rem}.text-blue[_ngcontent-%COMP%]{color:#60a5fa}.text-green[_ngcontent-%COMP%]{color:#34d399}.text-yellow[_ngcontent-%COMP%]{color:#fbbf24}.text-red[_ngcontent-%COMP%]{color:#f87171}.text-gray[_ngcontent-%COMP%]{color:#9ca3af}.groups-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);border-radius:8px;padding:16px;margin-top:24px}.groups-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#fff;margin-bottom:8px}.groups-details[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:24px;font-size:.875rem}.groups-detail[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.icon[_ngcontent-%COMP%]{margin-right:4px}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.groups-details[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.info-card[_ngcontent-%COMP%]{padding:8px}}.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed)}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.transition-all[_ngcontent-%COMP%]{transition:all .2s ease}.status-active[_ngcontent-%COMP%]{color:#10b981;font-weight:700}.status-finished[_ngcontent-%COMP%]{color:#ef4444;font-weight:700}.status-inactive[_ngcontent-%COMP%]{color:#9ca3af;font-weight:700}\n\n/*# sourceMappingURL=tournament-info.component.css.map*/"]})}}return r})();function ve(r,o){1&r&&(e.j41(0,"div",3)(1,"div",4)(2,"h1",5),e.EFF(3," The Tournament Will Start Soon! "),e.k0s()()())}function be(r,o){if(1&r){const t=e.RV6();e.j41(0,"th",19),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(3);return e.Njj(a.highlightColumn(i.playerId))}),e.EFF(1),e.k0s()}if(2&r){const t=o.$implicit,s=e.XpG(3);e.Y8G("ngClass",s.highlightedColumn==t.playerId?"text-white bg-gray-700":"text-white"),e.R7$(1),e.SpI(" ",t.fullName," ")}}function xe(r,o){1&r&&(e.j41(0,"span",26),e.EFF(1," N/A "),e.k0s())}function ye(r,o){if(1&r&&(e.qex(0),e.j41(1,"span",29),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG(2).$implicit,s=e.XpG().$implicit,n=e.XpG(3);e.R7$(1),e.Y8G("ngClass",n.getMatchResult(t,s).color),e.R7$(1),e.SpI(" ",n.getMatchResult(t,s).result," ")}}function Ce(r,o){if(1&r&&(e.j41(0,"span",29),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit,s=e.XpG().$implicit,n=e.XpG(3);e.Y8G("ngClass",n.getClassicResult(t,s).color),e.R7$(1),e.SpI(" ",n.getClassicResult(t,s).result," ")}}function ke(r,o){if(1&r&&(e.j41(0,"span"),e.DNE(1,ye,3,2,"ng-container",27),e.DNE(2,Ce,2,2,"ng-template",null,28,e.C5r),e.k0s()),2&r){const t=e.sdS(3),s=e.XpG(5);e.R7$(1),e.Y8G("ngIf",s.systemOfLeague===s.SystemOfLeague.Points)("ngIfElse",t)}}const Me=function(r){return{"shadow-lg shadow-gray-100":r}};function we(r,o){if(1&r&&(e.j41(0,"td",23),e.DNE(1,xe,2,0,"span",24),e.DNE(2,ke,4,2,"span",25),e.k0s()),2&r){const t=o.$implicit,s=e.XpG().$implicit,n=e.XpG(3);e.Y8G("ngClass",e.eq3(3,Me,n.highlightedColumn===t.playerId)),e.R7$(1),e.Y8G("ngIf",s.playerId===t.playerId),e.R7$(1),e.Y8G("ngIf",s.playerId!==t.playerId)}}function Se(r,o){if(1&r&&(e.j41(0,"tr",20),e.DNE(1,we,3,5,"td",21),e.j41(2,"td",22),e.EFF(3),e.k0s()()),2&r){const t=o.$implicit,s=o.index,n=e.XpG().$implicit,i=e.XpG(2);e.Y8G("ngClass",s%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(1),e.Y8G("ngForOf",i.getGroupedPlayers()[n]),e.R7$(2),e.SpI(" ",t.fullName," ")}}function De(r,o){if(1&r&&(e.j41(0,"div",9)(1,"div",10)(2,"h3",11),e.EFF(3),e.k0s()(),e.j41(4,"div",12)(5,"table",13)(6,"thead",14)(7,"tr",15),e.DNE(8,be,2,2,"th",16),e.j41(9,"th",17),e.EFF(10," \u0627\u0644\u0645\u0628\u0627\u0631\u0627\u0629 "),e.k0s()()(),e.j41(11,"tbody"),e.DNE(12,Se,4,3,"tr",18),e.k0s()()()()),2&r){const t=o.$implicit,s=e.XpG(2);e.R7$(3),e.SpI(" Group ",t," Matches "),e.R7$(5),e.Y8G("ngForOf",s.getGroupedPlayers()[t]),e.R7$(4),e.Y8G("ngForOf",s.getGroupedPlayers()[t])}}function Oe(r,o){if(1&r&&(e.j41(0,"div",6)(1,"div",7),e.DNE(2,De,13,3,"div",8),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.getGroupNumbers())}}let te=(()=>{class r{constructor(t,s,n,i){this.playerService=t,this.matchService=s,this.leagueService=n,this.toastr=i,this.players=[],this.matches=[],this.currentLeague=null,this.started=!0,this.highlightedColumn=null,this.SystemOfLeague=p.KE,this.LeagueType=p.Ck}ngOnInit(){this.loadCurrentLeague(),this.loadPlayers(),this.loadMatches(),this.loadLeagueSystem()}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{console.error("Error loading current league:",t),this.currentLeague=null}})}loadPlayers(){this.playerService.getrank().subscribe({next:t=>{this.players=t},error:t=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646"),console.error(t)}})}loadMatches(){this.matchService.getMatches().subscribe({next:t=>{t&&(this.matches=t,this.started=this.matches.every(s=>0==s.score1&&0==s.score2))},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0645\u0627\u062a\u0634\u0627\u062a")}})}loadLeagueSystem(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.systemOfLeague=t.league?.systemOfLeague},error:()=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0646\u0638\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u064a")}})}getGroupedPlayers(){const t={};return this.players.forEach(s=>{s.groupNumber&&(t[s.groupNumber]||(t[s.groupNumber]=[]),t[s.groupNumber].push(s))}),0===Object.keys(t).length&&[...this.players].sort((n,i)=>i.points-n.points).forEach((n,i)=>{const a=i%4+1;t[a]||(t[a]=[]),t[a].push(n)}),t}getGroupNumbers(){const t=this.getGroupedPlayers();return Object.keys(t).map(s=>parseInt(s)).sort((s,n)=>s-n)}hasGroupedPlayers(){const t=this.getGroupedPlayers();return Object.keys(t).length>0}isGroupsTournament(){return this.currentLeague?.typeOfLeague===p.Ck.Groups}getMatchResult(t,s){if(t.playerId===s.playerId)return{result:"N/A",color:"text-gray-800"};const n=this.matches.find(c=>c.player1Name===t.fullName&&c.player2Name===s.fullName||c.player1Name===s.fullName&&c.player2Name===t.fullName);if(!n)return{result:"-",color:"text-gray-500"};const i=n.player1Name===t.fullName?n.score1:n.score2,a=n.player2Name===s.fullName?n.score2:n.score1;let l="text-white ";return i>a?l="text-green-600 font-bold":i<a?l="text-red-600 font-bold":i==a&&0!=i&&(l="text-gray-400 font-bold text-yellow-400"),{result:`${i} - ${a}`,color:l}}getClassicResult(t,s){if(t.playerId===s.playerId)return{result:"N/A",color:"text-gray-800"};const n=this.matches.find(l=>l.player1Name===t.fullName&&l.player2Name===s.fullName||l.player1Name===s.fullName&&l.player2Name===t.fullName);if(!n)return{result:"-",color:"text-gray-500"};const i=n.player1Name===t.fullName?n.score1:n.score2,a=n.player2Name===s.fullName?n.score2:n.score1;return i>a?{result:"\u0641\u0648\u0632",color:"text-green-600 font-bold"}:i<a?{result:"\u062e\u0633\u0627\u0631\u0629",color:"text-red-600 font-bold"}:i===a&&0!==i?{result:"\u062a\u0639\u0627\u062f\u0644",color:"text-yellow-400 font-bold"}:{result:"-",color:"text-gray-500"}}highlightColumn(t){this.highlightedColumn=this.highlightedColumn===t?null:t}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(w.x),e.rXU(x.T),e.rXU(d.N),e.rXU(M.tw))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-groups-matches-table"]],decls:4,vars:2,consts:[[1,"sm:container","mx-auto","p-4"],["class","flex justify-center text-white",4,"ngIf"],["class","space-y-8",4,"ngIf"],[1,"flex","justify-center","text-white"],[1,"w-1/2","text-center","mt-10"],[1,"mb-4","text-4xl","font-extrabold","leading-none","tracking-tight","md:text-5xl","lg:text-6xl","text-white"],[1,"space-y-8"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["class","bg-black bg-opacity-50 backdrop-blur-sm rounded-lg border border-gray-700",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","border","border-gray-700"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","p-4","rounded-t-lg"],[1,"text-xl","font-bold","text-white","text-center"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-100"],[1,"text-xs","font-bold","text-gray-100","uppercase","bg-gray-800"],[1,"text-center"],["scope","col","class","px-3 py-3 cursor-pointer hover:bg-gray-700 transition-all min-w-[70px]",3,"ngClass","click",4,"ngFor","ngForOf"],["scope","col",1,"px-4","py-3","text-white","sticky-column"],["class","text-center hover:bg-gray-600",3,"ngClass",4,"ngFor","ngForOf"],["scope","col",1,"px-3","py-3","cursor-pointer","hover:bg-gray-700","transition-all","min-w-[70px]",3,"ngClass","click"],[1,"text-center","hover:bg-gray-600",3,"ngClass"],["class","transition-all",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-6","py-4","font-bold","text-white","sticky-column"],[1,"transition-all",3,"ngClass"],["class","font-bold text-white",4,"ngIf"],[4,"ngIf"],[1,"font-bold","text-white"],[4,"ngIf","ngIfElse"],["classicResult",""],[3,"ngClass"]],template:function(s,n){1&s&&(e.j41(0,"div",0),e.nrm(1,"app-tournament-info"),e.DNE(2,ve,4,0,"div",1),e.DNE(3,Oe,3,1,"div",2),e.k0s()),2&s&&(e.R7$(2),e.Y8G("ngIf",n.started),e.R7$(1),e.Y8G("ngIf",!n.started&&n.isGroupsTournament()&&n.hasGroupedPlayers()))},dependencies:[g.YU,g.Sq,g.bT,L],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 8px;text-align:center;border-bottom:1px solid #374151}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1f2937;color:#fff;font-weight:700;text-transform:uppercase;font-size:.75rem;letter-spacing:.05em}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .5s ease;position:relative}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#3b82f64d!important;box-shadow:0 2px 8px #3b82f666;border-left:3px solid #3b82f6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#111827}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1f2937}.group-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #374151;border-radius:8px;overflow:hidden;transition:all .6s ease}.group-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #3b82f64d;border-color:#3b82f680}.group-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);padding:16px;color:#fff;font-weight:700;text-align:center}.sticky-column[_ngcontent-%COMP%]{position:sticky;right:0;background-color:#1f2937;z-index:10}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto;scrollbar-width:thin;scrollbar-color:#4b5563 #1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px 4px;font-size:.875rem}.hidden[_ngcontent-%COMP%]{display:none}}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.transition-all[_ngcontent-%COMP%]{transition:all .2s ease}.text-green[_ngcontent-%COMP%]{color:#10b981}.text-red[_ngcontent-%COMP%]{color:#ef4444}.text-yellow[_ngcontent-%COMP%]{color:#f59e0b}.text-blue[_ngcontent-%COMP%]{color:#3b82f6}.text-gray[_ngcontent-%COMP%]{color:#9ca3af}\n\n/*# sourceMappingURL=groups-matches-table.component.css.map*/"]})}}return r})();function Fe(r,o){1&r&&(e.j41(0,"div",6)(1,"div",7)(2,"h1",8),e.EFF(3," The League Will Start Soon ! "),e.k0s()()())}function Pe(r,o){1&r&&e.nrm(0,"app-groups-matches-table")}function Te(r,o){if(1&r){const t=e.RV6();e.j41(0,"th",16),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.highlightColumn(i.playerId))}),e.EFF(1),e.k0s()}if(2&r){const t=o.$implicit,s=e.XpG(2);e.Y8G("ngClass",s.highlightedColumn==t.playerId?"highlighted-header":"text-white"),e.R7$(1),e.SpI(" ",t.fullName," ")}}function Ee(r,o){1&r&&(e.j41(0,"span",22),e.EFF(1," N/A "),e.k0s())}function Ie(r,o){if(1&r&&(e.qex(0),e.j41(1,"span",25),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG(2).$implicit,s=e.XpG().$implicit,n=e.XpG(2);e.R7$(1),e.Y8G("ngClass",n.getMatchResult(t,s).color),e.R7$(1),e.SpI(" ",n.getMatchResult(t,s).result," ")}}function $e(r,o){if(1&r&&(e.j41(0,"span",25),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit,s=e.XpG().$implicit,n=e.XpG(2);e.Y8G("ngClass",n.getClassicResult(t,s).color),e.R7$(1),e.SpI(" ",n.getClassicResult(t,s).result," ")}}function Re(r,o){if(1&r&&(e.j41(0,"span"),e.DNE(1,Ie,3,2,"ng-container",23),e.DNE(2,$e,2,2,"ng-template",null,24,e.C5r),e.k0s()),2&r){const t=e.sdS(3),s=e.XpG(4);e.R7$(1),e.Y8G("ngIf",s.systemOfLeague===s.SystemOfLeague.Points)("ngIfElse",t)}}const Le=function(r){return{"highlighted-cell":r}};function Ge(r,o){if(1&r&&(e.j41(0,"td",20),e.DNE(1,Ee,2,0,"span",21),e.DNE(2,Re,4,2,"span",4),e.k0s()),2&r){const t=o.$implicit,s=e.XpG().$implicit,n=e.XpG(2);e.Y8G("ngClass",e.eq3(3,Le,n.highlightedColumn===t.playerId)),e.R7$(1),e.Y8G("ngIf",s.playerId===t.playerId),e.R7$(1),e.Y8G("ngIf",s.playerId!==t.playerId)}}function je(r,o){if(1&r&&(e.j41(0,"tr",17),e.DNE(1,Ge,3,5,"td",18),e.j41(2,"td",19),e.EFF(3),e.k0s()()),2&r){const t=o.$implicit,s=o.index,n=e.XpG(2);e.Y8G("ngClass",s%2==0?"bg-gray-900 ":" bg-gray-950"),e.R7$(1),e.Y8G("ngForOf",n.players),e.R7$(2),e.SpI(" ",t.fullName," ")}}function Ne(r,o){if(1&r&&(e.j41(0,"div",9)(1,"table",10)(2,"thead",11)(3,"tr",12),e.DNE(4,Te,2,2,"th",13),e.j41(5,"th",14),e.EFF(6," \u0627\u0644\u0645\u0628\u0627\u0631\u0627\u0629 "),e.k0s()()(),e.j41(7,"tbody"),e.DNE(8,je,4,3,"tr",15),e.k0s()()()),2&r){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.players),e.R7$(4),e.Y8G("ngForOf",t.players)}}let Ae=(()=>{class r{constructor(t,s,n,i){this.playerService=t,this.matchService=s,this.toastr=n,this.leagueService=i,this.players=[],this.matches=[],this.started=!0,this.highlightedColumn=null,this.currentLeague=null,this.SystemOfLeague=p.KE,this.LeagueType=p.Ck}ngOnInit(){this.loadCurrentLeague(),this.loadPlayers(),this.loadMatches(),this.loadLeagueSystem()}loadPlayers(){this.playerService.getPlayers().subscribe({next:t=>{t&&(this.players=t)},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646")}})}loadMatches(){this.matchService.getMatches().subscribe({next:t=>{t&&(this.matches=t,this.started=this.matches.every(s=>0==s.score1&&0==s.score2))},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0645\u0627\u062a\u0634\u0627\u062a")}})}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{console.error("Error loading current league:",t),this.currentLeague=null}})}loadLeagueSystem(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.systemOfLeague=t.league?.systemOfLeague},error:()=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0646\u0638\u0627\u0645 \u0627\u0644\u062f\u0648\u0631\u064a")}})}getMatchResult(t,s){if(t.playerId===s.playerId)return{result:"N/A",color:"text-gray-800"};const n=this.matches.find(c=>c.player1Name===t.fullName&&c.player2Name===s.fullName||c.player1Name===s.fullName&&c.player2Name===t.fullName);if(!n)return{result:"-",color:"text-gray-500"};const i=n.player1Name===t.fullName?n.score1:n.score2,a=n.player2Name===s.fullName?n.score2:n.score1;let l="text-white ";return i>a?l="text-green-600 font-bold":i<a?l="text-red-600 font-bold":i==a&&0!=i&&(l="text-gray-400 font-bold text-yellow-400"),{result:`${i} - ${a}`,color:l}}getClassicResult(t,s){if(t.playerId===s.playerId)return{result:"N/A",color:"text-gray-800"};const n=this.matches.find(l=>l.player1Name===t.fullName&&l.player2Name===s.fullName||l.player1Name===s.fullName&&l.player2Name===t.fullName);if(!n)return{result:"-",color:"text-gray-500"};const i=n.player1Name===t.fullName?n.score1:n.score2,a=n.player2Name===s.fullName?n.score2:n.score1;return i>a?{result:"\u0641\u0648\u0632",color:"text-green-600 font-bold"}:i<a?{result:"\u062e\u0633\u0627\u0631\u0629",color:"text-red-600 font-bold"}:i===a&&0!==i?{result:"\u062a\u0639\u0627\u062f\u0644",color:"text-yellow-400 font-bold"}:{result:"-",color:"text-gray-500"}}highlightColumn(t){this.highlightedColumn=this.highlightedColumn===t?null:t}onClickOutside(t){const s=document.querySelector("table");s&&!s.contains(t.target)&&(this.highlightedColumn=null)}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(w.x),e.rXU(x.T),e.rXU(M.tw),e.rXU(d.N))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-league-table"]],hostBindings:function(s,n){1&s&&e.bIt("click",function(a){return n.onClickOutside(a)},!1,e.EBC)},decls:7,vars:3,consts:[[1,"p-4"],[1,"text-3xl","font-bold","text-white","text-center","mb-6","fa-bold"],[1,"container","mx-auto"],["class","flex justify-center text-gray-500",4,"ngIf"],[4,"ngIf"],["class","table-container relative overflow-x-auto shadow-md sm:rounded-lg",4,"ngIf"],[1,"flex","justify-center","text-gray-500"],[1,"w-1/2","text-center","mt-10"],[1,"mb-4","text-4xl","font-extrabold","leading-none","tracking-tight","md:text-5xl","lg:text-6xl","text-white"],[1,"table-container","relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-400"],[1,"text-xs","uppercase","bg-black"],[1,"text-center"],["scope","col","class","px-6 py-3 cursor-pointer hover:bg-gray-400 transition-all min-w-[70px]",3,"ngClass","click",4,"ngFor","ngForOf"],["scope","col",1,"px-4","py-3","text-white","sticky-column"],["class","text-center hover:bg-gray-600",3,"ngClass",4,"ngFor","ngForOf"],["scope","col",1,"px-6","py-3","cursor-pointer","hover:bg-gray-400","transition-all","min-w-[70px]",3,"ngClass","click"],[1,"text-center","hover:bg-gray-600",3,"ngClass"],["class","transition-all",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-6","py-4","font-bold","text-white","sticky-column"],[1,"transition-all",3,"ngClass"],["class","font-bold text-white",4,"ngIf"],[1,"font-bold","text-white"],[4,"ngIf","ngIfElse"],["classicResult",""],[3,"ngClass"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2," Games Table "),e.k0s(),e.nrm(3,"div",2),e.DNE(4,Fe,4,0,"div",3),e.DNE(5,Pe,1,0,"app-groups-matches-table",4),e.DNE(6,Ne,9,2,"div",5),e.k0s()),2&s&&(e.R7$(4),e.Y8G("ngIf",n.started),e.R7$(1),e.Y8G("ngIf",!n.started&&(null==n.currentLeague?null:n.currentLeague.typeOfLeague)===n.LeagueType.Groups),e.R7$(1),e.Y8G("ngIf",!n.started&&(null==n.currentLeague?null:n.currentLeague.typeOfLeague)!==n.LeagueType.Groups))},dependencies:[g.YU,g.Sq,g.bT,te],styles:['.sticky-column[_ngcontent-%COMP%]{position:sticky;right:0;z-index:50;box-shadow:-2px 0 4px #0000004d;-webkit-backdrop-filter:blur(0px);backdrop-filter:blur(0px)}thead[_ngcontent-%COMP%]   .sticky-column[_ngcontent-%COMP%]{background-color:#000}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n)   .sticky-column[_ngcontent-%COMP%]{background-color:#030712}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd)   .sticky-column[_ngcontent-%COMP%]{background-color:#111827}.table-container[_ngcontent-%COMP%]{overflow-x:auto;position:relative}.table-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;width:2px;height:100%;background:transparent}.highlighted-cell[_ngcontent-%COMP%]{background:rgba(255,255,255,.1)!important;box-shadow:0 2px 8px #fff3;border:2px solid rgba(255,255,255,.6);border-radius:4px;transition:all .5s ease}.highlighted-cell[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.15)!important;box-shadow:0 4px 12px #ffffff4d;border-color:#fffc}.highlighted-header[_ngcontent-%COMP%]{background:rgba(255,255,255,.15)!important;color:#fff!important;box-shadow:0 2px 8px #fff3;border:2px solid rgba(255,255,255,.6);border-radius:4px;transition:all .5s ease}.highlighted-header[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2)!important;box-shadow:0 4px 12px #ffffff4d;border-color:#fffc}\n\n/*# sourceMappingURL=league-table.component.css.map*/']})}}return r})();function Ue(r,o){1&r&&(e.j41(0,"span",11),e.EFF(1,"\u2713"),e.k0s())}function Be(r,o){1&r&&(e.j41(0,"span",11),e.EFF(1,"\u2713"),e.k0s())}function Ye(r,o){if(1&r&&(e.j41(0,"div",6)(1,"div",7)(2,"div",8),e.EFF(3),e.DNE(4,Ue,2,0,"span",9),e.k0s()(),e.j41(5,"div",10),e.EFF(6,"vs"),e.k0s(),e.j41(7,"div",7)(8,"div",8),e.EFF(9),e.DNE(10,Be,2,0,"span",9),e.k0s()()()),2&r){const t=o.$implicit;e.R7$(3),e.SpI(" ",t.player1Name||"---"," "),e.R7$(1),e.Y8G("ngIf",t.isCompleted&&t.score1>t.score2),e.R7$(5),e.SpI(" ",t.player2Name||"---"," "),e.R7$(1),e.Y8G("ngIf",t.isCompleted&&t.score2>t.score1)}}function Xe(r,o){1&r&&(e.j41(0,"span",11),e.EFF(1,"\u2713"),e.k0s())}function ze(r,o){1&r&&(e.j41(0,"span",11),e.EFF(1,"\u2713"),e.k0s())}function He(r,o){if(1&r&&(e.j41(0,"div",6)(1,"div",7)(2,"div",8),e.EFF(3),e.DNE(4,Xe,2,0,"span",9),e.k0s()(),e.j41(5,"div",10),e.EFF(6,"vs"),e.k0s(),e.j41(7,"div",7)(8,"div",8),e.EFF(9),e.DNE(10,ze,2,0,"span",9),e.k0s()()()),2&r){const t=o.$implicit;e.R7$(3),e.SpI(" ",t.player1Name||"---"," "),e.R7$(1),e.Y8G("ngIf",t.isCompleted&&t.score1>t.score2),e.R7$(5),e.SpI(" ",t.player2Name||"---"," "),e.R7$(1),e.Y8G("ngIf",t.isCompleted&&t.score2>t.score1)}}function Ve(r,o){1&r&&(e.j41(0,"span",13),e.EFF(1,"\u{1f451}"),e.k0s())}function Ke(r,o){1&r&&(e.j41(0,"span",13),e.EFF(1,"\u{1f451}"),e.k0s())}function We(r,o){if(1&r&&(e.j41(0,"div",2)(1,"h3"),e.EFF(2,"Final"),e.k0s(),e.j41(3,"div",3)(4,"div",6)(5,"div",7)(6,"div",8),e.EFF(7),e.DNE(8,Ve,2,0,"span",12),e.k0s()(),e.j41(9,"div",10),e.EFF(10,"vs"),e.k0s(),e.j41(11,"div",7)(12,"div",8),e.EFF(13),e.DNE(14,Ke,2,0,"span",12),e.k0s()()()()()),2&r){const t=e.XpG();let s,n;e.R7$(7),e.SpI(" ",null!==(s=null==(s=t.final())?null:s.player1Name)&&void 0!==s?s:"---"," "),e.R7$(1),e.Y8G("ngIf",t.final().isCompleted&&t.final().score1>t.final().score2),e.R7$(5),e.SpI(" ",null!==(n=null==(n=t.final())?null:n.player2Name)&&void 0!==n?n:"---"," "),e.R7$(1),e.Y8G("ngIf",t.final().isCompleted&&t.final().score2>t.final().score1)}}let Y=(()=>{class r{constructor(t){this.leagueService=t,this.quarterFinals=(0,e.vPA)([]),this.semiFinals=(0,e.vPA)([]),this.final=(0,e.vPA)(null)}ngOnInit(){this.loadKnockoutMatches()}ngOnChanges(t){t.leagueId&&this.loadKnockoutMatches()}loadKnockoutMatches(){if(!this.leagueId)return this.quarterFinals.set([]),this.semiFinals.set([]),void this.final.set(null);this.leagueService.GetAllLeaguesRank().subscribe({next:t=>{const s=t.find(n=>n.leagueId===this.leagueId);s&&s.knockoutMatches?this.processKnockoutMatches(s.knockoutMatches):(this.quarterFinals.set([]),this.semiFinals.set([]),this.final.set(null))},error:t=>{console.error("Error loading knockout matches:",t),this.quarterFinals.set([]),this.semiFinals.set([]),this.final.set(null)}})}processKnockoutMatches(t){this.quarterFinals.set(this.shuffleMatches(t.filter(s=>{const n=s.tournamentStage?parseInt(s.tournamentStage):s.stage;return s.stage===p.gD.QuarterFinals||2===n}))),this.semiFinals.set(this.shuffleMatches(t.filter(s=>{const n=s.tournamentStage?parseInt(s.tournamentStage):s.stage;return s.stage===p.gD.SemiFinals||3===n}))),this.final.set(t.find(s=>{const n=s.tournamentStage?parseInt(s.tournamentStage):s.stage;return s.stage===p.gD.Final||4===n})??null)}shuffleMatches(t){return t.map(s=>Math.random()>.5?{...s,player1Name:s.player2Name,player2Name:s.player1Name,player1Id:s.player2Id,player2Id:s.player1Id,score1:s.score2,score2:s.score1}:s)}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(d.N))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-bracket-tree"]],inputs:{leagueId:"leagueId"},standalone:!0,features:[e.OA$,e.aNF],decls:15,vars:3,consts:[[1,"bracket-container"],[1,"bracket-stage"],[1,"stage-container"],[1,"matches"],["class","match",4,"ngFor","ngForOf"],["class","stage-container",4,"ngIf"],[1,"match"],[1,"player-container"],[1,"player"],["class","winner-check",4,"ngIf"],[1,"vs"],[1,"winner-check"],["class","champion-check",4,"ngIf"],[1,"champion-check"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e.EFF(4,"Quarter Finals"),e.k0s(),e.j41(5,"div",3),e.DNE(6,Ye,11,4,"div",4),e.k0s()()(),e.j41(7,"div",1)(8,"div",2)(9,"h3"),e.EFF(10,"Semi Finals"),e.k0s(),e.j41(11,"div",3),e.DNE(12,He,11,4,"div",4),e.k0s()()(),e.j41(13,"div",1),e.DNE(14,We,15,4,"div",5),e.k0s()()),2&s&&(e.R7$(6),e.Y8G("ngForOf",n.quarterFinals()),e.R7$(6),e.Y8G("ngForOf",n.semiFinals()),e.R7$(2),e.Y8G("ngIf",n.final()))},dependencies:[g.MD,g.Sq,g.bT],styles:[".bracket-container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;font-family:Tajawal,Arial,sans-serif;min-height:100vh}.bracket-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#fff;font-size:2rem;font-weight:700}.bracket-stage[_ngcontent-%COMP%]{margin-bottom:3rem}.bracket-stage[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#fff;font-size:1.5rem;font-weight:700}.stage-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 4px 6px #0000001a;border-radius:8px}.matches[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:2rem;justify-items:center}.match[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:1rem;width:100%;max-width:500px}.player-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center}.player[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:6px;color:#fff;font-weight:700;min-width:150px;text-align:center;box-shadow:0 2px 4px #0003;display:flex;align-items:center;justify-content:center;position:relative;padding:.5rem}.winner-check[_ngcontent-%COMP%]{color:#22c55e;font-weight:700;font-size:1.2rem;margin-left:.5rem;display:inline-flex;align-items:center;justify-content:center}.champion-check[_ngcontent-%COMP%]{color:#fbbf24;font-weight:700;font-size:1.2rem;margin-left:.5rem;display:inline-flex;align-items:center;justify-content:center;animation:_ngcontent-%COMP%_champion-glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_champion-glow{0%{filter:brightness(1)}to{filter:brightness(1.3)}}.vs[_ngcontent-%COMP%]{font-weight:700;color:#fff;font-size:1.2rem}@media (max-width: 1024px){.bracket-container[_ngcontent-%COMP%]{padding:1rem}.bracket-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:1rem}.bracket-stage[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.matches[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.5rem}.match[_ngcontent-%COMP%]{flex-direction:column;gap:.2rem}.player[_ngcontent-%COMP%]{min-width:70px;font-size:.8rem;padding:.3rem .5rem}.winner-check[_ngcontent-%COMP%], .champion-check[_ngcontent-%COMP%]{font-size:.8rem;margin-left:.3rem}.vs[_ngcontent-%COMP%]{font-size:.8rem}}\n\n/*# sourceMappingURL=bracket-tree.component.css.map*/"],changeDetection:0})}}return r})();function Qe(r,o){1&r&&(e.j41(0,"div",3)(1,"div",4)(2,"h1",5),e.EFF(3," The Tournament Will Start Soon! "),e.k0s()()())}function qe(r,o){if(1&r&&(e.j41(0,"tr",19)(1,"th",20),e.EFF(2),e.k0s(),e.j41(3,"td",21),e.EFF(4),e.k0s(),e.j41(5,"td",22),e.EFF(6),e.k0s(),e.j41(7,"td",23),e.EFF(8),e.k0s(),e.j41(9,"td",24),e.EFF(10),e.k0s(),e.j41(11,"td",25),e.EFF(12),e.k0s(),e.j41(13,"td",26),e.EFF(14),e.k0s(),e.j41(15,"td",27),e.EFF(16),e.nI1(17,"number"),e.k0s()()),2&r){const t=o.$implicit;e.Y8G("ngClass",o.index%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(2),e.SpI(" ",t.rank," "),e.R7$(2),e.SpI(" ",t.fullName," "),e.R7$(2),e.SpI(" ",t.points," "),e.R7$(2),e.SpI(" ",t.wins," "),e.R7$(2),e.SpI(" ",t.draws," "),e.R7$(2),e.SpI(" ",t.losses," "),e.R7$(2),e.SpI(" ",t.matchesPlayed," "),e.R7$(1),e.Y8G("ngClass",t.winRate>50?"text-green-500":"text-red-600"),e.R7$(1),e.SpI(" ",e.i5U(17,10,t.winRate,"1.2-2")," % ")}}function Ze(r,o){if(1&r&&(e.j41(0,"div",9)(1,"div",10)(2,"h3",11),e.EFF(3),e.k0s()(),e.j41(4,"div",12)(5,"table",13)(6,"thead",14)(7,"tr",15)(8,"th",16),e.EFF(9,"Rank"),e.k0s(),e.j41(10,"th",16),e.EFF(11,"Name"),e.k0s(),e.j41(12,"th",16),e.EFF(13,"Points"),e.k0s(),e.j41(14,"th",17),e.EFF(15,"Win"),e.k0s(),e.j41(16,"th",17),e.EFF(17,"Draw"),e.k0s(),e.j41(18,"th",17),e.EFF(19,"Loss"),e.k0s(),e.j41(20,"th",16),e.EFF(21,"Games"),e.k0s(),e.j41(22,"th",16),e.EFF(23,"Win Rate"),e.k0s()()(),e.j41(24,"tbody"),e.DNE(25,qe,18,13,"tr",18),e.k0s()()()()),2&r){const t=o.$implicit,s=e.XpG(2);e.R7$(3),e.SpI(" Group ",t," "),e.R7$(22),e.Y8G("ngForOf",s.getGroupedPlayers()[t])}}function Je(r,o){if(1&r&&(e.j41(0,"div",6)(1,"div",7),e.DNE(2,Ze,26,2,"div",8),e.k0s()()),2&r){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.getGroupNumbers())}}let se=(()=>{class r{constructor(t,s,n){this.playerService=t,this.leagueService=s,this.toastr=n,this.players=[],this.currentLeague=null,this.LeagueType=p.Ck,this.started=!0}ngOnInit(){this.loadCurrentLeague(),this.loadPlayers()}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{console.error("Error loading current league:",t),this.currentLeague=null}})}loadPlayers(){this.playerService.getrank().subscribe({next:t=>{this.players=t,this.started=this.players.every(s=>0===s.matchesPlayed)},error:t=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646"),console.error(t)}})}getGroupedPlayers(){const t={};return this.players.forEach(s=>{s.groupNumber&&(t[s.groupNumber]||(t[s.groupNumber]=[]),t[s.groupNumber].push(s))}),0===Object.keys(t).length&&[...this.players].sort((n,i)=>i.points-n.points).forEach((n,i)=>{const a=i%4+1;t[a]||(t[a]=[]),t[a].push(n)}),Object.keys(t).forEach(s=>{const n=parseInt(s);t[n].sort((i,a)=>a.points-i.points)}),t}getGroupNumbers(){const t=this.getGroupedPlayers();return Object.keys(t).map(s=>parseInt(s)).sort((s,n)=>s-n)}hasGroupedPlayers(){const t=this.getGroupedPlayers();return Object.keys(t).length>0}isGroupsTournament(){return this.currentLeague?.typeOfLeague===p.Ck.Groups}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(w.x),e.rXU(d.N),e.rXU(M.tw))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-groups-table"]],decls:4,vars:2,consts:[[1,"sm:container","mx-auto","p-4"],["class","flex justify-center text-white",4,"ngIf"],["class","space-y-8",4,"ngIf"],[1,"flex","justify-center","text-white"],[1,"w-1/2","text-center","mt-10"],[1,"mb-4","text-4xl","font-extrabold","leading-none","tracking-tight","md:text-5xl","lg:text-6xl","text-white"],[1,"space-y-8"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["class","bg-black bg-opacity-50 backdrop-blur-sm rounded-lg border border-gray-700",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","border","border-gray-700"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","p-4","rounded-t-lg"],[1,"text-xl","font-bold","text-white","text-center"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-100"],[1,"text-xs","font-bold","text-gray-100","uppercase","bg-gray-800"],[1,"text-center"],["scope","col",1,"px-3","py-3"],["scope","col",1,"px-3","py-3","hidden","sm:table-cell"],["class","border-b text-center border-gray-700 hover:bg-gray-600 font-bold text-sm md:text-[16px] transition-colors",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600","font-bold","text-sm","md:text-[16px]","transition-colors",3,"ngClass"],["scope","row",1,"px-3","py-4","font-medium","text-white","whitespace-nowrap","relative"],[1,"px-3","py-4"],[1,"px-3","py-4","text-center","font-bold"],[1,"px-3","py-4","text-center","text-green-500","hidden","sm:table-cell"],[1,"px-3","py-4","text-center","text-yellow-400","hidden","sm:table-cell"],[1,"px-3","py-4","text-center","text-red-600","hidden","sm:table-cell"],[1,"px-3","py-4","text-center"],[1,"px-3","py-4","text-center",3,"ngClass"]],template:function(s,n){1&s&&(e.j41(0,"div",0),e.nrm(1,"app-tournament-info"),e.DNE(2,Qe,4,0,"div",1),e.DNE(3,Je,3,1,"div",2),e.k0s()),2&s&&(e.R7$(2),e.Y8G("ngIf",n.started),e.R7$(1),e.Y8G("ngIf",!n.started&&n.isGroupsTournament()&&n.hasGroupedPlayers()))},dependencies:[g.YU,g.Sq,g.bT,L,g.QX],styles:[".container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:12px 8px;text-align:center;border-bottom:1px solid #374151}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1f2937;color:#fff;font-weight:700;text-transform:uppercase;font-size:.75rem;letter-spacing:.05em}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .5s ease;position:relative}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#3b82f64d!important;box-shadow:0 2px 8px #3b82f666;border-left:3px solid #3b82f6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#111827}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1f2937}.rank-indicator[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;border-radius:50%;top:-4px;left:-4px}.rank-1[_ngcontent-%COMP%]{background-color:#fbbf24}.rank-2[_ngcontent-%COMP%]{background-color:#9ca3af}.rank-3[_ngcontent-%COMP%]{background-color:#ea580c}.group-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #374151;border-radius:8px;overflow:hidden;transition:all .6s ease}.group-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #3b82f64d;border-color:#3b82f680}.group-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);padding:16px;color:#fff;font-weight:700;text-align:center}.groups-summary[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:24px;margin-top:32px}.summary-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);border-radius:8px;padding:12px;text-align:center;transition:transform .2s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.info-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:24px;text-align:center;margin-bottom:32px}.text-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.text-green[_ngcontent-%COMP%]{color:#10b981}.text-red[_ngcontent-%COMP%]{color:#ef4444}.text-yellow[_ngcontent-%COMP%]{color:#f59e0b}.text-blue[_ngcontent-%COMP%]{color:#3b82f6}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:8px 4px;font-size:.875rem}.hidden[_ngcontent-%COMP%]{display:none}}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto;scrollbar-width:thin;scrollbar-color:#4b5563 #1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}.message-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:8px;padding:32px;text-align:center}.btn[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;transition:all .2s ease;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.spinner[_ngcontent-%COMP%]{border:4px solid #1f2937;border-top:4px solid #3b82f6;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n\n/*# sourceMappingURL=groups-table.component.css.map*/"]})}}return r})();function et(r,o){1&r&&(e.j41(0,"div",5)(1,"div",6)(2,"h1",7),e.EFF(3," The League Will Start Soon ! "),e.k0s()()())}function tt(r,o){1&r&&e.nrm(0,"app-groups-table")}function st(r,o){1&r&&e.nrm(0,"i",26)}function nt(r,o){if(1&r&&(e.j41(0,"tr",17)(1,"th",18),e.DNE(2,st,1,0,"i",19),e.EFF(3),e.k0s(),e.j41(4,"td",20),e.EFF(5),e.k0s(),e.j41(6,"td",21),e.EFF(7),e.k0s(),e.j41(8,"td",22),e.EFF(9),e.k0s(),e.j41(10,"td",23),e.EFF(11),e.k0s(),e.j41(12,"td",24),e.EFF(13),e.k0s(),e.j41(14,"td",21),e.EFF(15),e.k0s(),e.j41(16,"td",25),e.EFF(17),e.nI1(18,"number"),e.k0s()()),2&r){const t=o.$implicit;e.Y8G("ngClass",o.index%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(2),e.Y8G("ngIf",1==t.rank),e.R7$(1),e.SpI(" ",t.rank," "),e.R7$(2),e.SpI(" ",t.fullName," "),e.R7$(2),e.SpI(" ",t.points," "),e.R7$(2),e.SpI(" ",t.wins," "),e.R7$(2),e.SpI(" ",t.draws," "),e.R7$(2),e.SpI(" ",t.losses," "),e.R7$(2),e.SpI(" ",t.matchesPlayed," "),e.R7$(1),e.Y8G("ngClass",t.winRate>50?"text-green-500":"text-red-600"),e.R7$(1),e.SpI(" ",e.i5U(18,11,t.winRate,"1.2-2")," % ")}}function rt(r,o){if(1&r&&(e.j41(0,"div",9)(1,"div",10)(2,"table",11)(3,"thead",12)(4,"tr",13)(5,"th",14),e.EFF(6,"Rank"),e.k0s(),e.j41(7,"th",14),e.EFF(8,"Name"),e.k0s(),e.j41(9,"th",14),e.EFF(10,"points"),e.k0s(),e.j41(11,"th",15),e.EFF(12,"Win"),e.k0s(),e.j41(13,"th",15),e.EFF(14,"Draw"),e.k0s(),e.j41(15,"th",15),e.EFF(16,"Loss"),e.k0s(),e.j41(17,"th",14),e.EFF(18,"Games"),e.k0s(),e.j41(19,"th",14),e.EFF(20,"win Rate"),e.k0s()()(),e.j41(21,"tbody"),e.DNE(22,nt,19,14,"tr",16),e.k0s()()()()),2&r){const t=e.XpG(3);e.R7$(22),e.Y8G("ngForOf",t.players)}}function it(r,o){if(1&r&&(e.j41(0,"div",9),e.DNE(1,rt,23,1,"div",8),e.k0s()),2&r){const t=e.XpG(2);e.R7$(1),e.Y8G("ngIf",!t.currentLeague||(null==t.currentLeague?null:t.currentLeague.typeOfLeague)!==t.LeagueType.Groups)}}function at(r,o){if(1&r&&(e.j41(0,"div"),e.DNE(1,tt,1,0,"app-groups-table",3),e.DNE(2,it,2,1,"div",8),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngIf",(null==t.currentLeague?null:t.currentLeague.typeOfLeague)===t.LeagueType.Groups),e.R7$(1),e.Y8G("ngIf",!t.currentLeague||(null==t.currentLeague?null:t.currentLeague.typeOfLeague)!==t.LeagueType.Groups)}}function ot(r,o){if(1&r&&(e.j41(0,"div",27),e.nrm(1,"app-bracket-tree",28),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("leagueId",null==t.currentLeague?null:t.currentLeague.id)}}let lt=(()=>{class r{constructor(t,s,n){this.playerService=t,this.leagueService=s,this.toastr=n,this.players=[],this.started=!0,this.last=0,this.currentLeague=null,this.LeagueType=p.Ck}ngOnInit(){this.loadCurrentLeague(),this.loadPlayers()}loadCurrentLeague(){this.leagueService.GetCurrentLeague().subscribe({next:t=>{this.currentLeague=t.league},error:t=>{console.error("Error loading current league:",t),this.currentLeague=null}})}loadPlayers(){this.playerService.getrank().subscribe({next:t=>{this.players=t,this.last=t.length-1,this.started=this.players.every(s=>0===s.matchesPlayed)},error:t=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0627 \u0627\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0644\u0627\u0639\u0628\u064a\u0646"),console.error(t)}})}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(w.x),e.rXU(d.N),e.rXU(M.tw))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-ranking"]],decls:6,vars:3,consts:[[1,"md:container","mx-auto","p-4"],[1,"text-3xl","text-white","text-center","mb-6","font-bold"],["class","flex justify-center text-white",4,"ngIf"],[4,"ngIf"],["class","w-full",4,"ngIf"],[1,"flex","justify-center","text-white"],[1,"w-1/2","text-center","mt-10"],[1,"mb-4","text-4xl","font-extrabold","leading-none","tracking-tight","md:text-5xl","lg:text-6xl","text-white"],["class","overflow-x-auto",4,"ngIf"],[1,"overflow-x-auto"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-100"],[1,"text-xs","font-bold","text-gray-100","uppercase","bg-black"],[1,"text-center"],["scope","col",1,"px-2","py-3"],["scope","col",1,"px-2","py-3","hidden","sm:table-cell"],["class","border-b text-center border-gray-700 hover:bg-gray-600 font-bold text-sm md:text-[16px]",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600","font-bold","text-sm","md:text-[16px]",3,"ngClass"],["scope","row",1,"px-2","py-4","font-medium","text-white","whitespace-nowrap","relative"],["class","fa-solid fa-crown absolute top-[50%] left-[10px] md:left-10 translate-y-[-50%]","style","color: #ffd43b",4,"ngIf"],[1,"px-2","py-4"],[1,"px-2","py-4","text-center"],[1,"px-2","py-4","text-center","text-green-500","hidden","sm:table-cell"],[1,"px-2","py-4","text-center","text-yellow-400","hidden","sm:table-cell"],[1,"px-2","py-4","text-center","text-red-600","hidden","sm:table-cell"],[1,"px-2","py-4","text-center",3,"ngClass"],[1,"fa-solid","fa-crown","absolute","top-[50%]","left-[10px]","md:left-10","translate-y-[-50%]",2,"color","#ffd43b"],[1,"w-full"],[3,"leagueId"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"Rank Table"),e.k0s(),e.DNE(3,et,4,0,"div",2),e.DNE(4,at,3,2,"div",3),e.DNE(5,ot,2,1,"div",4),e.k0s()),2&s&&(e.R7$(3),e.Y8G("ngIf",n.started),e.R7$(1),e.Y8G("ngIf",!n.started),e.R7$(1),e.Y8G("ngIf",(null==n.currentLeague?null:n.currentLeague.typeOfLeague)===n.LeagueType.Groups))},dependencies:[g.YU,g.Sq,g.bT,Y,se,g.QX]})}}return r})();var k=u(4205),D=u(3617),G=u(9452),ne=u(2645),re=u(3942),ie=u(1365),ct=u(8830),T=u(1530),ut=u(8067);const gt=["addListener","removeListener"],dt=["addEventListener","removeEventListener"],ht=["on","off"];function X(r,o,t,s){if((0,T.T)(t)&&(s=t,t=void 0),s)return X(r,o,t).pipe((0,ut.I)(s));const[n,i]=function mt(r){return(0,T.T)(r.addEventListener)&&(0,T.T)(r.removeEventListener)}(r)?dt.map(a=>l=>r[a](o,l,t)):function pt(r){return(0,T.T)(r.addListener)&&(0,T.T)(r.removeListener)}(r)?gt.map(ae(r,o)):function ft(r){return(0,T.T)(r.on)&&(0,T.T)(r.off)}(r)?ht.map(ae(r,o)):[];if(!n&&(0,ct.X)(r))return(0,ie.Z)(a=>X(a,o,t))((0,ne.Tg)(r));if(!n)throw new TypeError("Invalid event target");return new re.c(a=>{const l=(...c)=>a.next(1<c.length?c:c[0]);return n(l),()=>i(l)})}function ae(r,o){return t=>s=>r[t](o,s)}var _t=u(4600),v=u(8764),I=u(1567),$=u(6647),z=u(2435),j=u(4334);function oe(r){return(0,I.p)((o,t)=>r<=t)}var H=u(271),vt=u(5392),V=u(819);const xt=(r,o)=>(r.push(o),r);var Ct=u(7092);class kt extends Ct.yU{constructor(o,t){super()}schedule(o,t=0){return this}}const N={setInterval(r,o,...t){const{delegate:s}=N;return s?.setInterval?s.setInterval(r,o,...t):setInterval(r,o,...t)},clearInterval(r){const{delegate:o}=N;return(o?.clearInterval||clearInterval)(r)},delegate:void 0};var Mt=u(967),St=u(5152);class R{constructor(o,t=R.now){this.schedulerActionCtor=o,this.now=t}schedule(o,t=0,s){return new this.schedulerActionCtor(this,o).schedule(s,t)}}R.now=St.U.now;const le=new class Dt extends R{constructor(o,t=R.now){super(o,t),this.actions=[],this._active=!1}flush(o){const{actions:t}=this;if(this._active)return void t.push(o);let s;this._active=!0;do{if(s=o.execute(o.state,o.delay))break}while(o=t.shift());if(this._active=!1,s){for(;o=t.shift();)o.unsubscribe();throw s}}}(class wt extends kt{constructor(o,t){super(o,t),this.scheduler=o,this.work=t,this.pending=!1}schedule(o,t=0){var s;if(this.closed)return this;this.state=o;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(i,this.id,t),this}requestAsyncId(o,t,s=0){return N.setInterval(o.flush.bind(o,this),s)}recycleAsyncId(o,t,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return t;null!=t&&N.clearInterval(t)}execute(o,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(o,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,t){let n,s=!1;try{this.work(o)}catch(i){s=!0,n=i||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:o,scheduler:t}=this,{actions:s}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Mt.o)(s,this),null!=o&&(this.id=this.recycleAsyncId(t,o,null)),this.delay=null,super.unsubscribe()}}}),Ot=le;var Ft=u(3513),Pt=u(1687),Tt=u(4318),It=u(7378);function ce(r,o){return o?t=>(0,Ft.x)(o.pipe((0,j.s)(1),function Et(){return(0,V.N)((r,o)=>{r.subscribe((0,Pt._)(o,Tt.l))})}()),t.pipe(ce(r))):(0,ie.Z)((t,s)=>(0,ne.Tg)(r(t,s)).pipe((0,j.s)(1),(0,It.u)(t)))}var $t=u(9397);var O=u(7172);function jt(r,o){}const Nt=function(r,o){return{$implicit:r,index:o}};function At(r,o){if(1&r&&e.DNE(0,jt,0,0,"ng-template",4),2&r){const t=e.XpG(),s=t.$implicit,n=t.index,i=e.XpG();e.Y8G("ngTemplateOutlet",s.tplRef)("ngTemplateOutletContext",e.l_i(2,Nt,i.preparePublicSlide(s),n))}}const Ut=function(r,o,t,s){return{width:r,"margin-left":o,"margin-right":t,left:s}};function Bt(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",2),e.bIt("animationend",function(){const i=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.clear(i.id))}),e.DNE(2,At,1,5,null,3),e.k0s(),e.bVm()}if(2&r){const t=o.$implicit;e.R7$(1),e.Y8G("ngClass",t.classes)("ngStyle",e.ziG(4,Ut,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),e.R7$(1),e.Y8G("ngIf",t.load)}}const Yt=function(r,o,t,s,n){return{width:r,transform:o,transition:t,"padding-left":s,"padding-right":n}},Xt=function(r,o){return{isMouseDragable:r,isTouchDragable:o}};function zt(r,o){if(1&r&&(e.j41(0,"div",4),e.nrm(1,"owl-stage",5),e.k0s()),2&r){const t=e.XpG();e.R7$(1),e.Y8G("owlDraggable",e.l_i(3,Xt,null==t.owlDOMData?null:t.owlDOMData.isMouseDragable,null==t.owlDOMData?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}const Ht=function(r,o){return{active:r,"owl-dot-text":o}};function Vt(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.moveByDot(i.id))}),e.nrm(1,"span",12),e.k0s()}if(2&r){const t=o.$implicit;e.Y8G("ngClass",e.l_i(2,Ht,t.active,t.showInnerContent)),e.R7$(1),e.Y8G("innerHTML",t.innerContent,e.npT)}}const A=function(r){return{disabled:r}};function Kt(r,o){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",6)(2,"div",7),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.prev())}),e.k0s(),e.j41(3,"div",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.next())}),e.k0s()(),e.j41(4,"div",9),e.DNE(5,Vt,2,5,"div",10),e.k0s(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(1),e.Y8G("ngClass",e.eq3(7,A,null==t.navData?null:t.navData.disabled)),e.R7$(1),e.Y8G("ngClass",e.eq3(9,A,null==t.navData||null==t.navData.prev?null:t.navData.prev.disabled))("innerHTML",null==t.navData||null==t.navData.prev?null:t.navData.prev.htmlText,e.npT),e.R7$(1),e.Y8G("ngClass",e.eq3(11,A,null==t.navData||null==t.navData.next?null:t.navData.next.disabled))("innerHTML",null==t.navData||null==t.navData.next?null:t.navData.next.htmlText,e.npT),e.R7$(1),e.Y8G("ngClass",e.eq3(13,A,null==t.dotsData?null:t.dotsData.disabled)),e.R7$(1),e.Y8G("ngForOf",null==t.dotsData?null:t.dotsData.dots)}}const Wt=function(r,o,t,s,n){return{"owl-rtl":r,"owl-loaded":o,"owl-responsive":t,"owl-drag":s,"owl-grab":n}};class Qt{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}}class qt{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}}let K=(()=>{class r{errorHandler;constructor(t){this.errorHandler=t}log(t,...s){(0,e.naY)()&&console.log(t,...s)}error(t){this.errorHandler.handleError(t)}warn(t,...s){console.warn(t,...s)}static \u0275fac=function(s){return new(s||r)(e.KVO(e.zcH))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();var ue=function(r){return r.Event="event",r.State="state",r}(ue||{}),U=function(r){return r.Default="default",r.Inner="inner",r.Outer="outer",r}(U||{});let F=(()=>{class r{logger;_viewSettingsShipper$=new k.B;_initializedCarousel$=new k.B;_changeSettingsCarousel$=new k.B;_changedSettingsCarousel$=new k.B;_translateCarousel$=new k.B;_translatedCarousel$=new k.B;_resizeCarousel$=new k.B;_resizedCarousel$=new k.B;_refreshCarousel$=new k.B;_refreshedCarousel$=new k.B;_dragCarousel$=new k.B;_draggedCarousel$=new k.B;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:t=>{t.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:t=>{const s=this.settings.margin||"",i=this.settings.rtl,a={"margin-left":i?s:"","margin-right":i?"":s};!this.settings.autoWidth||this.slidesData.forEach(l=>{l.marginL=a["margin-left"],l.marginR=a["margin-right"]}),t.css=a}},{filter:["width","items","settings"],run:t=>{const s=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,n=!this.settings.autoWidth,i=[];let a=null,l=this._items.length;for(t.items={merge:!1,width:s};l-- >0;)a=this._mergers[l],a=this.settings.mergeFit&&Math.min(a,this.settings.items)||a,t.items.merge=a>1||t.items.merge,i[l]=n?s*a:this._items[l].width?this._items[l].width:s;this._widths=i,this.slidesData.forEach((c,h)=>{c.width=this._widths[h],c.marginR=t.css["margin-right"],c.marginL=t.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const t=[],s=this._items,n=this.settings,i=Math.max(2*n.items,4),a=2*Math.ceil(s.length/2);let l=[],c=[],h=n.loop&&s.length?n.rewind?i:Math.max(i,a):0;for(h/=2;h-- >0;)t.push(this.normalize(t.length/2,!0)),l.push({...this.slidesData[t[t.length-1]]}),t.push(this.normalize(s.length-1-(t.length-1)/2,!0)),c.unshift({...this.slidesData[t[t.length-1]]});this._clones=t,l=l.map(f=>(f.id=`${this.clonedIdPrefix}${f.id}`,f.isActive=!1,f.isCloned=!0,f)),c=c.map(f=>(f.id=`${this.clonedIdPrefix}${f.id}`,f.isActive=!1,f.isCloned=!0,f)),this.slidesData=c.concat(this.slidesData).concat(l)}},{filter:["width","items","settings"],run:()=>{const t=this.settings.rtl?1:-1,s=this._clones.length+this._items.length,n=[];let i=-1,a=0,l=0;for(;++i<s;)a=n[i-1]||0,l=this._widths[this.relative(i)]+this.settings.margin,n.push(a+l*t);this._coordinates=n}},{filter:["width","items","settings"],run:()=>{const t=this.settings.stagePadding,s=this._coordinates,n={width:Math.ceil(Math.abs(s[s.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.stageData.width=n.width,this.stageData.paddingL=n["padding-left"],this.stageData.paddingR=n["padding-right"]}},{filter:["width","items","settings"],run:t=>{let s=t.current?this.slidesData.findIndex(n=>n.id===t.current):0;s=Math.max(this.minimum(),Math.min(this.maximum(),s)),this.reset(s)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const t=this.settings.rtl?1:-1,s=2*this.settings.stagePadding,n=[];let i,a,l,c,h,f;if(i=this.coordinates(this.current()),"number"==typeof i?i+=s:i=0,a=i+this.width()*t,-1===t&&this.settings.center){const b=this._coordinates.filter(B=>this.settings.items%2==1?B>=i:B>i);i=b.length?b[b.length-1]:i}for(h=0,f=this._coordinates.length;h<f;h++)l=Math.ceil(this._coordinates[h-1]||0),c=Math.ceil(Math.abs(this._coordinates[h])+s*t),(this._op(l,"<=",i)&&this._op(l,">",a)||this._op(c,"<",i)&&this._op(c,">",a))&&n.push(h);this.slidesData.forEach(b=>(b.isActive=!1,b)),n.forEach(b=>{this.slidesData[b].isActive=!0}),this.settings.center&&(this.slidesData.forEach(b=>(b.isCentered=!1,b)),this.slidesData[this.current()].isCentered=!0)}}];constructor(t){this.logger=t}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){const s=new Qt,n=this._validateOptions(t,s);this._options={...s,...n}}_validateOptions(t,s){const n={...t},i=new qt,a=(l,c)=>(this.logger.log(`options.${c} must be type of ${l}; ${c}=${t[c]} skipped to defaults: ${c}=${s[c]}`),s[c]);for(const l in n)if(n.hasOwnProperty(l))if("number"===i[l])this._isNumeric(n[l])?(n[l]=+n[l],n[l]="items"===l?this._validateItems(n[l],n.skip_validateItems):n[l]):n[l]=a(i[l],l);else if("boolean"===i[l]&&"boolean"!=typeof n[l])n[l]=a(i[l],l);else if("number|boolean"!==i[l]||this._isNumberOrBoolean(n[l]))if("number|string"!==i[l]||this._isNumberOrString(n[l]))if("string|boolean"!==i[l]||this._isStringOrBoolean(n[l])){if("string[]"===i[l])if(Array.isArray(n[l])){let c=!1;n[l].forEach(h=>{c="string"==typeof h}),c||(n[l]=a(i[l],l))}else n[l]=a(i[l],l)}else n[l]=a(i[l],l);else n[l]=a(i[l],l);else n[l]=a(i[l],l);return n}_validateItems(t,s){let n=t;return t>this._items.length?s?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(n=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),n}setCarouselWidth(t){this._width=t}setup(t,s,n){this.setCarouselWidth(t),this.setItems(s),this._defineSlidesData(),this.setOptions(n),this.settings={...this._options},this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const t=this._width,s=this._options.responsive;let n=-1;if(!Object.keys(s).length)return;if(!t)return void(this.settings.items=1);for(const a in s)s.hasOwnProperty(a)&&+a<=t&&+a>n&&(n=Number(a));this.settings={...this._options,...s[n],items:s[n]&&s[n].items?this._validateItems(s[n].items,this._options.skip_validateItems):this._options.items},delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const i=[];this._items.forEach(a=>{i.push(this.settings.merge?a.dataMerge:1)}),this._mergers=i,this._breakpoint=n,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(s=>{this._mergers.push(this.settings.merge?s.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0;const s=this._pipe.length,n=a=>this._invalidated[a],i={};for(;t<s;){const a=this._pipe[t].filter.filter(n);(this._invalidated.all||a.length>0)&&this._pipe[t].run(i),t++}this.slidesData.forEach(a=>a.classes=this.setCurSlideClasses(a)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||U.Default){case U.Inner:case U.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let n,s=null;return n=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),s={x:+n[0],y:+n[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===t.type&&(this.owlDOMData.isGrab=!0),this.speed(0),s}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,s){let n=null,i=null,a=null;const l=this.difference(s.pointer,this.pointer(t)),c=this.difference(s.stage.start,l);return!!this.is("dragging")&&(this.settings.loop?(n=this.coordinates(this.minimum()),i=+this.coordinates(this.maximum()+1)-n,c.x=((c.x-n)%i+i)%i+n):(n=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),i=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),a=this.settings.pullDrag?-1*l.x/5:0,c.x=Math.max(Math.min(c.x,n+a),i+a)),c)}finishDragging(t,s,n){const a=this.difference(s.pointer,this.pointer(t)),l=s.stage.current,c=["right","left"][+(this.settings.rtl?a.x<+this.settings.rtl:a.x>+this.settings.rtl)];let h,f,b;(0!==a.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),h=this.closest(l.x,0!==a.x?c:s.direction),f=this.current(),b=this.current(-1===h?void 0:h),f!==b&&(this.invalidate("position"),this.update()),s.direction=c,(Math.abs(a.x)>3||(new Date).getTime()-s.time>300)&&n()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,s){const i=this.width();let a=this.coordinates(),l=-1;this.settings.center&&(a=a.map(c=>(0===c&&(c+=1e-6),c)));for(let c=0;c<a.length&&("left"===s&&t>a[c]-30&&t<a[c]+30?l=c:"right"===s&&t>a[c]-i-30&&t<a[c]-i+30?l=c+1:this._op(t,"<",a[c])&&this._op(t,">",a[c+1]||a[c]-i)?l="left"===s?c+1:c:null===s&&t>a[c]-30&&t<a[c]+30&&(l=c),-1===l);c++);return this.settings.loop||(this._op(t,">",a[this.minimum()])?l=t=this.minimum():this._op(t,"<",a[this.maximum()])&&(l=t=this.maximum())),l}animate(t){const s=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),s&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){return void 0===t?this._current:0!==this._items.length?(t=this.normalize(t),this._current!==t&&(this._trigger("change",{property:{name:"position",value:t}}),this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(t){return"string"==typeof t&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,s){const n=this._items.length,i=s?0:this._clones.length;return!this._isNumeric(t)||n<1?t=void 0:(t<0||t>=n+i)&&(t=((t-i/2)%n+n)%n+i/2),t}relative(t){return this.normalize(t-=this._clones.length/2,!0)}maximum(t=!1){const s=this.settings;let i,a,l,n=this._coordinates.length;if(s.loop)n=this._clones.length/2+this._items.length-1;else if(s.autoWidth||s.merge){for(i=this._items.length,a=this.slidesData[--i].width,l=this._width;i-- >0&&(a+=+this.slidesData[i].width+this.settings.margin,!(a>l)););n=i+1}else n=s.center?this._items.length-1:this._items.length-s.items;return t&&(n-=this._clones.length/2),Math.max(n,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){const s=this._clones.length/2,n=s+this._items.length,i=a=>a%2==0?n+a/2:s-(a+1)/2;return void 0===t?this._clones.map((a,l)=>i(l)):this._clones.map((a,l)=>a===t?i(l):null).filter(a=>a)}speed(t){return void 0!==t&&(this._speed=t),this._speed}coordinates(t){let i,a,s=1,n=t-1;return void 0===t?(a=this._coordinates.map((l,c)=>this.coordinates(c)),a):(this.settings.center?(this.settings.rtl&&(s=-1,n=t+1),i=this._coordinates[t],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i),i)}_duration(t,s,n){return 0===n?0:Math.min(Math.max(Math.abs(s-t),1),6)*Math.abs(+n||this.settings.smartSpeed)}to(t,s){let n=this.current(),i=null,a=t-this.relative(n),l=this.maximum(),c=0;const h=+(a>0)-+(a<0),f=this._items.length,b=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(a)>f/2&&(a+=-1*h*f),i=(((t=n+a)-b)%f+f)%f+b,i!==t&&i-a<=l&&i-a>0&&(n=i-a,t=i,c=30,this.reset(n),this.sendChanges())):this.settings.rewind?(l+=1,t=(t%l+l)%l):t=Math.max(b,Math.min(l,t)),setTimeout(()=>{this.speed(this._duration(n,t,s)),this.current(t),this.update()},c)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(void 0!==t)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(s=>{s.load&&t.set(s.id,s.load)})),this.slidesData=this._items.map(s=>({id:`${s.id}`,isActive:!1,tplRef:s.tplRef,dataMerge:s.dataMerge,width:0,isCloned:!1,load:!!t&&t.get(s.id),hashFragment:s.dataHash}))}setCurSlideClasses(t){const s={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(s[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(s[this.settings.animateOut]=t.isCustomAnimatedOut),s}_op(t,s,n){const i=this.settings.rtl;switch(s){case"<":return i?t>n:t<n;case">":return i?t<n:t>n;case">=":return i?t<=n:t>=n;case"<=":return i?t>=n:t<=n}}_trigger(t,s,n,i,a){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(s);break;case"changed":this._changedSettingsCarousel$.next(s);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t)}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(s=>{void 0===this._states.current[s]&&(this._states.current[s]=0),this._states.current[s]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(s=>{(0===this._states.current[s]||this._states.current[s])&&this._states.current[s]--})}register(t){t.type===ue.State&&(this._states.tags[t.name]=this._states.tags[t.name]?this._states.tags[t.name].concat(t.tags):t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((s,n)=>this._states.tags[t.name].indexOf(s)===n))}_suppress(t){t.forEach(s=>{this._supress[s]=!0})}_release(t){t.forEach(s=>{delete this._supress[s]})}pointer(t){const s={x:null,y:null};return(t=(t=t.originalEvent||t||window.event).touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(s.x=t.pageX,s.y=t.pageY):(s.x=t.clientX,s.y=t.clientY),s}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||"boolean"==typeof t}_isNumberOrString(t){return this._isNumeric(t)||"string"==typeof t}_isStringOrBoolean(t){return"string"==typeof t||"boolean"==typeof t}difference(t,s){return null===t||null===s?{x:0,y:0}:{x:t.x-s.x,y:t.y-s.y}}static \u0275fac=function(s){return new(s||r)(e.KVO(K))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),ge=(()=>{class r{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,v.M)(a=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),s=this.carouselService.getChangedState().pipe((0,I.p)(a=>"position"===a.property.name),(0,v.M)(a=>{this.update()})),n=this.carouselService.getRefreshedState().pipe((0,v.M)(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),i=(0,D.h)(t,s,n);this.navSubscription=i.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,s,n;const i=this.carouselService.clones().length/2,a=i+this.carouselService.items().length,l=this.carouselService.maximum(!0),c=[],h=this.carouselService.settings;let f=h.center||h.autoWidth||h.dotsData?1:Math.floor(Number(h.dotsEach))||Math.floor(h.items);if(f=+f,"page"!==h.slideBy&&(h.slideBy=Math.min(+h.slideBy,h.items)),h.dots||"page"===h.slideBy)for(t=i,s=0,n=0;t<a;t++){if(s>=f||0===s){if(c.push({start:Math.min(l,t-i),end:t-i+f-1}),Math.min(l,t-i)===l)break;s=0,++n}s+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=c}draw(){let t;const s=this.carouselService.settings,n=this.carouselService.items(),i=n.length<=s.items;if(this._navData.disabled=!s.nav||i,this._dotsData.disabled=!s.dots||i,s.dots)if(t=this._pages.length-this._dotsData.dots.length,s.dotsData&&0!==t)this._dotsData.dots=[],n.forEach(a=>{this._dotsData.dots.push({active:!1,id:`dot-${a.id}`,innerContent:a.dotContent,showInnerContent:!0})});else if(t>0){const a=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let l=0;l<t;l++)this._dotsData.dots.push({active:!1,id:`dot-${l+a}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const t=this.carouselService.settings,s=t.loop||t.rewind,n=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!s&&n<=this.carouselService.minimum(!0),this._navData.next.disabled=!s&&n>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(s=>{!0===s.active&&(s.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const t=this.carouselService.relative(this.carouselService.current());let s;const n=this._pages.filter((i,a)=>i.start<=t&&i.end>=t).pop();return s=this._pages.findIndex(i=>i.start===n.start&&i.end===n.end),s}_getPosition(t){let s,n;const i=this.carouselService.settings;return"page"===i.slideBy?(s=this._current(),n=this._pages.length,t?++s:--s,s=this._pages[(s%n+n)%n].start):(s=this.carouselService.relative(this.carouselService.current()),n=this.carouselService.items().length,t?s+=+i.slideBy:s-=+i.slideBy),s}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,s,n){let i;!n&&this._pages.length?(i=this._pages.length,this.carouselService.to(this._pages[(t%i+i)%i].start,s)):this.carouselService.to(t,s)}moveByDot(t){const s=this._dotsData.dots.findIndex(n=>t===n.id);this.to(s,this.carouselService.settings.dotsSpeed)}toSlideById(t){const s=this.carouselService.slidesData.findIndex(n=>n.id===t&&!1===n.isCloned);-1===s||s===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(s),!1)}static \u0275fac=function(s){return new(s||r)(e.KVO(F))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})();const W=new e.nKC("WindowToken");class Q{get nativeWindow(){throw new Error("Not implemented.")}}const ss=[{provide:Q,useClass:(()=>{class r extends Q{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(s){return new(s||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})()},{provide:W,useFactory:function Jt(r,o){return(0,g.UE)(o)?r.nativeWindow:{setTimeout:(s,n)=>{},clearTimeout:s=>{}}},deps:[Q,e.Agw]}],q=new e.nKC("DocumentToken");class Z{get nativeDocument(){throw new Error("Not implemented.")}}const os=[{provide:Z,useClass:(()=>{class r extends Z{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(s){return new(s||r)};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})()},{provide:q,useFactory:function rs(r,o){return(0,g.UE)(o)?r.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[Z,e.Agw]}];let de=(()=>{class r{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(t){this._isAutoplayStopped=t}winRef;docRef;constructor(t,s,n,i){this.carouselService=t,this.ngZone=i,this.winRef=s,this.docRef=n,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,v.M)(()=>{this.carouselService.settings.autoplay&&this.play()})),s=this.carouselService.getChangedState().pipe((0,v.M)(a=>{this._handleChangeObservable(a)})),n=this.carouselService.getResizedState().pipe((0,v.M)(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),i=(0,D.h)(t,s,n);this.autoplaySubscription=i.subscribe(()=>{})}play(t,s){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,s){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(s||this.carouselService.settings.autoplaySpeed)})},t||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(t){"settings"===t.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===t.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){(0,G.of)("translated").pipe((0,$.n)(t=>this.carouselService.getTranslatedState()),(0,z.$)(),(0,I.p)(()=>this._isArtificialAutoplayTimeout),(0,v.M)(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(s){return new(s||r)(e.KVO(F),e.KVO(W),e.KVO(q),e.KVO(e.SKi))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),he=(()=>{class r{carouselService;lazyLoadSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,v.M)(()=>{const a=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(l=>l.load=!!a)})),s=this.carouselService.getChangeState(),n=this.carouselService.getResizedState(),i=(0,D.h)(t,s,n).pipe((0,v.M)(a=>this._defineLazyLoadSlides(a)));this.lazyLoadSubscription=i.subscribe(()=>{})}_defineLazyLoadSlides(t){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(t.property&&"position"===t.property.name||"initialized"===t||"resized"===t)){const s=this.carouselService.settings,n=this.carouselService.clones().length;let i=s.center&&Math.ceil(s.items/2)||s.items,a=s.center&&-1*i||0,l=(t.property&&void 0!==t.property.value?t.property.value:this.carouselService.current())+a;for(s.lazyLoadEager>0&&(i+=s.lazyLoadEager,s.loop&&(l-=s.lazyLoadEager,i++));a++<i;)this._load(n/2+this.carouselService.relative(l)),n&&this.carouselService.clones(this.carouselService.relative(l)).forEach(c=>this._load(c)),l++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}static \u0275fac=function(s){return new(s||r)(e.KVO(F))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),J=(()=>{class r{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getChangeState().pipe((0,v.M)(h=>{"position"===h.property.name&&(this.previous=this.carouselService.current(),this.next=h.property.value)})),s=this.carouselService.getDragState(),n=this.carouselService.getDraggedState(),i=this.carouselService.getTranslatedState(),a=(0,D.h)(s,n,i).pipe((0,v.M)(h=>this.swapping="translated"===h)),l=this.carouselService.getTranslateState().pipe((0,v.M)(h=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),c=(0,D.h)(t,l,a).pipe();this.animateSubscription=c.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let t;this.carouselService.speed(0);const s=this.carouselService.slidesData[this.previous],n=this.carouselService.slidesData[this.next],i=this.carouselService.settings.animateIn,a=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(a&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(l=>{l.id===s.id&&(l.left=`${t}px`,l.isAnimated=!0,l.isDefAnimatedOut=!0,l.isCustomAnimatedOut=!0)})),i&&this.carouselService.slidesData.forEach(l=>{l.id===n.id&&(l.isAnimated=!0,l.isDefAnimatedIn=!0,l.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(s=>{s.id===t&&(s.left="",s.isAnimated=!1,s.isDefAnimatedOut=!1,s.isCustomAnimatedOut=!1,s.isDefAnimatedIn=!1,s.isCustomAnimatedIn=!1,s.classes=this.carouselService.setCurSlideClasses(s))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(s){return new(s||r)(e.KVO(F))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),pe=(()=>{class r{carouselService;autoHeightSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,v.M)(a=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(l=>l.heightState="full")})),s=this.carouselService.getChangedState().pipe((0,v.M)(a=>{this.carouselService.settings.autoHeight&&"position"===a.property.name&&this.update()})),n=this.carouselService.getRefreshedState().pipe((0,v.M)(a=>{this.carouselService.settings.autoHeight&&this.update()})),i=(0,D.h)(t,s,n);this.autoHeightSubscription=i.subscribe(()=>{})}update(){const t=this.carouselService.settings.items;let s=this.carouselService.current(),n=s+t;this.carouselService.settings.center&&(s=t%2==1?s-(t-1)/2:s-t/2,n=t%2==1?s+t:s+t+1),this.carouselService.slidesData.forEach((i,a)=>{i.heightState=a>=s&&a<n?"full":"nulled"})}static \u0275fac=function(s){return new(s||r)(e.KVO(F))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),fe=(()=>{class r{carouselService;route;router;hashSubscription;currentHashFragment;constructor(t,s,n){this.carouselService=t,this.route=s,this.router=n,this.spyDataStreams(),this.route||(this.route={fragment:(0,G.of)("no route").pipe((0,j.s)(1))}),this.router||(this.router={navigate:(i,a)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const t=this.carouselService.getInitializedState().pipe((0,v.M)(()=>this.listenToRoute())),s=this.carouselService.getChangedState().pipe((0,v.M)(i=>{if(this.carouselService.settings.URLhashListener&&"position"===i.property.name){const a=this.carouselService.current(),l=this.carouselService.slidesData[a].hashFragment;if(!l||l===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:l,relativeTo:this.route})}})),n=(0,D.h)(t,s);this.hashSubscription=n.subscribe(()=>{})}rewind(t){const s=this.carouselService.slidesData.findIndex(n=>n.hashFragment===t&&!1===n.isCloned);-1===s||s===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(s),!1)}listenToRoute(){this.route.fragment.pipe(oe("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(s=>{this.currentHashFragment=s,this.rewind(s)})}static \u0275fac=function(s){return new(s||r)(e.KVO(F),e.KVO(m.nX,8),e.KVO(m.Ix,8))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),ls=0,ee=(()=>{class r{tplRef;id="owl-slide-"+ls++;_dataMerge=1;set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(t){this.tplRef=t}isNumeric(t){return!isNaN(parseFloat(t))}static \u0275fac=function(s){return new(s||r)(e.rXU(e.C4Q))};static \u0275dir=e.FsC({type:r,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}})}return r})(),me=(()=>{class r{resizeObservable$;get onResize$(){return this.resizeObservable$}constructor(t,s){this.resizeObservable$=(0,g.UE)(s)?X(t,"resize"):(new k.B).asObservable()}static \u0275fac=function(s){return new(s||r)(e.KVO(W),e.KVO(e.Agw))};static \u0275prov=e.jDH({token:r,factory:r.\u0275fac})}return r})(),cs=(()=>{class r{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new k.B;_oneMoveSubsription;preparePublicSlide=t=>{const s={...t};return delete s.tplRef,s};constructor(t,s,n,i,a){this.zone=t,this.el=s,this.renderer=n,this.carouselService=i,this.animateService=a}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){if(t.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe((0,z.$)()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=t=>{this._oneMouseTouchMove(t)};bindOnDragMove=t=>{this._onDragMove(t)};bindOnDragEnd=t=>{this._onDragEnd(t)};_onDragStart(t){let s=null;3!==t.which&&(s=this._prepareDragging(t),this._drag.time=(new Date).getTime(),this._drag.target=t.target,this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){const s=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),!(Math.abs(s.x)<3&&Math.abs(s.y)<3&&this._is("valid"))&&(Math.abs(s.x)<3&&Math.abs(s.x)<Math.abs(s.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t)))}blockClickAnchorInDragging(t){let s=t.target;for(;s&&!(s instanceof HTMLAnchorElement);)s=s.parentElement;s instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(s,"click",()=>!1))}_onDragMove(t){let s;const n=this.carouselService.defineNewCoordsDrag(t,this._drag);!1!==n&&(s=n,t.preventDefault(),this._drag.stage.current=s,this._animate(s.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,s){return this.carouselService.difference(t,s)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}static \u0275fac=function(s){return new(s||r)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(e.sFG),e.rXU(F),e.rXU(J))};static \u0275cmp=e.VBU({type:r,selectors:[["owl-stage"]],hostBindings:function(s,n){1&s&&e.bIt("mousedown",function(a){return n.onMouseDown(a)})("touchstart",function(a){return n.onTouchStart(a)})("touchcancel",function(a){return n.onTouchCancel(a)})("dragstart",function(){return n.onDragStart()})("selectstart",function(){return n.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(s,n){1&s&&(e.j41(0,"div")(1,"div",0),e.bIt("transitionend",function(){return n.onTransitionEnd()}),e.DNE(2,Bt,3,9,"ng-container",1),e.k0s()()),2&s&&(e.R7$(1),e.Y8G("ngStyle",e.s1E(2,Yt,n.stageData.width+"px",n.stageData.transform,n.stageData.transition,n.stageData.paddingL?n.stageData.paddingL+"px":"",n.stageData.paddingR?n.stageData.paddingR+"px":"")),e.R7$(1),e.Y8G("ngForOf",n.slidesData))},dependencies:[g.YU,g.Sq,g.bT,g.T3,g.B3],encapsulation:2,data:{animation:[(0,O.hZ)("autoHeight",[(0,O.wk)("nulled",(0,O.iF)({height:0})),(0,O.wk)("full",(0,O.iF)({height:"*"})),(0,O.kY)("full => nulled",[(0,O.i0)("700ms 350ms")]),(0,O.kY)("nulled => full",[(0,O.i0)(350)])])]}})}return r})(),_e=(()=>{class r{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new e.bkB;dragging=new e.bkB;change=new e.bkB;changed=new e.bkB;initialized=new e.bkB;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(t,s,n,i,a,l,c,h,f,b,B,gn){this.el=t,this.resizeService=s,this.carouselService=n,this.navigationService=i,this.autoplayService=a,this.lazyLoadService=l,this.animateService=c,this.autoHeightService=h,this.hashService=f,this.logger=b,this.changeDetectorRef=B,this.docRef=gn}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe((0,v.M)(t=>{this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray()),t.toArray().length||(this.carouselLoaded=!1),t.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe((0,v.M)(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe((0,v.M)(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe((0,v.M)(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe((0,v.M)(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe((0,$.n)(t=>{const s=(0,G.of)(t).pipe((0,I.p)(()=>"position"===t.property.name),(0,$.n)(()=>(0,_t.H)(this.slidesData)),oe(t.property.value),(0,j.s)(this.carouselService.settings.items),(0,H.T)(n=>{const i=this.carouselService.clonedIdPrefix,a=n.id.indexOf(i)>=0?n.id.slice(i.length):n.id;return{...n,id:a,isActive:!0}}),function yt(){return(0,V.N)((r,o)=>{(function bt(r,o){return(0,V.N)((0,vt.S)(r,o,arguments.length>=2,!1,!0))})(xt,[])(r).subscribe(o)})}(),(0,H.T)(n=>({slides:n,startPosition:this.carouselService.relative(t.property.value)})));return(0,D.h)(s)}),(0,v.M)(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe((0,v.M)(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),(0,$.n)(()=>this.carouselService.getDraggedState().pipe((0,H.T)(()=>!!this.carouselService.is("animating")))),(0,$.n)(t=>t?this.carouselService.getTranslatedState().pipe((0,z.$)()):(0,G.of)("not animating")),(0,v.M)(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=(0,D.h)(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe((0,I.p)(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),function Gt(r,o=le){const t=function Lt(r=0,o,t=Ot){let s=-1;return null!=o&&((0,$t.m)(o)?t=o:s=o),new re.c(n=>{let i=function Rt(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;i<0&&(i=0);let a=0;return t.schedule(function(){n.closed||(n.next(a++),0<=s?this.schedule(void 0,s):n.complete())},i)})}(r,o);return ce(()=>t)}(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){this.carouselLoaded&&this.navigationService.moveByDot(t)}to(t){this.carouselLoaded&&this.navigationService.toSlideById(t)}gatherTranslatedData(){let t;const s=this.carouselService.clonedIdPrefix,n=this.slidesData.filter(i=>!0===i.isActive).map(i=>({id:i.id.indexOf(s)>=0?i.id.slice(s.length):i.id,width:i.width,marginL:i.marginL,marginR:i.marginR,center:i.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:n}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(s){return new(s||r)(e.rXU(e.aKT),e.rXU(me),e.rXU(F),e.rXU(ge),e.rXU(de),e.rXU(he),e.rXU(J),e.rXU(pe),e.rXU(fe),e.rXU(K),e.rXU(e.gRc),e.rXU(q))};static \u0275cmp=e.VBU({type:r,selectors:[["owl-carousel-o"]],contentQueries:function(s,n,i){if(1&s&&e.wni(i,ee,4),2&s){let a;e.mGM(a=e.lsd())&&(n.slides=a)}},hostBindings:function(s,n){1&s&&e.bIt("visibilitychange",function(a){return n.onVisibilityChange(a)},!1,e.EBC)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[e.Jv_([ge,de,F,he,J,pe,fe]),e.OA$],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(s,n){1&s&&(e.j41(0,"div",0,1),e.bIt("mouseover",function(){return n.startPausing()})("mouseleave",function(){return n.startPlayML()})("touchstart",function(){return n.startPausing()})("touchend",function(){return n.startPlayTE()}),e.DNE(2,zt,2,6,"div",2),e.DNE(3,Kt,6,15,"ng-container",3),e.k0s()),2&s&&(e.Y8G("ngClass",e.s1E(3,Wt,null==n.owlDOMData?null:n.owlDOMData.rtl,null==n.owlDOMData?null:n.owlDOMData.isLoaded,null==n.owlDOMData?null:n.owlDOMData.isResponsive,null==n.owlDOMData?null:n.owlDOMData.isMouseDragable,null==n.owlDOMData?null:n.owlDOMData.isGrab)),e.R7$(2),e.Y8G("ngIf",n.carouselLoaded),e.R7$(1),e.Y8G("ngIf",n.slides.toArray().length))},dependencies:[g.YU,g.Sq,g.bT,cs],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return r})(),us=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=e.$C({type:r});static \u0275inj=e.G2t({providers:[ss,me,os,K],imports:[g.MD]})}return r})();function gs(r,o){if(1&r&&(e.j41(0,"tr",16)(1,"th",17),e.EFF(2),e.k0s(),e.j41(3,"td",18),e.EFF(4),e.k0s(),e.j41(5,"td",19),e.EFF(6),e.k0s()()),2&r){const t=o.$implicit;e.Y8G("ngClass",o.index%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(2),e.SpI(" ",t.rank," "),e.R7$(2),e.SpI(" ",t.fullName," "),e.R7$(2),e.SpI(" ",t.points," ")}}function ds(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"h5",8),e.EFF(3),e.k0s()(),e.j41(4,"div",9)(5,"table",10)(6,"thead",11)(7,"tr",12)(8,"th",13),e.EFF(9,"Rank"),e.k0s(),e.j41(10,"th",13),e.EFF(11,"Name"),e.k0s(),e.j41(12,"th",13),e.EFF(13,"Points"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,gs,7,4,"tr",14),e.k0s()(),e.j41(16,"button",15),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.openGroupMatches(i))}),e.EFF(17),e.k0s()()()}if(2&r){const t=o.$implicit,s=e.XpG(2);e.R7$(3),e.SpI(" Group ",t," "),e.R7$(12),e.Y8G("ngForOf",s.getGroupedPlayers()[t]),e.R7$(2),e.SpI(" Show Group ",t," Matches ")}}function hs(r,o){if(1&r&&(e.j41(0,"div",2)(1,"h4",3),e.EFF(2,"Groups Preview"),e.k0s(),e.j41(3,"div",4),e.DNE(4,ds,18,3,"div",5),e.k0s()()),2&r){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.getGroupNumbers())}}function ps(r,o){if(1&r&&(e.j41(0,"th",31),e.EFF(1),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.SpI(" ",t.fullName," ")}}function fs(r,o){1&r&&(e.j41(0,"span",38),e.EFF(1," N/A "),e.k0s())}function ms(r,o){if(1&r&&(e.qex(0),e.j41(1,"span",41),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG(2).$implicit,s=e.XpG().$implicit,n=e.XpG(2);e.R7$(1),e.Y8G("ngClass",n.getMatchResult(t,s,n.selectedGroupMatches).color),e.R7$(1),e.SpI(" ",n.getMatchResult(t,s,n.selectedGroupMatches).result," ")}}function _s(r,o){if(1&r&&(e.j41(0,"span",41),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit,s=e.XpG().$implicit,n=e.XpG(2);e.Y8G("ngClass",n.getClassicResult(t,s,n.selectedGroupMatches).color),e.R7$(1),e.SpI(" ",n.getClassicResult(t,s,n.selectedGroupMatches).result," ")}}function vs(r,o){if(1&r&&(e.j41(0,"span"),e.DNE(1,ms,3,2,"ng-container",39),e.DNE(2,_s,2,2,"ng-template",null,40,e.C5r),e.k0s()),2&r){const t=e.sdS(3),s=e.XpG(4);e.R7$(1),e.Y8G("ngIf",s.systemOfLeague===s.SystemOfLeague.Points)("ngIfElse",t)}}function bs(r,o){if(1&r&&(e.j41(0,"td",35),e.DNE(1,fs,2,0,"span",36),e.DNE(2,vs,4,2,"span",37),e.k0s()),2&r){const t=o.$implicit,s=e.XpG().$implicit;e.R7$(1),e.Y8G("ngIf",s.playerId===t.playerId),e.R7$(1),e.Y8G("ngIf",s.playerId!==t.playerId)}}function xs(r,o){if(1&r&&(e.j41(0,"tr",32),e.DNE(1,bs,3,2,"td",33),e.j41(2,"td",34),e.EFF(3),e.k0s()()),2&r){const t=o.$implicit,s=o.index,n=e.XpG(2);e.Y8G("ngClass",s%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(1),e.Y8G("ngForOf",n.getGroupedPlayers()[n.selectedGroup]),e.R7$(2),e.SpI(" ",t.fullName," ")}}function ys(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMatchesModal())}),e.j41(1,"div",21),e.bIt("click",function(n){return n.stopPropagation()}),e.j41(2,"div",22)(3,"h2",23),e.EFF(4),e.k0s(),e.j41(5,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeMatchesModal())}),e.nrm(6,"i",25),e.k0s()(),e.j41(7,"div",26)(8,"table",27)(9,"thead",11)(10,"tr",12),e.DNE(11,ps,2,1,"th",28),e.j41(12,"th",29),e.EFF(13," \u0627\u0644\u0645\u0628\u0627\u0631\u0627\u0629 "),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,xs,4,3,"tr",30),e.k0s()()()()()}if(2&r){const t=e.XpG();e.R7$(4),e.SpI(" Group ",t.selectedGroup," Matches "),e.R7$(7),e.Y8G("ngForOf",t.getGroupedPlayers()[t.selectedGroup]),e.R7$(4),e.Y8G("ngForOf",t.getGroupedPlayers()[t.selectedGroup])}}let Cs=(()=>{class r{constructor(){this.groups=[],this.matches=[],this.SystemOfLeague=p.KE,this.LeagueType=p.Ck,this.selectedGroup=null,this.showMatchesModal=!1,this.selectedGroupMatches=[]}ngOnInit(){}getGroupedPlayers(){const t={};return this.groups.forEach(s=>{t[s.groupNumber]=s.players}),t}getGroupMatches(t){return this.groups.find(n=>n.groupNumber===t)?.matches||[]}getGroupNumbers(){return this.groups.map(t=>t.groupNumber).sort((t,s)=>t-s)}hasGroupedPlayers(){return this.groups&&this.groups.length>0}isGroupsTournament(){return this.leagueType===p.Ck.Groups}getMatchResult(t,s,n){if(t.playerId===s.playerId)return{result:"N/A",color:"text-gray-800"};const i=n.find(h=>h.player1Name===t.fullName&&h.player2Name===s.fullName||h.player1Name===s.fullName&&h.player2Name===t.fullName);if(!i)return{result:"-",color:"text-gray-500"};const a=i.player1Name===t.fullName?i.score1:i.score2,l=i.player2Name===s.fullName?i.score2:i.score1;let c="text-white ";return a>l?c="text-green-600 font-bold":a<l?c="text-red-600 font-bold":a==l&&0!=a&&(c="text-gray-400 font-bold text-yellow-400"),{result:`${a} - ${l}`,color:c}}getClassicResult(t,s,n){if(t.playerId===s.playerId)return{result:"N/A",color:"text-gray-800"};const i=n.find(c=>c.player1Name===t.fullName&&c.player2Name===s.fullName||c.player1Name===s.fullName&&c.player2Name===t.fullName);if(!i)return{result:"-",color:"text-gray-500"};const a=i.player1Name===t.fullName?i.score1:i.score2,l=i.player2Name===s.fullName?i.score2:i.score1;return a>l?{result:"\u0641\u0648\u0632",color:"text-green-600 font-bold"}:a<l?{result:"\u062e\u0633\u0627\u0631\u0629",color:"text-red-600 font-bold"}:a===l&&0!==a?{result:"\u062a\u0639\u0627\u062f\u0644",color:"text-yellow-400 font-bold"}:{result:"-",color:"text-gray-500"}}openGroupMatches(t){this.selectedGroup=t,this.selectedGroupMatches=this.getGroupMatches(t),this.showMatchesModal=!0}closeMatchesModal(){this.showMatchesModal=!1,this.selectedGroup=null,this.selectedGroupMatches=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-league-groups-preview"]],inputs:{groups:"groups",matches:"matches",systemOfLeague:"systemOfLeague",leagueType:"leagueType"},decls:2,vars:2,consts:[["class","mt-6",4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"mt-6"],[1,"text-lg","font-bold","text-white","mb-4","text-center"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],["class","bg-black bg-opacity-50 backdrop-blur-sm rounded-lg border border-gray-700",4,"ngFor","ngForOf"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","border","border-gray-700"],[1,"bg-gradient-to-r","from-blue-600","to-purple-600","p-3","rounded-t-lg"],[1,"text-sm","font-bold","text-white","text-center"],[1,"p-3"],[1,"w-full","text-xs","text-gray-100"],[1,"text-xs","font-bold","text-gray-100","uppercase","bg-gray-800"],[1,"text-center"],["scope","col",1,"px-1","py-2"],["class","border-b text-center border-gray-700 hover:bg-gray-600 font-bold text-xs",3,"ngClass",4,"ngFor","ngForOf"],[1,"w-full","mt-3","bg-gradient-to-r","from-blue-600","to-purple-600","text-white","text-xs","font-bold","py-2","px-3","rounded","hover:from-blue-700","hover:to-purple-700","transition-all",3,"click"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600","font-bold","text-xs",3,"ngClass"],["scope","row",1,"px-1","py-2","font-medium","text-white","whitespace-nowrap"],[1,"px-1","py-2","text-white"],[1,"px-1","py-2","text-center","font-bold","text-blue-400"],[1,"fixed","inset-0","bg-black","bg-opacity-75","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","p-6","rounded-lg","shadow-lg","w-full","max-w-4xl","mx-4","max-h-[80vh]","overflow-y-auto",3,"click"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-bold","text-white"],[1,"text-white","hover:text-gray-300",3,"click"],[1,"fa-solid","fa-times","text-2xl"],[1,"overflow-x-auto"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-100"],["scope","col","class","px-3 py-3 cursor-pointer hover:bg-gray-700 transition-all min-w-[70px]",4,"ngFor","ngForOf"],["scope","col",1,"px-4","py-3","text-white","sticky-column"],["class","text-center hover:bg-gray-600",3,"ngClass",4,"ngFor","ngForOf"],["scope","col",1,"px-3","py-3","cursor-pointer","hover:bg-gray-700","transition-all","min-w-[70px]"],[1,"text-center","hover:bg-gray-600",3,"ngClass"],["class","px-2 py-4 transition-all",4,"ngFor","ngForOf"],[1,"px-6","py-4","font-bold","text-white","sticky-column"],[1,"px-2","py-4","transition-all"],["class","font-bold text-white",4,"ngIf"],[4,"ngIf"],[1,"font-bold","text-white"],[4,"ngIf","ngIfElse"],["classicResult",""],[3,"ngClass"]],template:function(s,n){1&s&&(e.DNE(0,hs,5,1,"div",0),e.DNE(1,ys,16,3,"div",1)),2&s&&(e.Y8G("ngIf",n.isGroupsTournament()&&n.hasGroupedPlayers()),e.R7$(1),e.Y8G("ngIf",n.showMatchesModal))},dependencies:[g.YU,g.Sq,g.bT],styles:[".group-preview[_ngcontent-%COMP%]{margin-top:24px}.group-table[_ngcontent-%COMP%]{width:100%;font-size:.75rem}.group-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .group-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:4px 2px;text-align:center;border-bottom:1px solid #374151}.group-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#1f2937;color:#fff;font-weight:700;text-transform:uppercase;font-size:.625rem;letter-spacing:.05em}.group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .5s ease;position:relative}.group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#3b82f64d!important;box-shadow:0 2px 8px #3b82f666;border-left:3px solid #3b82f6}.group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#111827}.group-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#1f2937}.group-card[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid #374151;border-radius:8px;overflow:hidden;transition:all .6s ease}.group-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #3b82f64d;border-color:#3b82f680}.group-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);padding:12px;color:#fff;font-weight:700;text-align:center}.group-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#7c3aed);color:#fff;font-weight:700;padding:8px 12px;border-radius:6px;transition:all .6s ease;cursor:pointer;border:none;width:100%;margin-top:12px}.group-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#1d4ed8,#7c2d12);box-shadow:0 2px 8px #3b82f666}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:rgba(0,0,0,.75);display:flex;align-items:center;justify-content:center;z-index:50}.modal-content[_ngcontent-%COMP%]{background:rgba(0,0,0,.5);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:24px;border-radius:8px;box-shadow:0 10px 25px #0000004d;width:100%;max-width:64rem;margin:0 16px;max-height:80vh;overflow-y:auto}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#fff}.modal-close[_ngcontent-%COMP%]{color:#fff;background:none;border:none;font-size:1.5rem;cursor:pointer;transition:color .2s ease}.modal-close[_ngcontent-%COMP%]:hover{color:#9ca3af}.sticky-column[_ngcontent-%COMP%]{position:sticky;right:0;background-color:#1f2937;z-index:10}.overflow-x-auto[_ngcontent-%COMP%]{overflow-x:auto;scrollbar-width:thin;scrollbar-color:#4b5563 #1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:10px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#1f2937}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#4b5563;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#6b7280}@media (max-width: 768px){.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.group-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .group-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:2px 1px;font-size:.625rem}.modal-content[_ngcontent-%COMP%]{margin:0 8px;padding:16px}}.text-green[_ngcontent-%COMP%]{color:#10b981}.text-red[_ngcontent-%COMP%]{color:#ef4444}.text-yellow[_ngcontent-%COMP%]{color:#f59e0b}.text-blue[_ngcontent-%COMP%]{color:#3b82f6}.text-gray[_ngcontent-%COMP%]{color:#9ca3af}\n\n/*# sourceMappingURL=league-groups-preview.component.css.map*/"]})}}return r})();function ks(r,o){1&r&&(e.j41(0,"p",18)(1,"span",19),e.EFF(2,"Live Now!!"),e.k0s()())}function Ms(r,o){1&r&&(e.j41(0,"p",20)(1,"span",21),e.EFF(2,"Finished"),e.k0s()())}function ws(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",22)(1,"button",23),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,i=e.XpG();return e.Njj(i.openKnockoutModal(n.leagueId))}),e.EFF(2," Show Knockout Matches "),e.k0s()()}}const Ss=function(){return[]};function Ds(r,o){if(1&r&&e.nrm(0,"app-league-groups-preview",24),2&r){const t=e.XpG(2).$implicit,s=e.XpG();e.Y8G("groups",t.groups||e.lJ4(4,Ss))("matches",s.getLeagueMatches(t.leagueId))("systemOfLeague",t.systemOfLeague)("leagueType",t.leagueType)}}function Os(r,o){if(1&r&&(e.j41(0,"div",25),e.nrm(1,"app-bracket-tree",26),e.k0s()),2&r){const t=e.XpG(2).$implicit;e.R7$(1),e.Y8G("leagueId",t.leagueId)}}function Fs(r,o){1&r&&e.nrm(0,"i",44)}function Ps(r,o){if(1&r&&(e.j41(0,"tr",35)(1,"th",36),e.DNE(2,Fs,1,0,"i",37),e.EFF(3),e.k0s(),e.j41(4,"td",38),e.EFF(5),e.k0s(),e.j41(6,"td",39),e.EFF(7),e.k0s(),e.j41(8,"td",40),e.EFF(9),e.k0s(),e.j41(10,"td",41),e.EFF(11),e.k0s(),e.j41(12,"td",42),e.EFF(13),e.k0s(),e.j41(14,"td",39),e.EFF(15),e.k0s(),e.j41(16,"td",43),e.EFF(17),e.nI1(18,"number"),e.k0s()()),2&r){const t=o.$implicit;e.Y8G("ngClass",o.index%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(2),e.Y8G("ngIf",1==t.rank),e.R7$(1),e.SpI(" ",t.rank," "),e.R7$(2),e.JRh(t.fullName),e.R7$(2),e.SpI(" ",t.points," "),e.R7$(2),e.SpI(" ",t.wins," "),e.R7$(2),e.SpI(" ",t.draws," "),e.R7$(2),e.SpI(" ",t.losses," "),e.R7$(2),e.SpI(" ",t.matchesPlayed," "),e.R7$(1),e.Y8G("ngClass",t.winRate>50?"text-green-500":"text-red-500"),e.R7$(1),e.SpI(" ",e.i5U(18,11,t.winRate,"1.2-2")," % ")}}function Ts(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",27)(1,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,i=e.XpG();return e.Njj(i.openModal(n.leagueId))}),e.EFF(2," Show Games With League "),e.k0s(),e.j41(3,"table",29)(4,"thead",30)(5,"tr",31)(6,"th",32),e.EFF(7,"Rank"),e.k0s(),e.j41(8,"th",32),e.EFF(9,"Name"),e.k0s(),e.j41(10,"th",32),e.EFF(11,"Points"),e.k0s(),e.j41(12,"th",33),e.EFF(13," Win "),e.k0s(),e.j41(14,"th",33),e.EFF(15," Draw "),e.k0s(),e.j41(16,"th",33),e.EFF(17," Loss "),e.k0s(),e.j41(18,"th",32),e.EFF(19,"Games"),e.k0s(),e.j41(20,"th",32),e.EFF(21,"Win Rate"),e.k0s()()(),e.j41(22,"tbody"),e.DNE(23,Ps,19,14,"tr",34),e.k0s()()()}if(2&r){const t=e.XpG(2).$implicit;e.R7$(23),e.Y8G("ngForOf",t.players)}}function Es(r,o){if(1&r&&(e.j41(0,"div",6)(1,"h3",7),e.EFF(2),e.k0s(),e.j41(3,"p",8),e.EFF(4),e.k0s(),e.j41(5,"p",9),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"p",10),e.EFF(9," System Of League : "),e.j41(10,"span",11),e.EFF(11),e.k0s()(),e.j41(12,"p",10),e.EFF(13," Type Of League : "),e.j41(14,"span",11),e.EFF(15),e.k0s()(),e.DNE(16,ks,3,0,"p",12),e.DNE(17,Ms,3,0,"p",13),e.DNE(18,ws,3,0,"div",14),e.DNE(19,Ds,1,5,"app-league-groups-preview",15),e.DNE(20,Os,2,1,"div",16),e.DNE(21,Ts,24,1,"div",17),e.k0s()),2&r){const t=e.XpG().$implicit,s=e.XpG();e.R7$(2),e.SpI(" ",t.leagueName," "),e.R7$(2),e.SpI(" ",t.leagueDescription," "),e.R7$(2),e.SpI(" Date Of League : ",e.i5U(7,13,t.createdOn,"dd - MM - yyyy")," "),e.R7$(4),e.Y8G("ngClass","text-blue-400"),e.R7$(1),e.SpI(" ",t.systemOfLeague===s.SystemOfLeague.Points?"Points ":"Classic "," "),e.R7$(3),e.Y8G("ngClass","text-blue-400"),e.R7$(1),e.SpI(" ",0===t.leagueType?"League ":1===t.leagueType?"Multi ":"Groups "," "),e.R7$(1),e.Y8G("ngIf",0==t.isFinished),e.R7$(1),e.Y8G("ngIf",1==t.isFinished),e.R7$(1),e.Y8G("ngIf",2===t.leagueType),e.R7$(1),e.Y8G("ngIf",2===t.leagueType),e.R7$(1),e.Y8G("ngIf",2===t.leagueType&&s.showKnockoutMatches),e.R7$(1),e.Y8G("ngIf",2!==t.leagueType)}}function Is(r,o){1&r&&(e.qex(0),e.DNE(1,Es,22,16,"ng-template",5),e.bVm())}function $s(r,o){if(1&r){const t=e.RV6();e.j41(0,"th",54),e.bIt("click",function(){const i=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.highlightColumn(i.playerId))}),e.EFF(1),e.k0s()}if(2&r){const t=o.$implicit,s=e.XpG(2);e.Y8G("ngClass",s.highlightedColumn==t.playerId?"highlighted-header":"bg-gray-700"),e.R7$(1),e.SpI(" ",t.fullName," ")}}function Rs(r,o){1&r&&(e.j41(0,"span",61),e.EFF(1," N/A "),e.k0s())}function Ls(r,o){if(1&r&&(e.qex(0),e.j41(1,"span",64),e.EFF(2),e.k0s(),e.bVm()),2&r){const t=e.XpG(2).$implicit,s=e.XpG().$implicit,n=e.XpG(2);e.R7$(1),e.Y8G("ngClass",n.getMatchResult(t,s).color),e.R7$(1),e.SpI(" ",n.getMatchResult(t,s).result," ")}}function Gs(r,o){if(1&r&&(e.j41(0,"span",64),e.EFF(1),e.k0s()),2&r){const t=e.XpG(2).$implicit,s=e.XpG().$implicit,n=e.XpG(2);e.Y8G("ngClass",n.getClassicResult(t,s).color),e.R7$(1),e.SpI(" ",n.getClassicResult(t,s).result," ")}}function js(r,o){if(1&r&&(e.j41(0,"span"),e.DNE(1,Ls,3,2,"ng-container",62),e.DNE(2,Gs,2,2,"ng-template",null,63,e.C5r),e.k0s()),2&r){const t=e.sdS(3),s=e.XpG(4);e.R7$(1),e.Y8G("ngIf",s.currentModalSystemOfLeague===s.SystemOfLeague.Points)("ngIfElse",t)}}const Ns=function(r){return{"highlighted-cell":r}};function As(r,o){if(1&r&&(e.j41(0,"td",58),e.DNE(1,Rs,2,0,"span",59),e.DNE(2,js,4,2,"span",60),e.k0s()),2&r){const t=o.$implicit,s=e.XpG().$implicit,n=e.XpG(2);e.Y8G("ngClass",e.eq3(3,Ns,n.highlightedColumn===t.playerId)),e.R7$(1),e.Y8G("ngIf",s.playerId===t.playerId),e.R7$(1),e.Y8G("ngIf",s.playerId!==t.playerId)}}function Us(r,o){if(1&r&&(e.j41(0,"tr",55),e.DNE(1,As,3,5,"td",56),e.j41(2,"td",57),e.EFF(3),e.k0s()()),2&r){const t=o.$implicit,s=o.index,n=e.XpG(2);e.Y8G("ngClass",s%2==0?"bg-gray-900":"bg-gray-950"),e.R7$(1),e.Y8G("ngForOf",n.players),e.R7$(2),e.SpI(" ",t.fullName," ")}}function Bs(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",45),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeModal())}),e.j41(1,"div",46),e.bIt("click",function(n){return n.stopPropagation()}),e.j41(2,"div",47)(3,"h2",48),e.EFF(4,"League Games"),e.k0s(),e.j41(5,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeModal())}),e.nrm(6,"i",50),e.k0s()(),e.j41(7,"div",27)(8,"table",29)(9,"thead",30)(10,"tr"),e.DNE(11,$s,2,2,"th",51),e.j41(12,"th",52),e.EFF(13," \u0627\u0644\u0645\u0628\u0627\u0631\u0627\u0629 "),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,Us,4,3,"tr",53),e.k0s()()()()()}if(2&r){const t=e.XpG();e.R7$(11),e.Y8G("ngForOf",t.players),e.R7$(4),e.Y8G("ngForOf",t.players)}}function Ys(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",45),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeKnockoutModal())}),e.j41(1,"div",65),e.bIt("click",function(n){return n.stopPropagation()}),e.j41(2,"div",66)(3,"h2",48),e.EFF(4,"Knockout Matches"),e.k0s(),e.j41(5,"button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeKnockoutModal())}),e.nrm(6,"i",50),e.k0s()(),e.j41(7,"div",67),e.nrm(8,"app-bracket-tree",26),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(8),e.Y8G("leagueId",t.currentKnockoutLeagueId)}}let Xs=(()=>{class r{constructor(t,s){this.leagueService=t,this.toastr=s,this.leaguesRank=[],this.players=[],this.highlightedColumn=null,this.matches=[],this.LeagueId=0,this.isModalOpen=!1,this.SystemOfLeague=p.KE,this.showKnockoutMatches=!1,this.isKnockoutModalOpen=!1,this.currentKnockoutLeagueId=0,this.customOptions={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["Previous","Next"],responsive:{0:{items:1},600:{items:1},1e3:{items:1}}}}ngOnInit(){this.leagueService.GetAllLeaguesRank().subscribe({next:t=>{t?this.leaguesRank=this.sortLeaguesForDisplay(t):this.toastr.error(t)},error:t=>{this.toastr.error(t.message)}})}loadData(){this.leagueService.GetAllLeaguesRank().subscribe({next:t=>{this.leaguesRank=this.sortLeaguesForDisplay(t)},error:t=>{this.toastr.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u062f\u0648\u0631\u064a\u0627\u062a")}})}sortLeaguesForDisplay(t){return[...t].sort((s,n)=>{const i=new Date(s.createdOn).getTime();return new Date(n.createdOn).getTime()-i})}openModal(t){this.LeagueId=t,this.isModalOpen=!0;const s=this.leaguesRank.find(n=>n.leagueId===t);s?(this.players=s.players||[],this.matches=s.matches||[],this.currentModalSystemOfLeague=s.systemOfLeague):(this.players=[],this.matches=[],this.currentModalSystemOfLeague=void 0)}closeModal(){this.isModalOpen=!1,this.LeagueId=0,this.highlightedColumn=null,this.players=[],this.matches=[]}getMatchResult(t,s){if(t.playerId===s.playerId)return{result:"N/A",color:"text-gray-400"};const n=this.matches.find(c=>c.player1Name===t.fullName&&c.player2Name===s.fullName||c.player1Name===s.fullName&&c.player2Name===t.fullName);if(!n)return{result:"-",color:"text-gray-500"};const i=n.player1Name===t.fullName?n.score1:n.score2,a=n.player2Name===s.fullName?n.score2:n.score1;let l="text-white";return i>a?l="text-green-600 font-bold":i<a?l="text-red-600 font-bold":i===a&&0!==i&&(l="text-yellow-400 font-bold"),{result:`${i} - ${a}`,color:l}}getClassicResult(t,s){if(t.playerId===s.playerId)return{result:"N/A",color:"text-gray-400"};const n=this.matches.find(l=>l.player1Name===t.fullName&&l.player2Name===s.fullName||l.player1Name===s.fullName&&l.player2Name===t.fullName);if(!n)return{result:"-",color:"text-gray-500"};const i=n.player1Name===t.fullName?n.score1:n.score2,a=n.player2Name===s.fullName?n.score2:n.score1;return i>a?{result:"\u0641\u0648\u0632",color:"text-green-600 font-bold"}:i<a?{result:"\u062e\u0633\u0627\u0631\u0629",color:"text-red-600 font-bold"}:i===a&&0!==i?{result:"\u062a\u0639\u0627\u062f\u0644",color:"text-yellow-400 font-bold"}:{result:"-",color:"text-gray-500"}}highlightColumn(t){this.highlightedColumn=this.highlightedColumn===t?null:t}toggleKnockoutMatches(){this.showKnockoutMatches=!this.showKnockoutMatches}openKnockoutModal(t){this.currentKnockoutLeagueId=t,this.isKnockoutModalOpen=!0}closeKnockoutModal(){this.isKnockoutModalOpen=!1}onClickOutside(t){const s=document.querySelector("table");s&&!s.contains(t.target)&&this.isModalOpen&&(this.highlightedColumn=null)}getSystemOfLeagueForLeague(t){return t?.systemOfLeague}getLeagueMatches(t){const s=this.leaguesRank.find(i=>i.leagueId===t);if(!s)return[];if(2!==s.leagueType)return s.matches||[];const n=[];return s.matches&&n.push(...s.matches),s.knockoutMatches&&n.push(...s.knockoutMatches),n}getDisplayResult(t,s,n){return n===p.KE.Classic?this.getClassicResult(t,s):this.getMatchResult(t,s)}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(d.N),e.rXU(M.tw))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-all-leagues"]],hostBindings:function(s,n){1&s&&e.bIt("click",function(a){return n.onClickOutside(a)},!1,e.EBC)},decls:7,vars:4,consts:[[1,"my-8"],[1,"text-2xl","font-bold","text-center","mb-4","text-white"],[3,"options"],[4,"ngFor","ngForOf"],["class","fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",3,"click",4,"ngIf"],["carouselSlide",""],[1,"border","rounded-lg","shadow-md","mx-auto","text-center","bg-black","bg-opacity-50","backdrop-blur-sm","container"],[1,"text-xl","font-bold","text-center","text-white","pt-2"],[1,"text-gray-300","text-center"],[1,"text-center","text-gray-300","font-bold"],[1,"text-center","text-gray-300"],[1,"font-bold",3,"ngClass"],["class","text-gray-300 text-center font-bold",4,"ngIf"],["class","text-gray-300 font-bold text-center",4,"ngIf"],["class","mt-4 text-center",4,"ngIf"],[3,"groups","matches","systemOfLeague","leagueType",4,"ngIf"],["class","mt-4",4,"ngIf"],["class","relative overflow-x-auto shadow-md sm:rounded-lg",4,"ngIf"],[1,"text-gray-300","text-center","font-bold"],[1,"font-bold","text-green-500"],[1,"text-gray-300","font-bold","text-center"],[1,"font-bold","text-red-500"],[1,"mt-4","text-center"],[1,"px-4","py-2","bg-purple-600","hover:bg-purple-700","transition-all","text-white","rounded-lg","font-semibold",3,"click"],[3,"groups","matches","systemOfLeague","leagueType"],[1,"mt-4"],[3,"leagueId"],[1,"relative","overflow-x-auto","shadow-md","sm:rounded-lg"],[1,"my-4","px-2","bg-gray-600","hover:bg-gray-700","transition-all","text-white","py-2","rounded",3,"click"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-400"],[1,"text-xs","uppercase","bg-black","bg-opacity-50","backdrop-blur-sm","text-white"],[1,"text-center"],["scope","col",1,"px-2","py-3"],["scope","col",1,"px-2","py-3","hidden","sm:table-cell"],["class","border-b text-center border-gray-700 hover:bg-gray-600 font-bold text-sm md:text-[16px]",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600","font-bold","text-sm","md:text-[16px]",3,"ngClass"],["scope","row",1,"px-2","py-4","font-medium","whitespace-nowrap","text-white","relative"],["class","fa-solid fa-crown absolute top-[50%] left-[10px] md:left-10 translate-y-[-50%]","style","color: #ffd43b",4,"ngIf"],[1,"px-2","py-4","text-white"],[1,"px-2","py-4","text-center","text-white"],[1,"px-2","py-4","text-center","text-green-500","hidden","sm:table-cell"],[1,"px-2","py-4","text-center","text-yellow-400","hidden","sm:table-cell"],[1,"px-2","py-4","text-center","text-red-500","hidden","sm:table-cell"],[1,"px-2","py-4","text-center",3,"ngClass"],[1,"fa-solid","fa-crown","absolute","top-[50%]","left-[10px]","md:left-10","translate-y-[-50%]",2,"color","#ffd43b"],[1,"fixed","inset-0","bg-black","bg-opacity-75","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","p-6","rounded-lg","shadow-lg","w-full","max-w-4xl","mx-4","max-h-[80vh]","overflow-y-auto",3,"click"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-xl","font-bold","text-white"],[1,"text-white","hover:text-gray-300",3,"click"],[1,"fa-solid","fa-times","text-2xl"],["scope","col","class","px-2 py-3 text-center text-white cursor-pointer hover:bg-gray-500 transition-all min-w-[70px]",3,"ngClass","click",4,"ngFor","ngForOf"],["scope","col",1,"px-2","py-3","bg-gray-700","text-center","text-white"],["class","border-b text-center border-gray-700 hover:bg-gray-600",3,"ngClass",4,"ngFor","ngForOf"],["scope","col",1,"px-2","py-3","text-center","text-white","cursor-pointer","hover:bg-gray-500","transition-all","min-w-[70px]",3,"ngClass","click"],[1,"border-b","text-center","border-gray-700","hover:bg-gray-600",3,"ngClass"],["class","px-2 py-4 transition-all",3,"ngClass",4,"ngFor","ngForOf"],[1,"px-2","py-4","font-bold","text-white"],[1,"px-2","py-4","transition-all",3,"ngClass"],["class","font-bold text-white",4,"ngIf"],[4,"ngIf"],[1,"font-bold","text-white"],[4,"ngIf","ngIfElse"],["classicResult",""],[3,"ngClass"],[1,"bg-black","bg-opacity-50","backdrop-blur-sm","rounded-lg","shadow-lg","w-full","max-w-6xl","max-h-[80vh]","overflow-y-auto","md:overflow-hidden",3,"click"],[1,"flex","justify-between","items-center","mb-4","px-4","pt-2"],[1,"w-full"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"h2",1),e.EFF(2,"All Leagues"),e.k0s(),e.j41(3,"owl-carousel-o",2),e.DNE(4,Is,2,0,"ng-container",3),e.k0s()(),e.DNE(5,Bs,16,2,"div",4),e.DNE(6,Ys,9,1,"div",4)),2&s&&(e.R7$(3),e.Y8G("options",n.customOptions),e.R7$(1),e.Y8G("ngForOf",n.leaguesRank),e.R7$(1),e.Y8G("ngIf",n.isModalOpen),e.R7$(1),e.Y8G("ngIf",n.isKnockoutModalOpen))},dependencies:[g.YU,g.Sq,g.bT,_e,ee,Y,Cs,g.QX,g.vh],styles:[".highlighted-cell[_ngcontent-%COMP%]{background:rgba(255,255,255,.1)!important;box-shadow:0 2px 8px #fff3;border:2px solid rgba(255,255,255,.6);border-radius:4px;transition:all .5s ease}.highlighted-cell[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.15)!important;box-shadow:0 4px 12px #ffffff4d;border-color:#fffc}.highlighted-header[_ngcontent-%COMP%]{background:rgba(255,255,255,.15)!important;color:#fff!important;box-shadow:0 2px 8px #fff3;border:2px solid rgba(255,255,255,.6);border-radius:4px;transition:all .5s ease}.highlighted-header[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2)!important;box-shadow:0 4px 12px #ffffff4d;border-color:#fffc}\n\n/*# sourceMappingURL=all-leagues.component.css.map*/"]})}}return r})();function zs(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s(),e.j41(2,"div",14)(3,"i",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.openModal(n))}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("src",t,e.B4B)}}function Hs(r,o){1&r&&(e.qex(0),e.DNE(1,zs,4,1,"ng-template",11),e.bVm())}function Vs(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s(),e.j41(2,"div",14)(3,"i",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.openModal(n))}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("src",t,e.B4B)}}function Ks(r,o){1&r&&(e.qex(0),e.DNE(1,Vs,4,1,"ng-template",11),e.bVm())}function Ws(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",12),e.nrm(1,"img",13),e.k0s(),e.j41(2,"div",14)(3,"i",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.openModal(n))}),e.k0s()()}if(2&r){const t=e.XpG().$implicit;e.R7$(1),e.Y8G("src",t,e.B4B)}}function Qs(r,o){1&r&&(e.qex(0),e.DNE(1,Ws,4,1,"ng-template",11),e.bVm())}function qs(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeModal())}),e.j41(1,"div",17)(2,"img",18),e.bIt("click",function(n){return n.stopPropagation()}),e.k0s()()()}if(2&r){const t=e.XpG();e.R7$(2),e.Y8G("src",t.selectedImage,e.B4B)}}function Zs(r,o){if(1&r){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeModal())}),e.j41(1,"div",17)(2,"img",19),e.bIt("click",function(n){return n.stopPropagation()}),e.k0s()()()}}let Js=(()=>{class r{constructor(){this.spellCards=["./assets/images/Spell Cards/1.jpg","./assets/images/Spell Cards/4.jpg","./assets/images/Spell Cards/5.jpg","./assets/images/Spell Cards/6.jpg","./assets/images/Spell Cards/12.jpg","./assets/images/Spell Cards/14.jpg","./assets/images/Spell Cards/15.jpg","./assets/images/Spell Cards/16.jpg","./assets/images/Spell Cards/18.jpg","./assets/images/Spell Cards/19.jpg","./assets/images/Spell Cards/20.jpg","./assets/images/Spell Cards/21.jpg","./assets/images/Spell Cards/24.jpg","./assets/images/Spell Cards/25.jpg","./assets/images/Spell Cards/26.jpg","./assets/images/Spell Cards/13.jpg","./assets/images/Spell Cards/2.jpg","./assets/images/Spell Cards/3.jpg","./assets/images/Spell Cards/7.jpg","./assets/images/Spell Cards/17.jpg","./assets/images/Spell Cards/8.jpg","./assets/images/Spell Cards/9.jpg","./assets/images/Spell Cards/10.jpg","./assets/images/Spell Cards/11.jpg","./assets/images/Spell Cards/22.jpg","./assets/images/Spell Cards/23.jpg"],this.trapCards=["./assets/images/Trap Cards/11.jpg","./assets/images/Trap Cards/2.jpg","./assets/images/Trap Cards/1.jpg","./assets/images/Trap Cards/3.jpg","./assets/images/Trap Cards/4.jpg","./assets/images/Trap Cards/5.jpg","./assets/images/Trap Cards/6.jpg","./assets/images/Trap Cards/7.jpg","./assets/images/Trap Cards/8.jpg","./assets/images/Trap Cards/9.jpg","./assets/images/Trap Cards/10.jpg","./assets/images/Trap Cards/12.jpg","./assets/images/Trap Cards/13.jpg"],this.monsters=["./assets/images/Monster/13.jpg","./assets/images/Monster/3.jpg","./assets/images/Monster/4.jpg","./assets/images/Monster/2.jpg","./assets/images/Monster/1.jpg","./assets/images/Monster/5.jpg","./assets/images/Monster/6.jpg","./assets/images/Monster/7.jpg","./assets/images/Monster/8.jpg","./assets/images/Monster/9.jpg","./assets/images/Monster/10.jpg","./assets/images/Monster/11.jpg","./assets/images/Monster/12.jpg"],this.selectedImage=null,this.isModalOpen=!1,this.isModalOpenAll=!1,this.customOptions={loop:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,navText:["",""],responsive:{0:{items:3},400:{items:3},740:{items:3},940:{items:10}},nav:!0}}ngOnInit(){}openModal(t){this.selectedImage=t,this.isModalOpen=!0}openAll(){this.isModalOpenAll=!0}closeModal(){this.isModalOpen=!1,this.isModalOpenAll=!1,this.selectedImage=null}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-forbidden-cards"]],decls:28,vars:8,consts:[[1,"container","mx-auto"],[1,"text-center","my-[30px]"],[1,"font-bold","fa-1","text-white"],["href","https://www.db.yugioh-card.com/yugiohdb/forbidden_limited.action","target","_blank",1,"text-blue-600","hover:text-blue-800"],[1,"text-blue-600","hover:text-blue-800","cursor-pointer",3,"click"],[1,"font-bold","fa-2xl","text-green-500","custom-outline"],[3,"options"],[4,"ngFor","ngForOf"],[1,"font-bold","text-3xl","text-rose-500","custom-outline"],[1,"font-bold","fa-2xl","text-yellow-500","custom-outline"],["class","fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",3,"click",4,"ngIf"],["carouselSlide",""],[1,"p-2","relative","transition","max-w-[150px]","cursor-pointer"],[1,"w-fit","min-h-[190px]",3,"src"],[1,"text-center"],[1,"fa-solid","fa-eye","cursor-pointer",2,"color","#fff",3,"click"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","justify-center","items-center","z-50",3,"click"],[1,"relative"],[1,"max-w-[90vw]","max-h-[90vh]","object-contain","w-[400px]",3,"src","click"],["src","./assets/images/all2.png",1,"max-w-[250vw]","max-h-[250vh]","object-contain","w-[400px]","sm:w-[700px]",3,"click"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"h2",2),e.EFF(3," \u0647\u0630\u0647 \u0627\u0644\u0643\u0631\u0648\u062a \u0627\u0644\u0645\u0645\u0646\u0648\u0639\u0629 \u0645\u0646 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u0631\u0633\u0645\u064a \u0644\u0644\u0639\u0628\u0629 \u064a\u0648\u063a\u064a \u0644\u0644\u062a\u0623\u0643\u062f "),e.j41(4,"a",3),e.EFF(5," \u0627\u0636\u063a\u0637 \u0647\u0646\u0627 "),e.k0s(),e.EFF(6," \u0644\u0644\u0630\u0647\u0627\u0628 \u0627\u0644\u064a \u0627\u0644\u0645\u0648\u0642\u0639 "),e.k0s(),e.j41(7,"h2",2),e.EFF(8," \u0644\u0639\u0631\u0636 \u0627\u0644\u0648\u0631\u0642 \u0627\u0644\u0645\u0645\u0646\u0648\u0639 \u0627\u0644\u062e\u0627\u0635 \u0628\u0646\u0633\u062e\u0629 \u062c\u0648\u064a \u0641\u0642\u0637 "),e.j41(9,"span",4),e.bIt("click",function(){return n.openAll()}),e.EFF(10," \u0627\u0636\u063a\u0637 \u0647\u0646\u0627 "),e.k0s()()(),e.j41(11,"div",1)(12,"h2",5),e.EFF(13,"Spell Cards"),e.k0s()(),e.j41(14,"owl-carousel-o",6),e.DNE(15,Hs,2,0,"ng-container",7),e.k0s(),e.j41(16,"div",1)(17,"h2",8),e.EFF(18,"Trap Cards"),e.k0s()(),e.j41(19,"owl-carousel-o",6),e.DNE(20,Ks,2,0,"ng-container",7),e.k0s(),e.j41(21,"div",1)(22,"h2",9),e.EFF(23,"Monsters"),e.k0s()(),e.j41(24,"owl-carousel-o",6),e.DNE(25,Qs,2,0,"ng-container",7),e.k0s(),e.DNE(26,qs,3,1,"div",10),e.DNE(27,Zs,3,0,"div",10),e.k0s()),2&s&&(e.R7$(14),e.Y8G("options",n.customOptions),e.R7$(1),e.Y8G("ngForOf",n.spellCards),e.R7$(4),e.Y8G("options",n.customOptions),e.R7$(1),e.Y8G("ngForOf",n.trapCards),e.R7$(4),e.Y8G("options",n.customOptions),e.R7$(1),e.Y8G("ngForOf",n.monsters),e.R7$(1),e.Y8G("ngIf",n.isModalOpen),e.R7$(1),e.Y8G("ngIf",n.isModalOpenAll))},dependencies:[g.Sq,g.bT,_e,ee],styles:[".custom-outline[_ngcontent-%COMP%]{-webkit-text-stroke:.5px white}\n\n/*# sourceMappingURL=forbidden-cards.component.css.map*/"]})}}return r})();var en=u(6375),E=u(4456);const tn=["messagesContainer"];function sn(r,o){if(1&r&&(e.j41(0,"div",12)(1,"div",13)(2,"p",14),e.EFF(3),e.k0s(),e.j41(4,"p",15),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&r){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.content),e.R7$(2),e.SpI(" ",e.i5U(6,2,t.sentAt,"MMM d, y, hh:mm a")," ")}}function nn(r,o){if(1&r&&(e.j41(0,"div",16)(1,"div",17)(2,"p",14),e.EFF(3),e.k0s(),e.j41(4,"p",15),e.EFF(5),e.nI1(6,"date"),e.k0s()()()),2&r){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.content),e.R7$(2),e.SpI(" ",e.i5U(6,2,t.sentAt,"MMM d, y, hh:mm a")," ")}}function rn(r,o){if(1&r&&(e.j41(0,"div",9),e.DNE(1,sn,7,5,"div",10),e.DNE(2,nn,7,5,"div",11),e.k0s()),2&r){const t=o.$implicit;e.R7$(1),e.Y8G("ngIf",!t.isFromAdmin),e.R7$(1),e.Y8G("ngIf",t.isFromAdmin)}}const an=[{path:"",redirectTo:"ranking",pathMatch:"full"},{path:"league-table",component:Ae},{path:"ranking",component:lt},{path:"groups-table",component:se},{path:"groups-matches-table",component:te},{path:"allLeagues",component:Xs},{path:"forbidden",component:Js},{path:"inbox",component:(()=>{class r{constructor(t,s,n){this.messageService=t,this.toastr=s,this.cdr=n,this.messages=[],this.newMessage=""}ngOnInit(){this.loadMessages()}ngAfterViewChecked(){this.cdr.detectChanges(),this.scrollToBottom()}loadMessages(){this.messageService.getPlayerMessages().subscribe({next:t=>{t&&t.messages?(this.messages=t.messages.filter(s=>!s.isDeleted).sort((s,n)=>new Date(s.sentAt).getTime()-new Date(n.sentAt).getTime()),this.cdr.detectChanges()):this.toastr.info("\u0644\u0627 \u064a\u0648\u062c\u062f \u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u0622\u0646")},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0631\u0633\u0627\u0626\u0644")}})}sendMessage(){this.newMessage.trim()?this.messageService.sendMessage(this.newMessage).subscribe({next:t=>{t.success?(this.toastr.success("\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629"),this.newMessage="",this.loadMessages(),this.cdr.detectChanges()):this.toastr.error(t.message||"\u0641\u0634\u0644 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629")},error:t=>{this.toastr.error("\u062d\u0635\u0644 \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0631\u0633\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629")}}):this.toastr.warning("\u0627\u0644\u0631\u062c\u0627\u0621 \u0643\u062a\u0627\u0628\u0629 \u0631\u0633\u0627\u0644\u0629")}scrollToBottom(){if(this.messagesContainer){const t=this.messagesContainer.nativeElement;t.scrollTop=t.scrollHeight}}static{this.\u0275fac=function(s){return new(s||r)(e.rXU(en.b),e.rXU(M.tw),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-player-inbox"]],viewQuery:function(s,n){if(1&s&&e.GBs(tn,5),2&s){let i;e.mGM(i=e.lsd())&&(n.messagesContainer=i.first)}},decls:10,vars:3,consts:[[1,"container","mx-auto","p-4","overflow-hidden"],[1,"flex","flex-col","h-full","bg-transparent"],[1,"flex-1","p-4","overflow-y-auto","max-h-[calc(100vh-200px)]"],["messagesContainer",""],["class","mb-4",4,"ngFor","ngForOf"],[1,"p-4","bg-transparent","border-t","border-gray-700"],[1,"flex","items-center","gap-2",3,"ngSubmit"],["type","text","name","newMessage","placeholder","Write Your Message...",1,"flex-1","p-2","bg-black","bg-opacity-50","text-white","border","border-gray-700","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-gray-300","placeholder-gray-400",3,"ngModel","ngModelChange"],["type","submit",1,"bg-gray-800","text-white","p-2","rounded-lg","hover:bg-gray-700","disabled:bg-gray-600",3,"disabled"],[1,"mb-4"],["class","flex justify-end",4,"ngIf"],["class","flex justify-start",4,"ngIf"],[1,"flex","justify-end"],[1,"max-w-xs","bg-green-500","bg-opacity-50","text-white","rounded-lg","p-3","shadow-md","backdrop-blur-sm"],[1,"text-sm"],[1,"text-xs","mt-1","text-gray-300"],[1,"flex","justify-start"],[1,"max-w-xs","bg-gray-300","bg-opacity-50","text-white","rounded-lg","p-3","shadow-md","backdrop-blur-sm"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2,3),e.DNE(4,rn,3,2,"div",4),e.k0s(),e.j41(5,"div",5)(6,"form",6),e.bIt("ngSubmit",function(){return n.sendMessage()}),e.j41(7,"input",7),e.bIt("ngModelChange",function(a){return n.newMessage=a}),e.k0s(),e.j41(8,"button",8),e.EFF(9," Send "),e.k0s()()()()()),2&s&&(e.R7$(4),e.Y8G("ngForOf",n.messages),e.R7$(3),e.Y8G("ngModel",n.newMessage),e.R7$(1),e.Y8G("disabled",!n.newMessage))},dependencies:[g.Sq,g.bT,E.qT,E.me,E.BC,E.cb,E.vS,E.cV,g.vh]})}}return r})()}];let on=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[m.iI.forChild(an),m.iI]})}}return r})();var ln=u(6443),cn=u(3887);let un=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=e.$C({type:r})}static{this.\u0275inj=e.G2t({imports:[g.MD,on,ln.q1,E.YN,us,cn.G,Y]})}}return r})()},3887:(P,y,u)=>{u.d(y,{G:()=>p});var g=u(316),m=u(8450);let p=(()=>{class e{static{this.\u0275fac=function(M){return new(M||e)}}static{this.\u0275mod=m.$C({type:e})}static{this.\u0275inj=m.G2t({imports:[g.MD]})}}return e})()},5152:(P,y,u)=>{u.d(y,{U:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}}}]);
//# sourceMappingURL=835.a0b1996cce06dd77.js.map